"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75249],{461442:function(e,o,l){l.d(o,{r:function(){return Switch}});var a=l(824246),i=l(827378),s=l(955098),c=l(262506),d=l(672505),p=l(885443),m=l(471649),h=l(867881),g=l(665838),y=l(506463),T=l(308061),w=l(919117),x=l(851858),P=l(673562),O=l(741721);let R=(0,i.createContext)(null);R.displayName="GroupContext";let A=i.Fragment,k=Object.assign((0,s.yV)(function(e,o){let l=(0,c.M)(),{id:a=`headlessui-switch-${l}`,checked:m,defaultChecked:h=!1,onChange:A,name:k,value:I,...C}=e,M=(0,i.useContext)(R),D=(0,i.useRef)(null),j=(0,y.T)(D,o,null===M?null:M.setSwitch),[N,F]=(0,P.q)(m,A,h),z=(0,x.z)(()=>null==F?void 0:F(!N)),L=(0,x.z)(e=>{if((0,p.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),z()}),J=(0,x.z)(e=>{e.key===d.R.Space?(e.preventDefault(),z()):e.key===d.R.Enter&&(0,w.g)(e.currentTarget)}),V=(0,x.z)(e=>e.preventDefault()),K=(0,i.useMemo)(()=>({checked:N}),[N]),B={id:a,ref:j,role:"switch",type:(0,g.f)(e,D),tabIndex:0,"aria-checked":N,"aria-labelledby":null==M?void 0:M.labelledby,"aria-describedby":null==M?void 0:M.describedby,onClick:L,onKeyUp:J,onKeyPress:V},U=(0,O.G)();return(0,i.useEffect)(()=>{var e;let o=null==(e=D.current)?void 0:e.closest("form");o&&void 0!==h&&U.addEventListener(o,"reset",()=>{F(h)})},[D,F]),i.createElement(i.Fragment,null,null!=k&&N&&i.createElement(T._,{features:T.A.Hidden,...(0,s.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:N,name:k,value:I})}),(0,s.sY)({ourProps:B,theirProps:C,slot:K,defaultTag:"button",name:"Switch"}))}),{Group:function(e){let[o,l]=(0,i.useState)(null),[a,c]=(0,m.b)(),[d,p]=(0,h.f)(),g=(0,i.useMemo)(()=>({switch:o,setSwitch:l,labelledby:a,describedby:d}),[o,l,a,d]);return i.createElement(p,{name:"Switch.Description"},i.createElement(c,{name:"Switch.Label",props:{onClick(){o&&(o.click(),o.focus({preventScroll:!0}))}}},i.createElement(R.Provider,{value:g},(0,s.sY)({ourProps:{},theirProps:e,defaultTag:A,name:"Switch.Group"}))))},Label:m._,Description:h.d});var I=l(720227),C=l(901286),M=l(601148),D=l(667332),__rest=function(e,o){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>o.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>o.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(l[a[i]]=e[a[i]]);return l};let j={checked:!1,labelPlacement:"right"},N={top:"flex-col-reverse",bottom:"flex-col",left:"flex-row-reverse",right:"flex-row"},Switch=e=>{var{label:o,altDescription:l,required:i,checked:s=j.checked,className:c,disabled:d,"data-testid":p,labelPlacement:m=j.labelPlacement,helperText:h,size:g="medium",error:y,onCheckedChange:T,labelDescription:w,tooltipContentClassName:x,id:P}=e,O=__rest(e,["label","altDescription","required","checked","className","disabled","data-testid","labelPlacement","helperText","size","error","onCheckedChange","labelDescription","tooltipContentClassName","id"]);return(0,a.jsx)("div",{className:(0,I.m)("scaleui grid gap-2 group/ScaleUISwitch",d&&"cursor-not-allowed pointer-events-none",c),id:P,tabIndex:-1,children:(0,a.jsx)(k.Group,{children:(0,a.jsxs)("div",{className:(0,I.m)("flex items-center gap-x-4 gap-y-3",N[m]),children:[(0,a.jsx)("div",{className:"grid items-center px-0.5",children:(0,a.jsxs)(k,Object.assign({},O,{checked:s,disabled:d,className:(0,I.m)("relative inline-flex h-3 px-1 items-center rounded-full transition-colors group focus:ring-none",d&&"bg-opacity-40",s?"bg-primary-200":"bg-neutral-200","small"===g?"w-6 h-2":"medium"===g?"w-8 h-3":"large"===g?"w-10 h-4":""),"data-testid":(0,C.l)(p),onChange:T,children:[(0,a.jsx)("span",{className:"sr-only",children:l}),(0,a.jsx)("span",{className:(0,I.m)("inline-block transform rounded-full transition group-focus:ring-2 ",s?"translate-x-5 bg-primary-500 ring-primary-100":"-translate-x-1 bg-neutral-400 ring-neutral-100",d&&"bg-opacity-40","small"===g&&`w-4 h-4 ${s?"translate-x-3":""} `,"medium"===g&&`w-5 h-5 ${s?"translate-x-4":""} `,"large"===g&&`w-6 h-6 ${s?"translate-x-5":""} `)})]}))}),o||i||h?(0,a.jsxs)("div",{className:(0,I.m)("grid items-center justify-start"),children:[(0,a.jsx)("div",{className:"flex gap-1",children:o?(0,a.jsx)(M.A,{labelClassName:"group-focus/ScaleUISwitch:text-primary-400",required:i,disabled:d,error:y,size:"small"===g?"sm":"medium"===g?"md":"lg",labelDescription:w,tooltipContentClassName:x,children:o}):null}),h?(0,a.jsx)(D.p,{disabled:d,error:y,children:h}):null]}):null]})})})}},916115:function(e,o,l){l.d(o,{m:function(){return Tabs}});var a=l(824246),i=l(792739),s=l(720227);let Tabs=({tabs:e,value:o,onChange:l,variant:c,className:d})=>(0,a.jsx)("div",{className:(0,s.m)("border-0 border-b border-solid scaleui border-neutral-200",d),children:(0,a.jsx)("nav",{className:"flex -mb-px space-x-4","aria-label":"Tabs",children:e.map(e=>{var d;let p=null!==(d=e.label)&&void 0!==d?d:e.id;return(0,a.jsx)("button",{type:"button",disabled:e.disabled,className:(0,s.m)("whitespace-nowrap py-2 px-1 border-0 border-solid border-b-2 font-medium text-sm",e.id===o?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300","fill"===c&&"w-full"),"aria-current":e.id===o?"page":void 0,onClick:()=>l(e.id),children:(0,a.jsxs)("span",{className:"flex items-center",children:[e.icon&&(0,a.jsx)(i.FontAwesomeIcon,{icon:e.icon,className:"mr-2"}),p,e.suffix&&(0,a.jsx)("span",{className:"ml-1",children:e.suffix})]})},e.id)})})})},339389:function(e,o,l){l.d(o,{K:function(){return TextArea}});var a=l(824246),i=l(827378),s=l(720227),c=l(601148),d=l(667332),__rest=function(e,o){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>o.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>o.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(l[a[i]]=e[a[i]]);return l};let p={rows:4,resizable:!0,initialResize:!0,disabled:!1},TextArea=e=>{var{label:o,id:l,className:m,textAreaWrapperClassName:h,textAreaClassName:g,rows:y=p.rows,resizable:T=p.resizable,mainDescription:w,description:x,error:P,dynamic:O,required:R,labelTooltip:A,helperText:k,initialResize:I=p.initialResize,disabled:C=p.disabled}=e,M=__rest(e,["label","id","className","textAreaWrapperClassName","textAreaClassName","rows","resizable","mainDescription","description","error","dynamic","required","labelTooltip","helperText","initialResize","disabled"]);let D=(0,i.useRef)(null),j=I&&O?void 0:y,adjustDynamicHeight=()=>{let e=D.current;O&&e&&(e.style.height="auto",e.style.height=`${e.scrollHeight+2}px`)};return I&&adjustDynamicHeight(),(0,a.jsxs)("div",{className:(0,s.m)("scaleui",m),children:[o&&(0,a.jsx)(c.A,{required:R,error:P,disabled:C,labelDescription:A,children:o}),w&&(0,a.jsx)("p",{className:(0,s.m)("my-2 text-sm",P?"text-danger-600":"text-neutral-500"),id:`${l}-main-description`,children:w}),(0,a.jsxs)("div",{className:(0,s.m)("space-y-1",h),children:[(0,a.jsx)("textarea",Object.assign({},M,{disabled:C,rows:j,required:R,ref:D,name:M.name||l,id:l,className:(0,s.m)("block w-full rounded-md py-2 text-neutral-900 sm:text-sm shadow-sm border-1 placeholder:text-neutral-400 transition outline-none bg-neutral-0 min-h-[38px]",P?"focus:border-danger-400 focus:ring-danger-400 border-danger-400 ring-danger-400 outline-1 outline-danger-400 outline":"focus:border-primary-400 focus:ring-primary-400 border-neutral-300",(O||!T)&&"resize-none ",C&&"bg-neutral-50 text-neutral-500 cursor-not-allowed",g),onInput:e=>{var o;adjustDynamicHeight(),null===(o=M.onInput)||void 0===o||o.call(M,e)},onFocus:e=>{var o;null===(o=M.onFocus)||void 0===o||o.call(M,e),I||adjustDynamicHeight()}},M)),x||k?(0,a.jsx)(d.p,{error:P,className:"px-1 w-full",children:x||k}):null]})]})}},372680:function(e,o){var l,a;Object.defineProperty(o,"__esModule",{value:!0}),o.REQUEST_PROJECT_ROLES_LINK=o.userHasActiveSpecificRole=o.shouldShowRemoAdminProjectRole=o.RoleList=o.RoleDescription=o.Role=void 0,o.Role=l,(a=l||(o.Role=l={})).EM="Engagement Manager",a.STO="STO",a.DRI="Ops DRI",a.QualitySystems="Quality Systems",a.CoursesInstructions="Courses and Instructions",a.QM="QM",a.TaskerManagement="Tasker Management",a.QualityAudits="Quality Audits",a.QARValidator="QM QAR Validator",a.QIRValidator="QM QIR Validator",a.QARAuditor="QAR Auditor",a.QIRAuditor="QIR Auditor",a.ProjectPlanning="Project Planning",a.TaskerCommunication="Tasker Communication",a.EngineeringSupport="Engineering Support",a.RemoAdminQATasker="RemoAdmin QA/Tasker",a.RemoAdminReviewer="RemoAdmin Reviewer",a.KeepLoopRemoAdmin="Keep in Loop (with RemoAdmin)",a.KeepLoop="Keep in Loop",a.OPs="Ops (Unspecified Role, Performing Project Work)",a.DeliveryOpsTeamMember="Delivery Ops Team Member",a.CentralOpsTeamMember="Central Ops Team Member",a.NonDeliveryFunction="Non-Delivery Function",a.DeliveryEng="Delivery Eng";let i={[l.EM]:{role:l.EM,label:"Engagement Manager",helpText:"This person is responsible for the customer relationship and tracking consumption, amongst other things."},[l.STO]:{role:l.STO,label:"STO",helpText:"Single Threaded Owner. Main person responsible for project execution and results."},[l.DRI]:{role:l.DRI,label:"Ops DRI",helpText:"This is the person responsible for delivering quality and throughput for that specific queue."},[l.QualitySystems]:{role:l.QualitySystems,label:"Quality Systems",helpText:"This person configures and monitors the systems used to measure tasker and annotation quality on the queue."},[l.CoursesInstructions]:{role:l.CoursesInstructions,label:"Courses and Instructions",helpText:"This person works to create and maintain clear instructions and effective courses."},[l.QM]:{role:l.QM,label:"QM",helpText:"Queue Manager. This person is responsible for adjusting the queue to make sure SLAs are attained and taskers are properly incentivized."},[l.TaskerManagement]:{role:l.TaskerManagement,label:"Tasker Management",helpText:"This person manages allocation, promotions, demotions, and disabling permissions for tasters on this project."},[l.QualityAudits]:{role:l.QualityAudits,label:"Quality Audits",helpText:"This person is directly auditing work from taskers to identify quality issues."},[l.QARValidator]:{role:l.QARValidator,label:"QM QAR Validator",helpText:"This person is responsible for resolving issues identified in the queue by the QAR process."},[l.QIRValidator]:{role:l.QIRValidator,label:"QM QIR Validator",helpText:"This person is responsible for resolving issues identified in the queue by the QIR process."},[l.QARAuditor]:{role:l.QARAuditor,label:"QAR Auditor",helpText:"A person from the QAR team that is responsible for identifying issues in the queue by the QAR process."},[l.QIRAuditor]:{role:l.QIRAuditor,label:"QIR Auditor",helpText:"A person from the QIR team that is responsible for identifying issues in the queue by the QIR process."},[l.ProjectPlanning]:{role:l.ProjectPlanning,label:"Project Planning",helpText:"This person is responsible for ensuring throughput and/or turnaround time is hitting targets."},[l.TaskerCommunication]:{role:l.TaskerCommunication,label:"Tasker Communication",helpText:"This person is communicating with taskers or tasker support resources to answer questions and resolve concerns."},[l.EngineeringSupport]:{role:l.EngineeringSupport,label:"Engineering Support",helpText:"This is someone supporting the project in a technical capacity — either as a FE, SWE, SE, or MLE."},[l.RemoAdminQATasker]:{role:l.RemoAdminQATasker,label:"RemoAdmin QA/Tasker",helpText:"RemoAdmin QA or Tasker."},[l.RemoAdminReviewer]:{role:l.RemoAdminReviewer,label:"RemoAdmin Operation Reviewer",helpText:"Reviews QA Operations and work performed by RemoAdmin QAs/Taskers."},[l.KeepLoopRemoAdmin]:{role:l.KeepLoopRemoAdmin,label:"Keep in Loop (with RemoAdmin)",helpText:'This is the same as "Keep in Loop". The difference is that this gives access to the project in RemoAdmin, so it needs authorization.'},[l.KeepLoop]:{role:l.KeepLoop,label:"Keep in Loop",helpText:"This is someone who doesn't fit into the other categories but who wants to be informed about this project."},[l.OPs]:{role:l.OPs,label:"Ops (Unspecified Role, Performing Project Work)",helpText:"Ops (Unspecified Role, Performing Project Work)."},[l.DeliveryOpsTeamMember]:{role:l.DeliveryOpsTeamMember,label:"Delivery Ops Team Member",helpText:"Catch-all role for all OPMs, OAs, non-STO SPLs, etc. that are working on the project."},[l.CentralOpsTeamMember]:{role:l.CentralOpsTeamMember,label:"Central Ops Team Member",helpText:"Non-member of the Operations team person allowed to work on the project."},[l.NonDeliveryFunction]:{role:l.NonDeliveryFunction,label:"Non-Delivery Function",helpText:"Someone who is not part of the delivery team but needs temporary access to the project."},[l.DeliveryEng]:{role:l.DeliveryEng,label:"Delivery Eng",helpText:"Delivery Engineers (SWE, FDE, MLDE, etc.) who can approve taxonomy changes and deliver data to the customer"}};o.RoleDescription=i;let s=[i[l.EM],i[l.STO],i[l.DeliveryOpsTeamMember],i[l.CentralOpsTeamMember]];o.RoleList=s;let c=new Set([l.RemoAdminQATasker,l.KeepLoopRemoAdmin,l.RemoAdminReviewer]);o.shouldShowRemoAdminProjectRole=e=>{let o=e.role&&c.has(e.role),l=!0===e.user.isRemoAdmin,a=[];e.user.remoAdminPersonas?.forEach(e=>{e.enabled&&e.projects?.forEach(e=>{a.push(e)})});let i=a.includes(e.project._id);return!o||o&&l&&i},o.userHasActiveSpecificRole=(e,o,l)=>l.find(l=>l.role===e&&l.user._id===o&&new Date(l.startDate)<new Date&&(!l.stopDate||new Date(l.stopDate)>new Date)),o.REQUEST_PROJECT_ROLES_LINK="https://scale.atlassian.net/servicedesk/customer/portal/35"},223841:function(e,o,l){var a=l(786192);o.Z=function(e,o,l){void 0===o&&(o=0),void 0===l&&(l=[]),(0,a.Z)(function(){var l=setTimeout(e,o);return function(){clearTimeout(l)}},l)}},786192:function(e,o,l){var a=l(827378);o.Z=function(e,o){var l=(0,a.useRef)(!0);(0,a.useEffect)(function(){if(!l.current)return e();l.current=!1},o)}},930640:function(e,o,l){l.d(o,{J:function(){return B}});var a,i,s=l(827378),c=l(257953),d=l(436616),p=l(492296),m=l(822652),h=l(507723),g=l(54518),y=l(904818),T=l(901635),w=l(562722),x=l(116490),P=l(70458),O=l(237957),R=l(26822),A=l(914784),k=l(711981),I=l(11119),C=l(437349),M=l(285804),D=((a=D||{})[a.Open=0]="Open",a[a.Closed=1]="Closed",a),j=((i=j||{})[i.TogglePopover=0]="TogglePopover",i[i.ClosePopover=1]="ClosePopover",i[i.SetButton=2]="SetButton",i[i.SetButtonId=3]="SetButtonId",i[i.SetPanel=4]="SetPanel",i[i.SetPanelId=5]="SetPanelId",i);let N={0:e=>({...e,popoverState:(0,c.E)(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,o)=>e.button===o.button?e:{...e,button:o.button},3:(e,o)=>e.buttonId===o.buttonId?e:{...e,buttonId:o.buttonId},4:(e,o)=>e.panel===o.panel?e:{...e,panel:o.panel},5:(e,o)=>e.panelId===o.panelId?e:{...e,panelId:o.panelId}},F=(0,s.createContext)(null);function Q(e){let o=(0,s.useContext)(F);if(null===o){let o=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Q),o}return o}F.displayName="PopoverContext";let z=(0,s.createContext)(null);function ae(e){let o=(0,s.useContext)(z);if(null===o){let o=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,ae),o}return o}z.displayName="PopoverAPIContext";let L=(0,s.createContext)(null);function ve(){return(0,s.useContext)(L)}L.displayName="PopoverGroupContext";let J=(0,s.createContext)(null);function Me(e,o){return(0,c.E)(o.type,N,e,o)}J.displayName="PopoverPanelContext";let V=d.AN.RenderStrategy|d.AN.Static,K=d.AN.RenderStrategy|d.AN.Static,B=Object.assign((0,d.yV)(function(e,o){var l;let a=(0,s.useRef)(null),i=(0,p.T)(o,(0,p.h)(e=>{a.current=e})),m=(0,s.useRef)([]),h=(0,s.useReducer)(Me,{popoverState:1,buttons:m,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,s.createRef)(),afterPanelSentinel:(0,s.createRef)()}),[{popoverState:g,button:w,buttonId:P,panel:A,panelId:I,beforePanelSentinel:M,afterPanelSentinel:D},j]=h,N=(0,O.i)(null!=(l=a.current)?l:w),L=(0,s.useMemo)(()=>{if(!w||!A)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(w))^Number(null==e?void 0:e.contains(A)))return!0;let e=(0,y.GO)(),o=e.indexOf(w),l=(o+e.length-1)%e.length,a=(o+1)%e.length,i=e[l],s=e[a];return!A.contains(i)&&!A.contains(s)},[w,A]),J=(0,C.E)(P),V=(0,C.E)(I),K=(0,s.useMemo)(()=>({buttonId:J,panelId:V,close:()=>j({type:1})}),[J,V,j]),B=ve(),U=null==B?void 0:B.registerPopover,q=(0,k.z)(()=>{var e;return null!=(e=null==B?void 0:B.isFocusWithinPopoverGroup())?e:(null==N?void 0:N.activeElement)&&((null==w?void 0:w.contains(N.activeElement))||(null==A?void 0:A.contains(N.activeElement)))});(0,s.useEffect)(()=>null==U?void 0:U(K),[U,K]),(0,R.O)(null==N?void 0:N.defaultView,"focus",e=>{var o,l,a,i;0===g&&(q()||w&&A&&e.target!==window&&(null!=(l=null==(o=M.current)?void 0:o.contains)&&l.call(o,e.target)||null!=(i=null==(a=D.current)?void 0:a.contains)&&i.call(a,e.target)||j({type:1})))},!0),(0,x.O)([w,A],(e,o)=>{j({type:1}),(0,y.sP)(o,y.tJ.Loose)||(e.preventDefault(),null==w||w.focus())},0===g);let $=(0,k.z)(e=>{j({type:1});let o=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:w:w;null==o||o.focus()}),G=(0,s.useMemo)(()=>({close:$,isPortalled:L}),[$,L]),Z=(0,s.useMemo)(()=>({open:0===g,close:$}),[g,$]);return s.createElement(F.Provider,{value:h},s.createElement(z.Provider,{value:G},s.createElement(T.up,{value:(0,c.E)(g,{0:T.ZM.Open,1:T.ZM.Closed})},(0,d.sY)({ourProps:{ref:i},theirProps:e,slot:Z,defaultTag:"div",name:"Popover"}))))}),{Button:(0,d.yV)(function(e,o){let l=(0,m.M)(),{id:a=`headlessui-popover-button-${l}`,...i}=e,[T,x]=Q("Popover.Button"),{isPortalled:P}=ae("Popover.Button"),R=(0,s.useRef)(null),C=`headlessui-focus-sentinel-${(0,m.M)()}`,M=ve(),D=null==M?void 0:M.closeOthers,j=(0,s.useContext)(J),N=null!==j&&j===T.panelId;(0,s.useEffect)(()=>{if(!N)return x({type:3,buttonId:a}),()=>{x({type:3,buttonId:null})}},[N,a,x]);let[F]=(0,s.useState)(()=>Symbol()),z=(0,p.T)(R,o,N?null:e=>{if(e)T.buttons.current.push(F);else{let e=T.buttons.current.indexOf(F);-1!==e&&T.buttons.current.splice(e,1)}T.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&x({type:2,button:e})}),L=(0,p.T)(R,o),V=(0,O.i)(R),K=(0,k.z)(e=>{var o,l,a;if(N){if(1===T.popoverState)return;switch(e.key){case h.R.Space:case h.R.Enter:e.preventDefault(),null==(l=(o=e.target).click)||l.call(o),x({type:1}),null==(a=T.button)||a.focus()}}else switch(e.key){case h.R.Space:case h.R.Enter:e.preventDefault(),e.stopPropagation(),1===T.popoverState&&(null==D||D(T.buttonId)),x({type:0});break;case h.R.Escape:if(0!==T.popoverState)return null==D?void 0:D(T.buttonId);if(!R.current||null!=V&&V.activeElement&&!R.current.contains(V.activeElement))return;e.preventDefault(),e.stopPropagation(),x({type:1})}}),B=(0,k.z)(e=>{N||e.key===h.R.Space&&e.preventDefault()}),U=(0,k.z)(o=>{var l,a;(0,g.P)(o.currentTarget)||e.disabled||(N?(x({type:1}),null==(l=T.button)||l.focus()):(o.preventDefault(),o.stopPropagation(),1===T.popoverState&&(null==D||D(T.buttonId)),x({type:0}),null==(a=T.button)||a.focus()))}),q=(0,k.z)(e=>{e.preventDefault(),e.stopPropagation()}),$=0===T.popoverState,G=(0,s.useMemo)(()=>({open:$}),[$]),Z=(0,w.f)(e,R),W=N?{ref:L,type:Z,onKeyDown:K,onClick:U}:{ref:z,id:T.buttonId,type:Z,"aria-expanded":e.disabled?void 0:0===T.popoverState,"aria-controls":T.panel?T.panelId:void 0,onKeyDown:K,onKeyUp:B,onClick:U,onMouseDown:q},Y=(0,I.l)(),X=(0,k.z)(()=>{let e=T.panel;e&&(0,c.E)(Y.current,{[I.N.Forwards]:()=>(0,y.jA)(e,y.TO.First),[I.N.Backwards]:()=>(0,y.jA)(e,y.TO.Last)})===y.fE.Error&&(0,y.jA)((0,y.GO)().filter(e=>"true"!==e.dataset.headlessuiFocusGuard),(0,c.E)(Y.current,{[I.N.Forwards]:y.TO.Next,[I.N.Backwards]:y.TO.Previous}),{relativeTo:T.button})});return s.createElement(s.Fragment,null,(0,d.sY)({ourProps:W,theirProps:i,slot:G,defaultTag:"button",name:"Popover.Button"}),$&&!N&&P&&s.createElement(A._,{id:C,features:A.A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X}))}),Overlay:(0,d.yV)(function(e,o){let l=(0,m.M)(),{id:a=`headlessui-popover-overlay-${l}`,...i}=e,[{popoverState:c},h]=Q("Popover.Overlay"),y=(0,p.T)(o),w=(0,T.oJ)(),x=null!==w?(w&T.ZM.Open)===T.ZM.Open:0===c,P=(0,k.z)(e=>{if((0,g.P)(e.currentTarget))return e.preventDefault();h({type:1})}),O=(0,s.useMemo)(()=>({open:0===c}),[c]);return(0,d.sY)({ourProps:{ref:y,id:a,"aria-hidden":!0,onClick:P},theirProps:i,slot:O,defaultTag:"div",features:V,visible:x,name:"Popover.Overlay"})}),Panel:(0,d.yV)(function(e,o){let l=(0,m.M)(),{id:a=`headlessui-popover-panel-${l}`,focus:i=!1,...g}=e,[w,x]=Q("Popover.Panel"),{close:P,isPortalled:R}=ae("Popover.Panel"),C=`headlessui-focus-sentinel-before-${(0,m.M)()}`,D=`headlessui-focus-sentinel-after-${(0,m.M)()}`,j=(0,s.useRef)(null),N=(0,p.T)(j,o,e=>{x({type:4,panel:e})}),F=(0,O.i)(j);(0,M.e)(()=>(x({type:5,panelId:a}),()=>{x({type:5,panelId:null})}),[a,x]);let z=(0,T.oJ)(),L=null!==z?(z&T.ZM.Open)===T.ZM.Open:0===w.popoverState,V=(0,k.z)(e=>{var o;if(e.key===h.R.Escape){if(0!==w.popoverState||!j.current||null!=F&&F.activeElement&&!j.current.contains(F.activeElement))return;e.preventDefault(),e.stopPropagation(),x({type:1}),null==(o=w.button)||o.focus()}});(0,s.useEffect)(()=>{var o;e.static||1===w.popoverState&&(null==(o=e.unmount)||o)&&x({type:4,panel:null})},[w.popoverState,e.unmount,e.static,x]),(0,s.useEffect)(()=>{if(!i||0!==w.popoverState||!j.current)return;let e=null==F?void 0:F.activeElement;j.current.contains(e)||(0,y.jA)(j.current,y.TO.First)},[i,j,w.popoverState]);let B=(0,s.useMemo)(()=>({open:0===w.popoverState,close:P}),[w,P]),U={ref:N,id:a,onKeyDown:V,onBlur:i&&0===w.popoverState?e=>{var o,l,a,i,s;let c=e.relatedTarget;c&&j.current&&(null!=(o=j.current)&&o.contains(c)||(x({type:1}),(null!=(a=null==(l=w.beforePanelSentinel.current)?void 0:l.contains)&&a.call(l,c)||null!=(s=null==(i=w.afterPanelSentinel.current)?void 0:i.contains)&&s.call(i,c))&&c.focus({preventScroll:!0})))}:void 0,tabIndex:-1},q=(0,I.l)(),$=(0,k.z)(()=>{let e=j.current;e&&(0,c.E)(q.current,{[I.N.Forwards]:()=>{var o;(0,y.jA)(e,y.TO.First)===y.fE.Error&&(null==(o=w.afterPanelSentinel.current)||o.focus())},[I.N.Backwards]:()=>{var e;null==(e=w.button)||e.focus({preventScroll:!0})}})}),G=(0,k.z)(()=>{let e=j.current;e&&(0,c.E)(q.current,{[I.N.Forwards]:()=>{var e;if(!w.button)return;let o=(0,y.GO)(),l=o.indexOf(w.button),a=o.slice(0,l+1),i=[...o.slice(l+1),...a];for(let o of i.slice())if("true"===o.dataset.headlessuiFocusGuard||null!=(e=w.panel)&&e.contains(o)){let e=i.indexOf(o);-1!==e&&i.splice(e,1)}(0,y.jA)(i,y.TO.First,{sorted:!1})},[I.N.Backwards]:()=>{var o;(0,y.jA)(e,y.TO.Previous)===y.fE.Error&&(null==(o=w.button)||o.focus())}})});return s.createElement(J.Provider,{value:a},L&&R&&s.createElement(A._,{id:C,ref:w.beforePanelSentinel,features:A.A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:$}),(0,d.sY)({ourProps:U,theirProps:g,slot:B,defaultTag:"div",features:K,visible:L,name:"Popover.Panel"}),L&&R&&s.createElement(A._,{id:D,ref:w.afterPanelSentinel,features:A.A.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:G}))}),Group:(0,d.yV)(function(e,o){let l=(0,s.useRef)(null),a=(0,p.T)(l,o),[i,c]=(0,s.useState)([]),m=(0,k.z)(e=>{c(o=>{let l=o.indexOf(e);if(-1!==l){let e=o.slice();return e.splice(l,1),e}return o})}),h=(0,k.z)(e=>(c(o=>[...o,e]),()=>m(e))),g=(0,k.z)(()=>{var e;let o=(0,P.r)(l);if(!o)return!1;let a=o.activeElement;return!!(null!=(e=l.current)&&e.contains(a))||i.some(e=>{var l,i;return(null==(l=o.getElementById(e.buttonId.current))?void 0:l.contains(a))||(null==(i=o.getElementById(e.panelId.current))?void 0:i.contains(a))})}),y=(0,k.z)(e=>{for(let o of i)o.buttonId.current!==e&&o.close()}),T=(0,s.useMemo)(()=>({registerPopover:h,unregisterPopover:m,isFocusWithinPopoverGroup:g,closeOthers:y}),[h,m,g,y]),w=(0,s.useMemo)(()=>({}),[]);return s.createElement(L.Provider,{value:T},(0,d.sY)({ourProps:{ref:a},theirProps:e,slot:w,defaultTag:"div",name:"Popover.Group"}))})})},983341:function(e,o,l){l.d(o,{u:function(){return F}});var a,i=l(827378),s=l(436616),c=l(901635),d=l(257953),p=l(266412),m=l(285804),h=l(437349),g=l(401074),y=l(492296),T=l(271907);function v(e,...o){e&&o.length>0&&e.classList.add(...o)}function f(e,...o){e&&o.length>0&&e.classList.remove(...o)}var w=l(984625),x=l(711981),P=l(382622),O=l(868366),R=l(721743);function S(e=""){return e.split(" ").filter(e=>e.trim().length>1)}let A=(0,i.createContext)(null);A.displayName="TransitionContext";var k=((a=k||{}).Visible="visible",a.Hidden="hidden",a);let I=(0,i.createContext)(null);function _(e){return"children"in e?_(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function ne(e,o){let l=(0,h.E)(e),a=(0,i.useRef)([]),c=(0,p.t)(),m=(0,w.G)(),g=(0,x.z)((e,o=s.l4.Hidden)=>{let i=a.current.findIndex(({el:o})=>o===e);-1!==i&&((0,d.E)(o,{[s.l4.Unmount](){a.current.splice(i,1)},[s.l4.Hidden](){a.current[i].state="hidden"}}),m.microTask(()=>{var e;!_(a)&&c.current&&(null==(e=l.current)||e.call(l))}))}),y=(0,x.z)(e=>{let o=a.current.find(({el:o})=>o===e);return o?"visible"!==o.state&&(o.state="visible"):a.current.push({el:e,state:"visible"}),()=>g(e,s.l4.Unmount)}),T=(0,i.useRef)([]),P=(0,i.useRef)(Promise.resolve()),O=(0,i.useRef)({enter:[],leave:[],idle:[]}),R=(0,x.z)((e,l,a)=>{T.current.splice(0),o&&(o.chains.current[l]=o.chains.current[l].filter(([o])=>o!==e)),null==o||o.chains.current[l].push([e,new Promise(e=>{T.current.push(e)})]),null==o||o.chains.current[l].push([e,new Promise(e=>{Promise.all(O.current[l].map(([e,o])=>o)).then(()=>e())})]),"enter"===l?P.current=P.current.then(()=>null==o?void 0:o.wait.current).then(()=>a(l)):a(l)}),A=(0,x.z)((e,o,l)=>{Promise.all(O.current[o].splice(0).map(([e,o])=>o)).then(()=>{var e;null==(e=T.current.shift())||e()}).then(()=>l(o))});return(0,i.useMemo)(()=>({children:a,register:y,unregister:g,onStart:R,onStop:A,wait:P,chains:O}),[y,g,a,R,A,O,P])}function xe(){}I.displayName="NestingContext";let C=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function re(e){var o;let l={};for(let a of C)l[a]=null!=(o=e[a])?o:xe;return l}let M=s.AN.RenderStrategy,D=(0,s.yV)(function(e,o){let{show:l,appear:a=!1,unmount:d,...p}=e,h=(0,i.useRef)(null),T=(0,y.T)(h,o);(0,g.H)();let w=(0,c.oJ)();if(void 0===l&&null!==w&&(l=(w&c.ZM.Open)===c.ZM.Open),![!0,!1].includes(l))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[x,P]=(0,i.useState)(l?"visible":"hidden"),O=ne(()=>{P("hidden")}),[R,k]=(0,i.useState)(!0),C=(0,i.useRef)([l]);(0,m.e)(()=>{!1!==R&&C.current[C.current.length-1]!==l&&(C.current.push(l),k(!1))},[C,l]);let D=(0,i.useMemo)(()=>({show:l,appear:a,initial:R}),[l,a,R]);(0,i.useEffect)(()=>{if(l)P("visible");else if(_(O)){let e=h.current;if(!e)return;let o=e.getBoundingClientRect();0===o.x&&0===o.y&&0===o.width&&0===o.height&&P("hidden")}else P("hidden")},[l,O]);let N={unmount:d};return i.createElement(I.Provider,{value:O},i.createElement(A.Provider,{value:D},(0,s.sY)({ourProps:{...N,as:i.Fragment,children:i.createElement(j,{ref:T,...N,...p})},theirProps:{},defaultTag:i.Fragment,features:M,visible:"visible"===x,name:"Transition"})))}),j=(0,s.yV)(function(e,o){var l;let a,{beforeEnter:k,afterEnter:C,beforeLeave:D,afterLeave:j,enter:N,enterFrom:F,enterTo:z,entered:L,leave:J,leaveFrom:V,leaveTo:K,...B}=e,U=(0,i.useRef)(null),q=(0,y.T)(U,o),$=B.unmount?s.l4.Unmount:s.l4.Hidden,{show:G,appear:Z,initial:W}=function(){let e=(0,i.useContext)(A);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[Y,X]=(0,i.useState)(G?"visible":"hidden"),ee=function(){let e=(0,i.useContext)(I);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:et,unregister:er}=ee,en=(0,i.useRef)(null);(0,i.useEffect)(()=>et(U),[et,U]),(0,i.useEffect)(()=>{if($===s.l4.Hidden&&U.current){if(G&&"visible"!==Y){X("visible");return}return(0,d.E)(Y,{hidden:()=>er(U),visible:()=>et(U)})}},[Y,U,et,er,G,$]);let eo=(0,h.E)({enter:S(N),enterFrom:S(F),enterTo:S(z),entered:S(L),leave:S(J),leaveFrom:S(V),leaveTo:S(K)}),el=(l={beforeEnter:k,afterEnter:C,beforeLeave:D,afterLeave:j},a=(0,i.useRef)(re(l)),(0,i.useEffect)(()=>{a.current=re(l)},[l]),a),ea=(0,g.H)();(0,i.useEffect)(()=>{if(ea&&"visible"===Y&&null===U.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[U,Y,ea]);let ei=W&&!Z,es=!ea||ei||en.current===G?"idle":G?"enter":"leave",eu=(0,R.V)(0),ec=(0,x.z)(e=>(0,d.E)(e,{enter:()=>{eu.addFlag(c.ZM.Opening),el.current.beforeEnter()},leave:()=>{eu.addFlag(c.ZM.Closing),el.current.beforeLeave()},idle:()=>{}})),ed=(0,x.z)(e=>(0,d.E)(e,{enter:()=>{eu.removeFlag(c.ZM.Opening),el.current.afterEnter()},leave:()=>{eu.removeFlag(c.ZM.Closing),el.current.afterLeave()},idle:()=>{}})),ep=ne(()=>{X("hidden"),er(U)},ee);(function({container:e,direction:o,classes:l,onStart:a,onStop:i}){let s=(0,p.t)(),c=(0,w.G)(),g=(0,h.E)(o);(0,m.e)(()=>{let o=(0,T.k)();c.add(o.dispose);let p=e.current;if(p&&"idle"!==g.current&&s.current){var m,h,y;let e,s,c,w,x,P,O;return o.dispose(),a.current(g.current),o.add((m=l.current,h="enter"===g.current,y=()=>{o.dispose(),i.current(g.current)},s=h?"enter":"leave",c=(0,T.k)(),w=void 0!==y?(e={called:!1},(...o)=>{if(!e.called)return e.called=!0,y(...o)}):()=>{},"enter"===s&&(p.removeAttribute("hidden"),p.style.display=""),x=(0,d.E)(s,{enter:()=>m.enter,leave:()=>m.leave}),P=(0,d.E)(s,{enter:()=>m.enterTo,leave:()=>m.leaveTo}),O=(0,d.E)(s,{enter:()=>m.enterFrom,leave:()=>m.leaveFrom}),f(p,...m.enter,...m.enterTo,...m.enterFrom,...m.leave,...m.leaveFrom,...m.leaveTo,...m.entered),v(p,...x,...O),c.nextFrame(()=>{f(p,...O),v(p,...P),function(e,o){let l=(0,T.k)();if(!e)return l.dispose;let{transitionDuration:a,transitionDelay:i}=getComputedStyle(e),[s,c]=[a,i].map(e=>{let[o=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,o)=>o-e);return o});if(s+c!==0){let a=l.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(o(),a())})}else o();l.add(()=>o()),l.dispose}(p,()=>(f(p,...x),v(p,...m.entered),w()))}),c.dispose)),o.dispose}},[o])})({container:U,classes:eo,direction:es,onStart:(0,h.E)(e=>{ep.onStart(U,e,ec)}),onStop:(0,h.E)(e=>{ep.onStop(U,e,ed),"leave"!==e||_(ep)||(X("hidden"),er(U))})}),(0,i.useEffect)(()=>{ei&&($===s.l4.Hidden?en.current=null:en.current=G)},[G,ei,Y]);let em=B;return Z&&G&&O.O.isServer&&(em={...em,className:(0,P.A)(B.className,...eo.current.enter,...eo.current.enterFrom)}),i.createElement(I.Provider,{value:ep},i.createElement(c.up,{value:(0,d.E)(Y,{visible:c.ZM.Open,hidden:c.ZM.Closed})|eu.flags},(0,s.sY)({ourProps:{ref:q},theirProps:em,defaultTag:"div",features:M,visible:"visible"===Y,name:"Transition.Child"})))}),N=(0,s.yV)(function(e,o){let l=null!==(0,i.useContext)(A),a=null!==(0,c.oJ)();return i.createElement(i.Fragment,null,!l&&a?i.createElement(D,{ref:o,...e}):i.createElement(j,{ref:o,...e}))}),F=Object.assign(D,{Child:N,Root:D})},26822:function(e,o,l){l.d(o,{O:function(){return E}});var a=l(827378),i=l(437349);function E(e,o,l,s){let c=(0,i.E)(l);(0,a.useEffect)(()=>{function r(e){c.current(e)}return(e=null!=e?e:window).addEventListener(o,r,s),()=>e.removeEventListener(o,r,s)},[e,o,s])}},721743:function(e,o,l){l.d(o,{V:function(){return b}});var a=l(827378);function b(e=0){let[o,l]=(0,a.useState)(e),i=(0,a.useCallback)(e=>l(o=>o|e),[o]),s=(0,a.useCallback)(e=>!!(o&e),[o]);return{flags:o,addFlag:i,hasFlag:s,removeFlag:(0,a.useCallback)(e=>l(o=>o&~e),[l]),toggleFlag:(0,a.useCallback)(e=>l(o=>o^e),[l])}}},266412:function(e,o,l){l.d(o,{t:function(){return f}});var a=l(827378),i=l(285804);function f(){let e=(0,a.useRef)(!1);return(0,i.e)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},237957:function(e,o,l){l.d(o,{i:function(){return n}});var a=l(827378),i=l(70458);function n(...e){return(0,a.useMemo)(()=>(0,i.r)(...e),[...e])}},11119:function(e,o,l){l.d(o,{N:function(){return c},l:function(){return n}});var a,i=l(827378),s=l(437349),c=((a=c||{})[a.Forwards=0]="Forwards",a[a.Backwards=1]="Backwards",a);function n(){var e;let o,l=(0,i.useRef)(0);return e="keydown",o=(0,s.E)(e=>{"Tab"===e.key&&(l.current=e.shiftKey?1:0)}),(0,i.useEffect)(()=>{function t(e){o.current(e)}return window.addEventListener(e,t,!0),()=>window.removeEventListener(e,t,!0)},[e,!0]),l}},471649:function(e,o,l){l.d(o,{_:function(){return h},b:function(){return H}});var a=l(827378),i=l(262506),s=l(955098),c=l(34945),d=l(506463),p=l(851858);let m=(0,a.createContext)(null);function H(){let[e,o]=(0,a.useState)([]);return[e.length>0?e.join(" "):void 0,(0,a.useMemo)(()=>function(e){let l=(0,p.z)(e=>(o(o=>[...o,e]),()=>o(o=>{let l=o.slice(),a=l.indexOf(e);return -1!==a&&l.splice(a,1),l}))),i=(0,a.useMemo)(()=>({register:l,slot:e.slot,name:e.name,props:e.props}),[l,e.slot,e.name,e.props]);return a.createElement(m.Provider,{value:i},e.children)},[o])]}let h=Object.assign((0,s.yV)(function(e,o){let l=(0,i.M)(),{id:p=`headlessui-label-${l}`,passive:h=!1,...g}=e,y=function u(){let e=(0,a.useContext)(m);if(null===e){let e=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,u),e}return e}(),T=(0,d.T)(o);(0,c.e)(()=>y.register(p),[p,y.register]);let w={ref:T,...y.props,id:p};return h&&("onClick"in w&&delete w.onClick,"onClick"in g&&delete g.onClick),(0,s.sY)({ourProps:w,theirProps:g,slot:y.slot||{},defaultTag:"label",name:y.name||"Label"})}),{})},527467:function(e,o,l){l.d(o,{FL:function(){return createJSONStorage},XR:function(){return subscribeWithSelector},mW:function(){return devtools},tJ:function(){return persist}});let a=new Map,getTrackedConnectionState=e=>{let o=a.get(e);return o?Object.fromEntries(Object.entries(o.stores).map(([e,o])=>[e,o.getState()])):{}},extractConnectionInformation=(e,o,l)=>{if(void 0===e)return{type:"untracked",connection:o.connect(l)};let i=a.get(l.name);if(i)return{type:"tracked",store:e,...i};let s={connection:o.connect(l),stores:{}};return a.set(l.name,s),{type:"tracked",store:e,...s}},devtools=(e,o={})=>(l,a,i)=>{let s;let{enabled:c,anonymousActionType:d,store:p,...m}=o;try{s=(null==c||c)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!s)return c&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(l,a,i);let{connection:h,...g}=extractConnectionInformation(p,s,m),y=!0;i.setState=(e,o,s)=>{let c=l(e,o);if(!y)return c;let g=void 0===s?{type:d||"anonymous"}:"string"==typeof s?{type:s}:s;return void 0===p?null==h||h.send(g,a()):null==h||h.send({...g,type:`${p}/${g.type}`},{...getTrackedConnectionState(m.name),[p]:i.getState()}),c};let setStateFromDevtools=(...e)=>{let o=y;y=!1,l(...e),y=o},T=e(i.setState,a,i);if("untracked"===g.type?null==h||h.init(T):(g.stores[g.store]=i,null==h||h.init(Object.fromEntries(Object.entries(g.stores).map(([e,o])=>[e,e===g.store?T:o.getState()])))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){let e=!1,o=i.dispatch;i.dispatch=(...l)=>{"__setState"!==l[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),o(...l)}}return h.subscribe(e=>{var o;switch(e.type){case"ACTION":if("string"!=typeof e.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return parseJsonThen(e.payload,e=>{if("__setState"===e.type){if(void 0===p){setStateFromDevtools(e.state);return}1!==Object.keys(e.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let o=e.state[p];if(null==o)return;JSON.stringify(i.getState())!==JSON.stringify(o)&&setStateFromDevtools(o);return}i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(setStateFromDevtools(T),void 0===p)return null==h?void 0:h.init(i.getState());return null==h?void 0:h.init(getTrackedConnectionState(m.name));case"COMMIT":if(void 0===p){null==h||h.init(i.getState());break}return null==h?void 0:h.init(getTrackedConnectionState(m.name));case"ROLLBACK":return parseJsonThen(e.state,e=>{if(void 0===p){setStateFromDevtools(e),null==h||h.init(i.getState());return}setStateFromDevtools(e[p]),null==h||h.init(getTrackedConnectionState(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(e.state,e=>{if(void 0===p){setStateFromDevtools(e);return}JSON.stringify(i.getState())!==JSON.stringify(e[p])&&setStateFromDevtools(e[p])});case"IMPORT_STATE":{let{nextLiftedState:l}=e.payload,a=null==(o=l.computedStates.slice(-1)[0])?void 0:o.state;if(!a)return;void 0===p?setStateFromDevtools(a):setStateFromDevtools(a[p]),null==h||h.send(null,l);break}case"PAUSE_RECORDING":return y=!y}return}}),T},parseJsonThen=(e,o)=>{let l;try{l=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==l&&o(l)},subscribeWithSelector=e=>(o,l,a)=>{let i=a.subscribe;a.subscribe=(e,o,l)=>{let s=e;if(o){let i=(null==l?void 0:l.equalityFn)||Object.is,c=e(a.getState());s=l=>{let a=e(l);if(!i(c,a)){let e=c;o(c=a,e)}},(null==l?void 0:l.fireImmediately)&&o(c,c)}return i(s)};let s=e(o,l,a);return s};function createJSONStorage(e){let o;try{o=e()}catch(e){return}return{getItem:e=>{var l;let parse=e=>null===e?null:JSON.parse(e),a=null!=(l=o.getItem(e))?l:null;return a instanceof Promise?a.then(parse):parse(a)},setItem:(e,l)=>o.setItem(e,JSON.stringify(l)),removeItem:e=>o.removeItem(e)}}let toThenable=e=>o=>{try{let l=e(o);if(l instanceof Promise)return l;return{then:e=>toThenable(e)(l),catch(e){return this}}}catch(e){return{then(e){return this},catch:o=>toThenable(o)(e)}}},oldImpl=(e,o)=>(l,a,i)=>{let s,c,d={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,o)=>({...o,...e}),...o},p=!1,m=new Set,h=new Set;try{s=d.getStorage()}catch(e){}if(!s)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),l(...e)},a,i);let g=toThenable(d.serialize),setItem=()=>{let e;let o=d.partialize({...a()}),l=g({state:o,version:d.version}).then(e=>s.setItem(d.name,e)).catch(o=>{e=o});if(e)throw e;return l},y=i.setState;i.setState=(e,o)=>{y(e,o),setItem()};let T=e((...e)=>{l(...e),setItem()},a,i),hydrate=()=>{var e;if(!s)return;p=!1,m.forEach(e=>e(a()));let o=(null==(e=d.onRehydrateStorage)?void 0:e.call(d,a()))||void 0;return toThenable(s.getItem.bind(s))(d.name).then(e=>{if(e)return d.deserialize(e)}).then(e=>{if(e){if("number"!=typeof e.version||e.version===d.version)return e.state;if(d.migrate)return d.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var o;return l(c=d.merge(e,null!=(o=a())?o:T),!0),setItem()}).then(()=>{null==o||o(c,void 0),p=!0,h.forEach(e=>e(c))}).catch(e=>{null==o||o(void 0,e)})};return i.persist={setOptions:e=>{d={...d,...e},e.getStorage&&(s=e.getStorage())},clearStorage:()=>{null==s||s.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>hydrate(),hasHydrated:()=>p,onHydrate:e=>(m.add(e),()=>{m.delete(e)}),onFinishHydration:e=>(h.add(e),()=>{h.delete(e)})},hydrate(),c||T},newImpl=(e,o)=>(l,a,i)=>{let s,c={storage:createJSONStorage(()=>localStorage),partialize:e=>e,version:0,merge:(e,o)=>({...o,...e}),...o},d=!1,p=new Set,m=new Set,h=c.storage;if(!h)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),l(...e)},a,i);let setItem=()=>{let e=c.partialize({...a()});return h.setItem(c.name,{state:e,version:c.version})},g=i.setState;i.setState=(e,o)=>{g(e,o),setItem()};let y=e((...e)=>{l(...e),setItem()},a,i),hydrate=()=>{var e;if(!h)return;d=!1,p.forEach(e=>e(a()));let o=(null==(e=c.onRehydrateStorage)?void 0:e.call(c,a()))||void 0;return toThenable(h.getItem.bind(h))(c.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===c.version)return e.state;if(c.migrate)return c.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}}).then(e=>{var o;return l(s=c.merge(e,null!=(o=a())?o:y),!0),setItem()}).then(()=>{null==o||o(s,void 0),d=!0,m.forEach(e=>e(s))}).catch(e=>{null==o||o(void 0,e)})};return i.persist={setOptions:e=>{c={...c,...e},e.storage&&(h=e.storage)},clearStorage:()=>{null==h||h.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>hydrate(),hasHydrated:()=>d,onHydrate:e=>(p.add(e),()=>{p.delete(e)}),onFinishHydration:e=>(m.add(e),()=>{m.delete(e)})},hydrate(),s||y},persist=(e,o)=>"getStorage"in o||"serialize"in o||"deserialize"in o?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),oldImpl(e,o)):newImpl(e,o)}}]);