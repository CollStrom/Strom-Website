"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8704],{214811:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAnnotationId=function(e){return e.uuid||e.id||e.keyName||e.key||e.label||""},t.isAnnotationValid=function({annotation:e,taskType:t,customShapes:n={},label:r}){if(p.default.includes([c.TaskType.VideoPolygonAnnotation,c.TaskType.PolygonAnnotation],t)&&e&&getAnnotationGeometry(r||e.label,n,f.AnnotationGeometry.Polygon)===f.AnnotationGeometry.Polygon&&"vertices"in e&&e.vertices.length>3){let t=l.polygonFor(e);return t.isValid()}return!0},t.isAnnotationDone=function({annotation:e,attributeDefinitions:t,requiresLabel:n=!0,requireLinkedAttributes:o=!0,prelabeledAttributes:i,isAttributeLocked:a}){if(n&&!e.label||i&&i.length>0)return!1;let c=g.requiredAttributesForAnnotation({annotation:e,attributeDefinitions:t,requireLinkedAttributes:o});if(c=p.default.omitBy(c,(e,t)=>a?.(t)),p.default.isEmpty(c))return!0;let u=e.attributes||{};return p.default.every(c,(n,o)=>r.validateAttribute(u[o],t[o],e))},t.getAnnotationGeometry=getAnnotationGeometry,t.getDefaultAnnotationBreakdown=function(e,t){return(!e||e.length<2)&&p.default.keys(t).length?p.default.keys(t)[0]:"label"},t.getBreakdownColors=function(e,t,n,r,c={}){let u;let s=r?.breakdownColorsMap?.[n];if(s)return Array.isArray(s)?p.default.map(s,e=>"object"==typeof e?e.color:e):p.default.mapValues(s,e=>"object"==typeof e?e.color:e);let l=[];for(let e=0;e<128;e++){let t=((2050*e&139536|32800*e&558144)*65793>>16&255)/256,[n,r,o]=_.hslToRgb(t,1,.5);l.push(`rgb(${n}, ${r}, ${o})`)}if("id"===n)return l;if("lidarLinkingDistance"===n&&c.lidarLinkingDistances){let e=c.lidarLinkingDistances,t=p.default.flatten(p.default.map(e,e=>p.default.values(e))),n=h.scaleSequential(h.interpolatePlasma).domain([80,p.default.min(t)||0]);return(t,r=0)=>{let o=e[r][t.uuid];return o&&n(o)||"#fff"}}let f={};if("label"===n)u=m.getAllChoiceDescendants(e);else if(t&&t[n]){let e=t[n].type;if(!(e===a.AnnotationAttributeType.Category||p.default.isNil(e)))return l;u=m.getAllChoiceDescendants(t[n].choices)}let d=c.useOptimizedColors?i.default.maxList.map(([e,t,n])=>`rgb(${e}, ${t}, ${n})`):_.MaterialA400HexStringOrdered;return p.default.map(u,(e,t)=>{f[e]="label"===n&&e in o.LABEL_COLOR_MAP?o.LABEL_COLOR_MAP[e]:d[Number(t)%d.length]}),f},t.getDisplayLabel=function(e,t,n,r=!1){let o;if(!t)return n&&e in n?n[e]:e;let i=m.getAllChoices(t),a=p.default.find(i,t=>p.default.isString(t)?t===e:(r?t.display:t.choice)===e);return a?(o=p.default.isString(a)?a:r?a.choice:a.display??a.choice,n&&o in n?n[o]:o):n&&e in n?n[e]:e},t.mergeLabelChoices=function mergeLabelChoices(e,t){let n=p.default.cloneDeep(e);return t.forEach(e=>{if(d.isNestedLabelChoice(e)){let t=p.default.findIndex(n,t=>e.choice===t.choice);if(-1===t)n.push(e);else{let r=n[t].subchoices||[];n[t]={choice:e.choice,subchoices:mergeLabelChoices(r,e.subchoices)}}}else"object"!=typeof e?p.default.includes(n,e)||n.push(e):p.default.find(n,{choice:e.choice})||n.push(e)}),n},t.removeFromLabelChoices=function removeFromLabelChoices(e,t){return e?p.default.reduce(e,(e,n)=>{if(d.isNestedLabelChoice(n)){let r=removeFromLabelChoices(n.subchoices,t);return p.default.isEmpty(r)?e:[...e,{...n,subchoices:r}]}return d.getLabelChoiceValue(n)===t?e:[...e,n]},[]):[]},t.getAllLabelInstances=function getAllLabelInstances(e,t=!1){if(!e)return[];let n=[];for(let r of e)r.instance_label||t?"object"==typeof r?r.subchoices?n=n.concat(getAllLabelInstances(r.subchoices,!0)):n.push(r.choice):n.push(r):n=n.concat(getAllLabelInstances(r.subchoices,!1));return n},t.filterLabels=function filterLabels(e,t){return p.default.reduce(e,(e,n)=>{let r=p.default.includes(t,n.choice)||p.default.intersection(m.getAllChoiceDescendants(n.subchoices),t).length>0;if(!r)return e;let o={...n,...n.subchoices?{subchoices:filterLabels(n.subchoices,t)}:{}};return e.concat([o])},[])},t.filterLabelsMap=function(e,t){return p.default.pickBy(e,(e,n)=>p.default.includes(t,n))},t.getErrorCategoryName=getErrorCategoryName,t.getBucketedGradedAnnotations=function(e,t){if(!e)return null;let n={[b.Missing]:[],[b.Extraneous]:[],[b.Incorrect]:[],[b.Correct]:[]};for(let r of e){let e=r.metadata.props.id,o=p.default.size(p.default.get(r,["correctAnnotation","frames"]))>1,i=!1,a=[];for(let e of r.scores){if("missing"===e.graderType&&0===e.correctWork&&1===e.totalWork){n[b.Missing].push(r),i=!0;break}if("extraneous"===e.graderType&&-1===e.correctWork&&0===e.totalWork){n[b.Extraneous].push(r),i=!0;break}let t=e.correctWork!==e.totalWork,c=0!==p.default.get(e,"graderConfig.defaultWeight");if(t&&c){let t=`Incorrect ${getErrorCategoryName(e)}`;o&&p.default.size(e.relativeIncorrectFrames)>0&&(t+=` in frame [${s.getOneBasedFrameIntervals(e.relativeIncorrectFrames)}]`),a.push(t)}}i||(p.default.isEmpty(a)?n[b.Correct].push(r):(p.default.has(t,e)&&a.push(t[e]),n[b.Incorrect].push({...r,errors:a})))}return n},t.buildAttributes=function(e,t,n,r={}){let o={...t},i=Object.keys(n);for(let t of i){let i=n[t];if("linked"===i.type&&"dot-key-value"===i.variant&&!o[t]&&r.dotKeyValueTable&&e){let n=r.dotKeyValueTable[t];if(n){let r=n[e];p.default.isArray(r)&&1===r.length&&(o[t]=r[0])}}}return o},t.GraderBuckets=t.NUM_DISTINCT_COLORS=void 0;var r=n(904882),o=n(368242),i=_interopRequireDefault(n(824292)),a=n(599789),c=n(167469),u=_interopRequireDefault(n(524183)),s=n(991984),l=n(440169),f=n(308408),d=n(335855),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}}return t.default=e,t}(n(180043)),p=_interopRequireDefault(n(298784)),_=n(244853),g=n(608837),m=n(19161);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getAnnotationGeometry(e,t,n){for(let n in t)if(p.default.includes(p.default.get(t,n),e))return n;return n}t.NUM_DISTINCT_COLORS=128;let b={Missing:"Missing",Extraneous:"Doesn't Belong",Incorrect:"Incorrect",Correct:"Correct"};function getErrorCategoryName(e){let t=u.default[e.graderType].title.toLowerCase(),n=e.errorType.toLowerCase().replace(`${e.graderType}_`,"");return t===n?t:`${t} (${n})`}t.GraderBuckets=b},185008:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.areGlobalAttributesDone=function(e,t){let n=getGlobalAttributes(e,t);return o.default.every(o.default.keys(n),n=>i.validateAttribute(e[n],t[n],{}))},t.getGlobalAttributes=void 0;var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(904882),a=n(808704);let getGlobalAttributes=(e,t)=>a.requiredAttributesForAnnotation({annotation:{label:void 0,attributes:e,isGlobal:!0},attributeDefinitions:t});t.getGlobalAttributes=getGlobalAttributes},284167:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.checkAttributeCondition=function(e,t){return(!t.is_global||!!e.isGlobal)&&(!1!==t.is_global||!e.isGlobal)&&isLabelConditionMet(e.label,t)&&isAttributeConditionMet(e.attributes||void 0,t)},t.isLabelConditionMet=isLabelConditionMet,t.isAttributeConditionMet=isAttributeConditionMet;var r,o=(r=n(298784))&&r.__esModule?r:{default:r};function isLabelConditionMet(e,t){let n=t?.label_condition?.label||t?.label;return!n||o.default.includes(n,e)}function isAttributeConditionMet(e,t){let n=t?.attribute_conditions;if(!n)return!0;let r=Array.isArray(n)?n:Object.entries(n).map(([e,t])=>({[e]:t}));return 0===r.length||!!e&&o.default.every(r,t=>o.default.some(o.default.keys(t),n=>{let r=t[n],i=e[n];return Array.isArray(r)&&Array.isArray(i)?o.default.intersectionBy(r,i,o.default.lowerCase).length>=1:Array.isArray(r)?o.default.includes(o.default.map(r,o.default.lowerCase),o.default.lowerCase(String(i))):Array.isArray(i)?o.default.includes(o.default.map(i,o.default.lowerCase),o.default.lowerCase(r)):o.default.lowerCase(r)===o.default.lowerCase(String(i))}))}},20241:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAnnotationErrors=function({annotation:e,existingIds:t,attributeDefinitions:n,requiresLabel:r=!0,requireLinkedAttributes:s=!0,viewport:l,allowOutOfViewportVertices:f,skipAnnotationAttributeChoiceValidation:d,isGISAssignment:h}){if(r&&!e.label)return["is missing a Label"];if(e.flag?.confirmed===!1)return["flag(s) has not been confirmed"];let p=e.attributeFlags&&u.getFirstUnconfirmedAttributeFlag(e.attributeFlags,e.attributes,n);if(p)return[`attribute flag "${p}" has not been confirmed`];if(l&&!f&&!a.annotationInFrame(e,l))return["is outside the frame"];let _=a.annotationHasValidDimensions(e);if(!_.valid&&!h)return[` has duplicate points at x: ${_.x}, y: ${_.y}`];let g=e.attributes||{},m=o.default.find(o.default.keys(g),e=>n?.[e]?.type===c.AnnotationAttributeType.Linked&&!!g[e]&&!t?.has(g[e]));if(m)return[`has an invalid link ${m}`];let b=i.requiredAttributesForAnnotation({annotation:e,attributeDefinitions:n,requireLinkedAttributes:s});return o.default.isEmpty(b)?[]:Object.keys(b).filter(t=>!i.validateAttribute(g[t],n[t],e,d)).map(e=>`is missing or has invalid value for ${e}`)};var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(808704),a=n(96372),c=n(599789),u=n(707814)},628406:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLinkedAttributeKeys=void 0;var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(599789);t.getLinkedAttributeKeys=e=>o.default.keys(o.default.pickBy(e,e=>e.type===i.AnnotationAttributeType.Linked))},608837:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.requiredAttributesForAnnotation=function({annotation:e,attributeDefinitions:t,requireLinkedAttributes:n=!0}){let r=o.default.pickBy(t,t=>(function(e,t,n=!0){return!a.isDerivedAttribute(t)&&(t.type!==i.AnnotationAttributeType.Linked||!!n||!!t.required)&&(!e.isGlobal||!!t.conditions)&&(!t.conditions||c.checkAttributeCondition(e,t.conditions))})(e,t,n));return r};var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(599789),a=n(602801),c=n(284167)},602801:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.isDerivedAttribute=function(e){return!!o.default.get(e,"derived")};var r,o=(r=n(298784))&&r.__esModule?r:{default:r}},904882:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validateAttribute=function(e,t,n,r){return!!o.default.isEmpty(e)&&!!t.optional||(r?!o.default.isNil(e):!(t.type===i.AnnotationAttributeType.Number&&!validateNumber(e,t)||t.type===i.AnnotationAttributeType.NumberArray&&!validateNumber(e,t)||t.type===i.AnnotationAttributeType.XLine&&e>a.getWidth(n)||t.type===i.AnnotationAttributeType.YLine&&e>a.getHeight(n))&&(t.type===i.AnnotationAttributeType.Linked?!o.default.isNil(e):t.type===i.AnnotationAttributeType.Category?o.default.isArray(e)&&t.allow_multiple?!o.default.isEmpty(e)&&e.every(e=>c.getAllChoiceDescendants(t.choices).includes(e)):t.per_frame?o.default.isArray(e)&&!o.default.isEmpty(e)&&e.every(e=>e&&c.getAllChoiceDescendants(t.choices).includes(e)):c.getAllChoiceDescendants(t.choices).includes(e):t.allow_multiple&&t.choices?!o.default.isEmpty(e)&&e.every(e=>c.getAllChoiceDescendants(t.choices).includes(e)):!o.default.isNil(e)&&""!==e))};var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(599789),a=n(587731),c=n(19161);function validateNumber(e,t){let n=t.step||1,{min:r,max:o}=t;return(void 0===r||(e-r)%n==0)&&(void 0===r||!(e<r))&&(void 0===o||!(e>o))}},587731:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getBoxPoints=function(e){return[{x:Number(e.left??e.x),y:Number(e.top??e.y)},{x:Number(e.left??e.x)+Number(e.width),y:Number(e.top??e.y)},{x:Number(e.left??e.x)+Number(e.width),y:Number(e.top??e.y)+Number(e.height)},{x:Number(e.left??e.x),y:Number(e.top??e.y)+Number(e.height)},{x:Number(e.left??e.x),y:Number(e.top??e.y)}]},t.getWidth=function(e){let t=e;return(e.currentFrame&&(t=e.currentFrame),o.default.get(t,"width"))?t.width:o.default.get(t,"face")?t.face.x2-t.face.x1:0},t.getHeight=function(e){return o.default.get(e,"height")?e.height:o.default.get(e,"face")?e.face.y2-e.face.y1:0},t.boxIntersectsGeometry=t.lineIntersectsBox=t.lineIntersects=t.boxIntersectsBox=t.boxContainsPoint=t.generateConnectionLines=t.shouldHaveConnection=t.getBoundingBoxFromVertices=void 0;var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(308408);t.getBoundingBoxFromVertices=e=>{let t=o.default.minBy(e,e=>e.y).y,n=o.default.maxBy(e,e=>e.y).y,r=o.default.minBy(e,e=>e.x).x,i=o.default.maxBy(e,e=>e.x).x;return{width:i-r,height:n-t,top:t,left:r}};let shouldHaveConnection=(e,t,n)=>{let r=!1;return n.forEach(n=>{let{pair:i,connection_attribute:a}=n;!(o.default.isNil(e.attributes?.[a])||o.default.isNil(t.attributes?.[a]))&&(o.default.isNil(e.label)||o.default.isNil(t.label)||e.attributes[a]!==t.attributes[a]||(e.label!==i[0]||t.label!==i[1])&&(e.label!==i[1]||t.label!==i[0])||(r=!0))}),r};t.shouldHaveConnection=shouldHaveConnection,t.generateConnectionLines=(e,t)=>{let n=[];for(let r=0;r<e.length;r++)for(let o=r+1;o<e.length;o++)shouldHaveConnection(e[r],e[o],t)&&n.push([e[r],e[o]]);return n};let boxContainsPoint=(e,t)=>{let{x:n,y:r,width:o,height:i}=e;return n<t.x&&t.x<n+o&&r<t.y&&t.y<r+i};t.boxContainsPoint=boxContainsPoint;let boxIntersectsBox=(e,t)=>{let{x:n,y:r,width:o,height:i}=e;return n<t.x+t.width&&n+o>t.x&&r<t.y+t.height&&r+i>t.y};t.boxIntersectsBox=boxIntersectsBox;let lineIntersects=(e,t)=>{let[{x:n,y:r},{x:o,y:i}]=e,[{x:a,y:c},{x:u,y:s}]=t,l=(o-n)*(s-c)-(u-a)*(i-r);if(0===l)return!1;let f=((s-c)*(u-n)+(a-u)*(s-r))/l,d=((r-i)*(u-n)+(o-n)*(s-r))/l;return f>0&&f<1&&d>0&&d<1};t.lineIntersects=lineIntersects;let lineIntersectsBox=(e,t)=>{let{x:n,y:r,width:i,height:a}=t,[c,u,s,l]=[{x:n,y:r},{x:n+i,y:r},{x:n,y:r+a},{x:n+i,y:r+a}];return o.default.some([lineIntersects(e,[c,u]),lineIntersects(e,[c,s]),lineIntersects(e,[u,l]),lineIntersects(e,[s,l])])};t.lineIntersectsBox=lineIntersectsBox,t.boxIntersectsGeometry=(e,t)=>{switch(t.geometry){case i.AnnotationGeometry.Box:return boxIntersectsBox(e,t);case i.AnnotationGeometry.Polygon:for(let[n,r]of t.vertices.entries())if(boxContainsPoint(e,r)||lineIntersectsBox([t.vertices[(n+1)%t.vertices.length],r],e))return!0;break;case i.AnnotationGeometry.Point:return boxContainsPoint(e,t);case i.AnnotationGeometry.Ellipse:{let{center:n,width:r,height:o}=t,i=n[0]-r/2,a=n[1]-o/2;return boxIntersectsBox(e,{x:i,y:a,width:r,height:o})}case i.AnnotationGeometry.Line:for(let[n,r]of t.vertices.entries())if(boxContainsPoint(e,r)||n>0&&lineIntersectsBox([t.vertices[n-1],r],e))return!0}return!1}},343388:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e?"unknown uuid":e.length>20?e.slice(-4):e}},808704:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getFriendlyAnnotationId",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getAllChoiceDescendants",{enumerable:!0,get:function(){return a.getAllChoiceDescendants}}),Object.defineProperty(t,"getAllChoices",{enumerable:!0,get:function(){return a.getAllChoices}}),Object.defineProperty(t,"trimAllLabelNames",{enumerable:!0,get:function(){return a.trimAllLabelNames}}),Object.defineProperty(t,"requiredAttributesForAnnotation",{enumerable:!0,get:function(){return c.requiredAttributesForAnnotation}}),Object.defineProperty(t,"areGlobalAttributesDone",{enumerable:!0,get:function(){return u.areGlobalAttributesDone}}),Object.defineProperty(t,"getGlobalAttributes",{enumerable:!0,get:function(){return u.getGlobalAttributes}}),Object.defineProperty(t,"checkAttributeCondition",{enumerable:!0,get:function(){return s.checkAttributeCondition}}),Object.defineProperty(t,"getLinkedAttributeKeys",{enumerable:!0,get:function(){return l.getLinkedAttributeKeys}}),Object.defineProperty(t,"validateAttribute",{enumerable:!0,get:function(){return f.validateAttribute}}),Object.defineProperty(t,"getBoxPoints",{enumerable:!0,get:function(){return d.getBoxPoints}}),Object.defineProperty(t,"getWidth",{enumerable:!0,get:function(){return d.getWidth}}),Object.defineProperty(t,"getHeight",{enumerable:!0,get:function(){return d.getHeight}}),Object.defineProperty(t,"getAnnotationErrors",{enumerable:!0,get:function(){return h.getAnnotationErrors}});var r,o={getFriendlyAnnotationId:!0,getAllChoiceDescendants:!0,getAllChoices:!0,trimAllLabelNames:!0,requiredAttributesForAnnotation:!0,areGlobalAttributesDone:!0,getGlobalAttributes:!0,checkAttributeCondition:!0,getLinkedAttributeKeys:!0,validateAttribute:!0,getBoxPoints:!0,getWidth:!0,getHeight:!0,getAnnotationErrors:!0},i=(r=n(343388))&&r.__esModule?r:{default:r},a=n(19161),c=n(608837),u=n(185008),s=n(284167),l=n(628406),f=n(904882),d=n(587731),h=n(20241),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}}return t.default=e,t}(n(214811));Object.keys(p).forEach(function(e){!("default"===e||"__esModule"===e||Object.prototype.hasOwnProperty.call(o,e))&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))})},96372:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.annotationHasValidDimensions=t.annotationInFrame=t.pointInFrame=t.isPolygon=t.isLine=void 0;var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(308408);t.isLine=e=>e.geometry===i.AnnotationGeometry.Line,t.isPolygon=e=>e.geometry===i.AnnotationGeometry.Polygon;let boxInFrame=(e,t)=>o.default.isNumber(e.x)&&o.default.isNumber(e.y)&&o.default.isNumber(e.width)&&o.default.isNumber(e.height)&&e.x>=t.left&&e.x+e.width<=t.width&&e.y>=t.top&&e.y+e.height<=t.height&&e.width>0&&e.height>0,pointInFrame=(e,t)=>o.default.isNumber(e.x)&&o.default.isNumber(e.y)&&e.x>=t.left&&e.x<=t.width&&e.y>=t.top&&e.y<=t.height;t.pointInFrame=pointInFrame;let polygonInFrame=(e,t)=>e.vertices.every(e=>pointInFrame(e,t)),ellipseInFrame=(e,t)=>{let{center:n,width:r,height:i}=e;if(!o.default.isNumber(n[0])||!o.default.isNumber(n[1])||!o.default.isNumber(r)||!o.default.isNumber(i))return!1;let a=n[0]-r/2,c=n[1]-i/2;return a>=t.left&&a+r<=t.width&&c>=t.top&&c+i<=t.height&&r>0&&i>0};t.annotationInFrame=(e,t)=>{switch(e.geometry){case i.AnnotationGeometry.Box:return boxInFrame(e,t);case i.AnnotationGeometry.Point:return pointInFrame(e,t);case i.AnnotationGeometry.Line:case i.AnnotationGeometry.Polygon:return polygonInFrame(e,t);case i.AnnotationGeometry.Ellipse:return ellipseInFrame(e,t)}return!0};let boxHasValidDimensions=e=>{let t=e.width>0&&e.height>0;return t?{valid:!0}:{valid:!1,x:e.x,y:e.y}},pointHasValidDimensions=e=>({valid:!0}),polygonHasValidDimensions=(e,t=3)=>{if(e.vertices.length<t)return{valid:!1,x:e?.vertices?.[0]?.x??0,y:e?.vertices?.[0]?.y??0};for(let t=0;t<e.vertices.length-1;t++){let n=e.vertices[t],r=e.vertices[t+1];if(r&&n.x===r.x&&n.y===r.y)return{valid:!1,x:n.x,y:n.y}}return{valid:!0}},lineHasValidDimensions=e=>polygonHasValidDimensions(e,2),ellipseHasValidDimensions=e=>{let t=e.width>0&&e.height>0;return t?{valid:!0}:{valid:!1,x:e.center[0],y:e.center[1]}};t.annotationHasValidDimensions=e=>{switch(e.geometry){case i.AnnotationGeometry.Box:return boxHasValidDimensions(e);case i.AnnotationGeometry.Point:return pointHasValidDimensions(e);case i.AnnotationGeometry.Line:return lineHasValidDimensions(e);case i.AnnotationGeometry.Polygon:return polygonHasValidDimensions(e);case i.AnnotationGeometry.Ellipse:return ellipseHasValidDimensions(e)}return{valid:!0}}},244853:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.MaterialA400HexStringOrdered=t.MaterialA400Ordered=t.hslToRgb=t.MaterialA400HexString=t.MaterialA400=void 0;var r,o=(r=n(298784))&&r.__esModule?r:{default:r},i=n(903279);let a={red:16717636,pink:16056407,purple:13959417,deeppurple:6627327,indigo:4020990,blue:2718207,lightblue:45311,cyan:58879,teal:1960374,green:58998,limegreen:7798531,lime:13041408,yellow:16771584,amber:16761856,orange:16748800,deeporange:16727296};t.MaterialA400=a;let c={red:"#ff1744",pink:"#f50057",purple:"#d500f9",deeppurple:"#651fff",indigo:"#3d5afe",blue:"#2979ff",lightblue:"#00b0ff",cyan:"#00e5ff",teal:"#1de9b6",green:"#00e676",limegreen:"#76ff03",lime:"#c6ff00",yellow:"#ffea00",amber:"#ffc400",orange:"#ff9100",deeporange:"#ff3d00"};t.MaterialA400HexString=c;let u=["orange","purple","green","cyan","lime","deeppurple","yellow","limegreen","teal","indigo"],hue2rgb=(e,t,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e;t.hslToRgb=(e,t,n)=>{let r,o,i;if(0===t)r=1,o=1,i=n;else{let a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;r=hue2rgb(c,a,e+1/3),o=hue2rgb(c,a,e),i=hue2rgb(c,a,e-1/3)}return[Math.floor(255*r),Math.floor(255*o),Math.floor(255*i)]};let s=u.map(e=>a[e]);t.MaterialA400Ordered=s;let l=u.map(e=>c[e]);for(let e in t.MaterialA400HexStringOrdered=l,c)o.default.includes(u,e)||l.push(c[e]);let f=["purple","deeppurple","indigo"].map(e=>c[e]);i.isFederal()&&o.default.remove(l,e=>f.includes(e))},368242:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.LABEL_Z_INDEX_MAP=t.LABEL_COLOR_MAP=void 0,t.LABEL_COLOR_MAP={"road boundary":"#ff9100","road boundary (polygon)":"#ff9100","solid sdot":"#f8dbfc","bicycle lane":"#a63bff","Lane Segment":"#0033FF","Delete Polygon":"#808080"},t.LABEL_Z_INDEX_MAP={driveway:1}},707814:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getAllOntologyValues=function getAllOntologyValues(e){let t=[];for(let n of e)t.push(n),isNestedChoice(n)&&t.push(...getAllOntologyValues(n.subchoices));return t},t.getAllChoiceValues=getAllChoiceValues,t.generateChoiceMapping=function generateChoiceMapping(e){let t=[];for(let n of e){let e={choice:getChoiceValue(n)};"string"!=typeof n&&(e.display=n.display,e.description=n.description,isNestedChoice(n)&&(e.subchoices=generateChoiceMapping(n.subchoices))),t.push(e)}return t},t.generateChoiceKeyMapping=function generateChoiceKeyMapping(e,t,n){return e.reduce((e,r)=>(e[r.choice]=r[t]||n,{...e,...r.subchoices&&r.subchoices.length>0?generateChoiceKeyMapping(r.subchoices,t,n):{}}),{})},t.isNestedChoice=isNestedChoice,t.getChoiceValue=getChoiceValue,t.getChoiceDisplay=function(e){return d.default.isNil(e)?"":"string"==typeof e?e:e.display},t.sortChoice=sortChoice,t.sortChoices=function sortChoices(e){if(!e)return[];let t=[];for(let n of e)isNestedChoice(n)&&(n.subchoices=sortChoices(n.subchoices)),t.push(n);return t.sort(sortChoice)},t.getOntologyPreorderTraversal=function(e,t=new Set,n={}){let dfs=(e,r=0,o=!1,i=new Set,a)=>{i.add(e);let c=o||t.has(e.choice+r);a=n[e.choice]??a;let u=d.default.map(d.default.filter(e.subchoices,e=>!i.has(e)),e=>dfs(e,r+1,c,i,a)),s=d.default.sortBy(u,([{subtreeSize:e,subchoices:t}])=>e>0?0:t&&t.length>0?1:2),l=d.default.sumBy(u,([{subtreeSize:e}])=>e);return[{...e,depth:r,flagged:o,nodeColor:a,subtreeSize:l+1},...d.default.flatten(s)]};return dfs(e)},t.transformOntologyToObject=transformOntologyToObject,t.transformObjectToOntology=function transformObjectToOntology(e){return Object.keys(e).reduce((t,n)=>{let r=e[n];return r.subchoices?t.push({choice:n,display:r.display,subchoices:transformObjectToOntology(r.subchoices)}):t.push({choice:n,display:r.display}),t},[])},t.getChoiceObjectMatchingChoice=function getChoiceObjectMatchingChoice(e,t,n){for(let r of e.values())if(r.choice===t)n=r;else if(r.subchoices){let e=getChoiceObjectMatchingChoice(r.subchoices,t,n);""!==e.choice&&(n=e)}return n},t.getChoiceMatchingString=function getChoiceMatchingString(e,t,n){for(let r of e.values())if(r.display===t)n=r;else if(r.subchoices){let e=getChoiceMatchingString(r.subchoices,t,n);""!==e.choice&&(n=e)}return n},t.getIndicesToChoice=function getIndicesToChoice(e,t,n=[]){for(let[r,o]of e.entries()){if(o.choice===t)return n.concat([r]);if(o.subchoices){let e=getIndicesToChoice(o.subchoices,t,n.concat([r]));if(e.length>0)return e}}return[]},t.countSubchoices=function countSubchoices(e){return e?Object.values(e).reduce((e,t)=>(e+=countSubchoices(t.subchoices))+1,0):0},t.depthFirstSearchOntology=function depthFirstSearchOntology(e,t,n,r=new Set){r.add(e);let o=(e.display??e.choice).toLowerCase().includes(t.toLowerCase()),i=n||o,a=[],c=new Set,u=new Set;if(e.subchoices){let n=e.subchoices.filter(e=>!r.has(e));for(let e of n){let n=depthFirstSearchOntology(e,t,i,r);n.node&&a.push(n.node),n.matches.forEach(e=>c.add(e)),n.matchesString.forEach(e=>u.add(e))}}if(i||a.length>0||"root"===e.choice){let t={...e,subchoices:a};return o&&(c.add(t),u.add(t.choice)),{node:t,matches:c,matchesString:u}}return{node:void 0,matches:c,matchesString:u}},t.mapOntologyToChoiceObject=function(e){let dfs=e=>{let t=e.map(({choice:e,display:t,subchoices:n})=>({display:t,choice:e,...n?.length&&{subchoices:[{display:t,choice:e},...dfs(n)]}}));return t};return dfs(e.ontology)},t.transformOntologyToFlatObject=transformOntologyToFlatObject,t.loadChangeMap=function(e){return{ontology:(()=>{let t=new Set,n={},r={},o={};return d.default.forEach(e.ontology,(e,i)=>{e.added&&t.add(i),e.deleted&&(n[i]=e.deleted),e.edited&&(o[i]=e.edited),e.moved&&(r[i]=e.moved)}),{added:t,deleted:n,moved:r,edited:o}})(),globalAttributes:e.globalAttributes,events:e.events}},t.compareAttributes=compareAttributes,t.separateClassAttributes=function(e,t){if(!t)return{globalAttributes:{},classAttributes:{}};let n={},r={},o={},i=getAllChoiceValues(e);return d.default.forEach(t,(e,t)=>{let i=d.default.omit(e,"conditions"),a=e.conditions?.label_condition?.label;e.global||e.conditions?.is_global?n[t]=i:a?"string"==typeof a?r[a]={...r[a],[t]:i}:a.map(e=>{r[e]={...r[e],[t]:i}}):o[t]=i}),d.default.size(o)&&i.forEach(e=>{r[e]={...r[e],...o}}),{globalAttributes:n,classAttributes:r}},t.addAttributesToOntology=function addAttributesToOntology(e,t){return e.map(e=>({...e,...e.subchoices&&{subchoices:addAttributesToOntology(e.subchoices,t)},...t[e.choice]&&{attributes:t[e.choice]}}))},t.depthFirstCompareOntologies=function(e,t){let n=transformOntologyToFlatObject(e),r=transformOntologyToFlatObject(t),o=new Set,i={},a={},c={};return function dfs(e={},t={},u){d.default.forEach(e,({display:e,subchoices:n,attributes:o},s)=>{let l={choice:s,display:e};if(!t[s]&&r[s])a[s]={previousChoice:l,newChoice:l,previousParent:u,newParent:r[s].parent};else if(!t[s]){i[s]={previous:{choice:s,display:e}},u&&(a[s]={newChoice:u,previousChoice:l,previousParent:u,newParent:r[u.choice].parent}),dfs(n,t[s]?.subchoices,u);return}if(r[s]&&e!==r[s].display&&(c[s]={display:{previousDisplay:e,newDisplay:r[s].display}}),r[s]&&!d.default.isEqual(o,r[s].attributes)){let e=compareAttributes(o,r[s].attributes);c[s]={...c[s],attributes:e}}dfs(n,t[s]?.subchoices,l)}),d.default.forEach(t,({display:t,subchoices:r},i)=>{e[i]||n[i]||(u&&!o.has(u.choice)&&(c[u.choice]={...c[u.choice],newSubchoices:[...c[u.choice]?.newSubchoices||[],i]}),o.add(i)),dfs(e[i]?.subchoices||{},r,{display:t,choice:i})})}(transformOntologyToObject(e,!0),transformOntologyToObject(t,!0)),{added:o,deleted:i,edited:c,moved:a}},t.compareEvents=function(e=[],t=[],n,r){if(!e.length&&!t.length)return;let o=d.default.difference(t,e),i=d.default.difference(e,t),a={};return d.default.intersection(e,t).forEach(e=>{let t=compareAttributes(n?.[e],r?.[e]);d.default.size(t)&&(a[e]=t)}),{added:o,deleted:i,edited:a}},t.getAnnotationsWithOntologyChanges=getAnnotationsWithOntologyChanges,t.getAttributeChanges=getAttributeChanges,t.getChangeList=function(e){let t=[],pushChanges=(e,n)=>{e.forEach(e=>t.push({changeType:n,choice:e,display:d.default.last(e.split(" > "))}))};return e.added&&pushChanges([...e.added],u.Added),pushChanges(d.default.keys(e.deleted),u.Deleted),pushChanges(d.default.keys(e.edited),u.Edited),pushChanges(d.default.keys(e.moved),u.Moved),t},t.updateOntologyChoices=t.isFlagConfirmed=t.getFirstUnconfirmedAttributeFlag=t.loadOntologyChange=t.RequestStatus=t.QuickReviewTaskStatus=t.QuickReviewNodeStatus=t.NodeState=t.ATTRIBUTES_UPDATED_TEXT=t.NO_ONTOLOGY_TEXT=void 0;var r,o,i,a,c,u,s,l,f,d=(r=n(298784))&&r.__esModule?r:{default:r},h=n(284167);t.NO_ONTOLOGY_TEXT="No Ontology";let p="EDITED: Attributes were updated";function getAllChoiceValues(e){let t=[];for(let n of e){let e=getChoiceValue(n);if(!e||""===e)throw Error("The provided ontology has a choice which is undefined, null, or empty");t.push(e),isNestedChoice(n)&&t.push(...getAllChoiceValues(n.subchoices))}return t}function isNestedChoice(e){let t=d.default.get(e,"subchoices");return d.default.isArray(t)&&!d.default.isEmpty(t)}function getChoiceValue(e){return d.default.isNil(e)?"":"string"==typeof e?e:e.choice}function sortChoice(e,t){let n=(e.display??e.choice).toUpperCase(),r=(t.display??t.choice).toUpperCase();return n.localeCompare(r)}function transformOntologyToObject(e,t){return e.reduce((e,{choice:n,display:r,subchoices:o,attributes:i})=>(e[n]={display:r,...o?.length&&{subchoices:transformOntologyToObject(o,t)},...t&&i&&{attributes:i}},e),{})}function transformOntologyToFlatObject(e,t=[],n,r=["choice","display","attributes"]){return e.reduce((e,o)=>{let{choice:i,display:a,subchoices:c,attributes:u}=o;return c?.length&&Object.assign(e,transformOntologyToFlatObject(c,[...t],d.default.pick(o,r))),e[i]={path:t,...d.default.omitBy({display:a,attributes:u,parent:n},d.default.isNil)},e},{})}function compareAttributes(e,t){if(!e&&!t)return;let n=[],r=[],o=[];return d.default.forEach(e,(e,i)=>{let a=t?.[i];d.default.isEqual(e,a)||(a?e.global!==a.global?(r.push(i),n.push(i)):o.push(i):r.push(i))}),d.default.keys(t).forEach(t=>{e?.[t]||n.push(t)}),d.default.omitBy({added:n,deleted:r,edited:o},e=>!e.length)}function getAnnotationsWithOntologyChanges(e,t,n=!0){if(!t)return e;let r=e.map(e=>{if(!e.uuid||!e.label||!t[e.label])return e;let r={...d.default.cloneDeep(e),...n&&{flag:{descriptions:[],confirmed:!1}}},o=t[e.label],i=null;if(o.deleted&&(i="box",r.flag?.descriptions.push(`DELETED: Class ${o.deleted.previous.display} was deleted.`)),o.moved){let t;i=o.moved.newChoice.choice,t=o.moved.newChoice.choice===o.moved.previousChoice?.choice?`MOVED: Class ${o.moved.previousChoice.display} was moved under ${o.moved.newParent?o.moved.newParent.display:"root"}`:`MOVED: Class was moved from ${o.moved.previousChoice?.display||"previous class"} to ${o.moved.newChoice.display}`,r.flag?.descriptions.push(t),r.attributes=d.default.isArray(e.attributes)?Array(e.attributes.length).fill({}):{}}if(o.edited){if(o.edited.display&&r.flag?.descriptions.push(`EDITED: Class was renamed from ${o.edited.display.previousDisplay} to ${o.edited.display.newDisplay}`),o.edited.newSubchoices&&r.flag?.descriptions.push("EXPANDED: New subchoices added"),n&&d.default.some(["added","edited"],e=>d.default.has(o.edited.attributes,e))){r.flag?.descriptions.length===0&&(r.flag.confirmed=!0),r.flag?.descriptions.push(p);let t=e.attributeFlags||{};r.attributeFlags={...t,...d.default.fromPairs(d.default.map(o.edited.attributes?.added,e=>[e,{descriptions:[`ADDED: ${e} was added`],confirmed:!1}])),...d.default.fromPairs(d.default.map(o.edited.attributes?.edited,e=>[e,{descriptions:[`EDITED: ${e} was edited`],confirmed:!1}]))}}if(o.edited.attributes?.edited||o.edited.attributes?.deleted){let e=d.default.union(o.edited.attributes.edited,o.edited.attributes.deleted);r.attributes=d.default.isArray(r.attributes)?d.default.map(r.attributes,t=>t&&d.default.omit(t,e)):r.attributes=d.default.omit(r.attributes,e)}}return r.flag?.descriptions.length||delete r.flag,i&&(r.label=i,r.frames&&(r.frames=r.frames.map(e=>e?{...e,label:i}:void 0))),r});return r}function getAttributeChanges(e,t){let n=d.default.cloneDeep(e),r={};return t.deleted?.forEach(e=>{delete n[e]}),t.edited?.forEach(e=>{delete n[e],r[e]={descriptions:[`EDITED: ${e} was edited`],confirmed:!1}}),t.added?.forEach(e=>{r[e]={descriptions:[`ADDED: ${e} was added`],confirmed:!1}}),{newAttributes:n,newAttributeChanges:r}}t.ATTRIBUTES_UPDATED_TEXT=p,t.NodeState=u,(o=u||(t.NodeState=u={})).Added="Added",o.Edited="Edited",o.Deleted="Deleted",o.Moved="Moved",t.QuickReviewNodeStatus=s,(i=s||(t.QuickReviewNodeStatus=s={})).Requested="Requested",i.InReview="In Review",i.Realigning="Realigning",i.Approved="Approved",t.QuickReviewTaskStatus=l,(a=l||(t.QuickReviewTaskStatus=l={})).InReview="In Review",a.Approved="Approved",a.Rejected="Rejected",t.RequestStatus=f,(c=f||(t.RequestStatus=f={})).Submitted="Submitted",c.InProgress="In Progress",c.Completed="Completed",t.loadOntologyChange=e=>{var t,n;let r=e.ontologyVersion&&e.responseOntologyVersion&&e.ontologyVersion!==e.responseOntologyVersion?d.default.find(e.ontologyHistory,{_id:e.ontologyVersion})?.changeMaps?.[e.responseOntologyVersion]:void 0;if(!r)return{newAnnotations:e.annotations,newEvents:e.events};let o=getAnnotationsWithOntologyChanges(e.annotations,r.ontology),i=(t=e.events,(n=r.events)?t.reduce((e,t)=>{let r=t;if(n.deleted?.includes(t.label))return e;if(n.edited?.[t.label]){let{newAttributes:e,newAttributeChanges:o}=getAttributeChanges(r.attributes,n.edited?.[t.label]);r={...t,attributes:e,flag:{confirmed:!0,descriptions:["EDITED: Attributes were edited"]},attributeFlags:o}}return[...e,r]},[]):t);return{newAnnotations:o,newEvents:i}};let getFirstUnconfirmedAttributeFlag=(e,t,n)=>d.default.findKey(e,(e,r)=>{let o=!1!==e.confirmed;if(o)return!1;let i=n[r]?.conditions?.attribute_conditions;if(!i?.length)return!0;let a=h.isAttributeConditionMet(t,{attribute_conditions:i});return a&&!o});t.getFirstUnconfirmedAttributeFlag=getFirstUnconfirmedAttributeFlag,t.isFlagConfirmed=(e,t,n)=>{if(!e?.flag&&!d.default.size(e?.attributeFlags))return!0;let r=e.flag?.confirmed!==!1,o=!getFirstUnconfirmedAttributeFlag(e.attributeFlags,t,n);return r&&o},t.updateOntologyChoices=(e,t)=>{if(!e.length)return[];let dfs=e=>{e.forEach(e=>{t[e.choice]&&d.default.assign(e,t[e.choice]),e.subchoices&&dfs(e.subchoices)})},n=d.default.cloneDeep(e);return dfs(n),n}},979466:function(e,t,n){function count(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function hierarchy(e,t){var n,r,o,i,a,c=new Node(e),u=+e.value&&(c.value=e.value),s=[c];for(null==t&&(t=defaultChildren);n=s.pop();)if(u&&(n.value=+n.data.value),(o=t(n.data))&&(a=o.length))for(n.children=Array(a),i=a-1;i>=0;--i)s.push(r=n.children[i]=new Node(o[i])),r.parent=n,r.depth=n.depth+1;return c.eachBefore(computeHeight)}function defaultChildren(e){return e.children}function copyData(e){e.data=e.data.data}function computeHeight(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Node(e){this.data=e,this.depth=this.height=0,this.parent=null}n.d(t,{NB:function(){return Node},le:function(){return computeHeight},ZP:function(){return hierarchy}}),Node.prototype=hierarchy.prototype={constructor:Node,count:function(){return this.eachAfter(count)},each:function(e){var t,n,r,o,i=this,a=[i];do for(t=a.reverse(),a=[];i=t.pop();)if(e(i),n=i.children)for(r=0,o=n.length;r<o;++r)a.push(n[r]);while(a.length);return this},eachAfter:function(e){for(var t,n,r,o=this,i=[o],a=[];o=i.pop();)if(a.push(o),t=o.children)for(n=0,r=t.length;n<r;++n)i.push(t[n]);for(;o=a.pop();)e(o);return this},eachBefore:function(e){for(var t,n,r=this,o=[r];r=o.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)o.push(t[n]);return this},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}(t,e),r=[t];t!==n;)r.push(t=t.parent);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return hierarchy(this).eachBefore(copyData)}}},123968:function(e,t,n){n.d(t,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var r=n(341916),o=n(198039);function __WEBPACK_DEFAULT_EXPORT__(){var e=1,t=1,n=0,i=!1;function partition(a){var c,u=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/u,a.eachBefore((c=t,function(e){e.children&&(0,o.Z)(e,e.x0,c*(e.depth+1)/u,e.x1,c*(e.depth+2)/u);var t=e.x0,r=e.y0,i=e.x1-n,a=e.y1-n;i<t&&(t=i=(t+i)/2),a<r&&(r=a=(r+a)/2),e.x0=t,e.y0=r,e.x1=i,e.y1=a})),i&&a.eachBefore(r.Z),a}return partition.round=function(e){return arguments.length?(i=!!e,partition):i},partition.size=function(n){return arguments.length?(e=+n[0],t=+n[1],partition):[e,t]},partition.padding=function(e){return arguments.length?(n=+e,partition):n},partition}},198039:function(e,t,n){n.d(t,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});function __WEBPACK_DEFAULT_EXPORT__(e,t,n,r,o){for(var i,a=e.children,c=-1,u=a.length,s=e.value&&(r-t)/e.value;++c<u;)(i=a[c]).y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*s}},341916:function(e,t,n){n.d(t,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});function __WEBPACK_DEFAULT_EXPORT__(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}},603791:function(e,t){var n=Math.PI,r=2*n,o=r-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,t,r,o,i){e=+e,t=+t,r=+r,o=+o,i=+i;var a=this._x1,c=this._y1,u=r-e,s=o-t,l=a-e,f=c-t,d=l*l+f*f;if(i<0)throw Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>1e-6){if(Math.abs(f*u-s*l)>1e-6&&i){var h=r-a,p=o-c,_=u*u+s*s,g=Math.sqrt(_),m=Math.sqrt(d),b=i*Math.tan((n-Math.acos((_+d-(h*h+p*p))/(2*g*m)))/2),v=b/m,w=b/g;Math.abs(v-1)>1e-6&&(this._+="L"+(e+v*l)+","+(t+v*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>l*p)+","+(this._x1=e+w*u)+","+(this._y1=t+w*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t)}},arc:function(e,t,i,a,c,u){e=+e,t=+t,i=+i,u=!!u;var s=i*Math.cos(a),l=i*Math.sin(a),f=e+s,d=t+l,h=1^u,p=u?a-c:c-a;if(i<0)throw Error("negative radius: "+i);null===this._x1?this._+="M"+f+","+d:(Math.abs(this._x1-f)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+f+","+d),i&&(p<0&&(p=p%r+r),p>o?this._+="A"+i+","+i+",0,1,"+h+","+(e-s)+","+(t-l)+"A"+i+","+i+",0,1,"+h+","+(this._x1=f)+","+(this._y1=d):p>1e-6&&(this._+="A"+i+","+i+",0,"+ +(p>=n)+","+h+","+(this._x1=e+i*Math.cos(c))+","+(this._y1=t+i*Math.sin(c))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.Z=path},987826:function(e,t,n){n.d(t,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var r=n(603791),o=n(217728),i=n(90596);function arcInnerRadius(e){return e.innerRadius}function arcOuterRadius(e){return e.outerRadius}function arcStartAngle(e){return e.startAngle}function arcEndAngle(e){return e.endAngle}function arcPadAngle(e){return e&&e.padAngle}function cornerTangents(e,t,n,r,o,a,c){var u=e-n,s=t-r,l=(c?a:-a)/(0,i._b)(u*u+s*s),f=l*s,d=-l*u,h=e+f,p=t+d,_=n+f,g=r+d,m=(h+_)/2,b=(p+g)/2,v=_-h,w=g-p,M=v*v+w*w,A=o-a,E=h*g-_*p,C=(w<0?-1:1)*(0,i._b)((0,i.Fp)(0,A*A*M-E*E)),S=(E*w-v*C)/M,N=(-E*v-w*C)/M,k=(E*w+v*C)/M,R=(-E*v+w*C)/M,T=S-m,P=N-b,L=k-m,O=R-b;return T*T+P*P>L*L+O*O&&(S=k,N=R),{cx:S,cy:N,x01:-f,y01:-d,x11:S*(o/A-1),y11:N*(o/A-1)}}function __WEBPACK_DEFAULT_EXPORT__(){var e=arcInnerRadius,t=arcOuterRadius,n=(0,o.Z)(0),a=null,c=arcStartAngle,u=arcEndAngle,s=arcPadAngle,l=null;function arc(){var o,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=c.apply(this,arguments)-i.ou,_=u.apply(this,arguments)-i.ou,g=(0,i.Wn)(_-p),m=_>p;if(l||(l=o=(0,r.Z)()),h<d&&(f=h,h=d,d=f),h>i.Ho){if(g>i.BZ-i.Ho)l.moveTo(h*(0,i.mC)(p),h*(0,i.O$)(p)),l.arc(0,0,h,p,_,!m),d>i.Ho&&(l.moveTo(d*(0,i.mC)(_),d*(0,i.O$)(_)),l.arc(0,0,d,_,p,m));else{var b,v,w=p,M=_,A=p,E=_,C=g,S=g,N=s.apply(this,arguments)/2,k=N>i.Ho&&(a?+a.apply(this,arguments):(0,i._b)(d*d+h*h)),R=(0,i.VV)((0,i.Wn)(h-d)/2,+n.apply(this,arguments)),T=R,P=R;if(k>i.Ho){var L=(0,i.ZR)(k/d*(0,i.O$)(N)),O=(0,i.ZR)(k/h*(0,i.O$)(N));(C-=2*L)>i.Ho?(L*=m?1:-1,A+=L,E-=L):(C=0,A=E=(p+_)/2),(S-=2*O)>i.Ho?(O*=m?1:-1,w+=O,M-=O):(S=0,w=M=(p+_)/2)}var I=h*(0,i.mC)(w),q=h*(0,i.O$)(w),z=d*(0,i.mC)(E),D=d*(0,i.O$)(E);if(R>i.Ho){var B,j=h*(0,i.mC)(M),H=h*(0,i.O$)(M),U=d*(0,i.mC)(A),F=d*(0,i.O$)(A);if(g<i.pi&&(B=function(e,t,n,r,o,a,c,u){var s=n-e,l=r-t,f=c-o,d=u-a,h=d*s-f*l;if(!(h*h<i.Ho))return h=(f*(t-a)-d*(e-o))/h,[e+h*s,t+h*l]}(I,q,U,F,j,H,z,D))){var Z=I-B[0],V=q-B[1],Y=j-B[0],G=H-B[1],W=1/(0,i.O$)((0,i.Kh)((Z*Y+V*G)/((0,i._b)(Z*Z+V*V)*(0,i._b)(Y*Y+G*G)))/2),X=(0,i._b)(B[0]*B[0]+B[1]*B[1]);T=(0,i.VV)(R,(d-X)/(W-1)),P=(0,i.VV)(R,(h-X)/(W+1))}}S>i.Ho?P>i.Ho?(b=cornerTangents(U,F,I,q,h,P,m),v=cornerTangents(j,H,z,D,h,P,m),l.moveTo(b.cx+b.x01,b.cy+b.y01),P<R?l.arc(b.cx,b.cy,P,(0,i.fv)(b.y01,b.x01),(0,i.fv)(v.y01,v.x01),!m):(l.arc(b.cx,b.cy,P,(0,i.fv)(b.y01,b.x01),(0,i.fv)(b.y11,b.x11),!m),l.arc(0,0,h,(0,i.fv)(b.cy+b.y11,b.cx+b.x11),(0,i.fv)(v.cy+v.y11,v.cx+v.x11),!m),l.arc(v.cx,v.cy,P,(0,i.fv)(v.y11,v.x11),(0,i.fv)(v.y01,v.x01),!m))):(l.moveTo(I,q),l.arc(0,0,h,w,M,!m)):l.moveTo(I,q),d>i.Ho&&C>i.Ho?T>i.Ho?(b=cornerTangents(z,D,j,H,d,-T,m),v=cornerTangents(I,q,U,F,d,-T,m),l.lineTo(b.cx+b.x01,b.cy+b.y01),T<R?l.arc(b.cx,b.cy,T,(0,i.fv)(b.y01,b.x01),(0,i.fv)(v.y01,v.x01),!m):(l.arc(b.cx,b.cy,T,(0,i.fv)(b.y01,b.x01),(0,i.fv)(b.y11,b.x11),!m),l.arc(0,0,d,(0,i.fv)(b.cy+b.y11,b.cx+b.x11),(0,i.fv)(v.cy+v.y11,v.cx+v.x11),m),l.arc(v.cx,v.cy,T,(0,i.fv)(v.y11,v.x11),(0,i.fv)(v.y01,v.x01),!m))):l.arc(0,0,d,E,A,m):l.lineTo(z,D)}}else l.moveTo(0,0);if(l.closePath(),o)return l=null,o+""||null}return arc.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+c.apply(this,arguments)+ +u.apply(this,arguments))/2-i.pi/2;return[(0,i.mC)(r)*n,(0,i.O$)(r)*n]},arc.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),arc):e},arc.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),arc):t},arc.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.Z)(+e),arc):n},arc.padRadius=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:(0,o.Z)(+e),arc):a},arc.startAngle=function(e){return arguments.length?(c="function"==typeof e?e:(0,o.Z)(+e),arc):c},arc.endAngle=function(e){return arguments.length?(u="function"==typeof e?e:(0,o.Z)(+e),arc):u},arc.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:(0,o.Z)(+e),arc):s},arc.context=function(e){return arguments.length?(l=null==e?null:e,arc):l},arc}},708713:function(e,t,n){n.d(t,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var r=n(603791),o=n(217728),i=n(404224),a=n(540652),c=n(641221);function __WEBPACK_DEFAULT_EXPORT__(){var e=c.x,t=null,n=(0,o.Z)(0),u=c.y,s=(0,o.Z)(!0),l=null,f=i.Z,d=null;function area(o){var i,a,c,h,p,_=o.length,g=!1,m=Array(_),b=Array(_);for(null==l&&(d=f(p=(0,r.Z)())),i=0;i<=_;++i){if(!(i<_&&s(h=o[i],i,o))===g){if(g=!g)a=i,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),c=i-1;c>=a;--c)d.point(m[c],b[c]);d.lineEnd(),d.areaEnd()}}g&&(m[i]=+e(h,i,o),b[i]=+n(h,i,o),d.point(t?+t(h,i,o):m[i],u?+u(h,i,o):b[i]))}if(p)return d=null,p+""||null}function arealine(){return(0,a.Z)().defined(s).curve(f).context(l)}return area.x=function(n){return arguments.length?(e="function"==typeof n?n:(0,o.Z)(+n),t=null,area):e},area.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),area):e},area.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:(0,o.Z)(+e),area):t},area.y=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.Z)(+e),u=null,area):n},area.y0=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.Z)(+e),area):n},area.y1=function(e){return arguments.length?(u=null==e?null:"function"==typeof e?e:(0,o.Z)(+e),area):u},area.lineX0=area.lineY0=function(){return arealine().x(e).y(n)},area.lineY1=function(){return arealine().x(e).y(u)},area.lineX1=function(){return arealine().x(t).y(n)},area.defined=function(e){return arguments.length?(s="function"==typeof e?e:(0,o.Z)(!!e),area):s},area.curve=function(e){return arguments.length?(f=e,null!=l&&(d=f(l)),area):f},area.context=function(e){return arguments.length?(null==e?l=d=null:d=f(l=e),area):l},area}},540652:function(e,t,n){n.d(t,{Z:function(){return __WEBPACK_DEFAULT_EXPORT__}});var r=n(603791),o=n(217728),i=n(404224),a=n(641221);function __WEBPACK_DEFAULT_EXPORT__(){var e=a.x,t=a.y,n=(0,o.Z)(!0),c=null,u=i.Z,s=null;function line(o){var i,a,l,f=o.length,d=!1;for(null==c&&(s=u(l=(0,r.Z)())),i=0;i<=f;++i)!(i<f&&n(a=o[i],i,o))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+e(a,i,o),+t(a,i,o));if(l)return s=null,l+""||null}return line.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,o.Z)(+t),line):e},line.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,o.Z)(+e),line):t},line.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,o.Z)(!!e),line):n},line.curve=function(e){return arguments.length?(u=e,null!=c&&(s=u(c)),line):u},line.context=function(e){return arguments.length?(null==e?c=s=null:s=u(c=e),line):c},line}},641221:function(e,t,n){function x(e){return e[0]}function y(e){return e[1]}n.d(t,{x:function(){return x},y:function(){return y}})},180043:function(e,t,n){n.r(t),n.d(t,{FormatSpecifier:function(){return nt.v},active:function(){return active},arc:function(){return ar.Z},area:function(){return ao.Z},areaRadial:function(){return areaRadial},ascending:function(){return ascending},axisBottom:function(){return axisBottom},axisLeft:function(){return axisLeft},axisRight:function(){return axisRight},axisTop:function(){return axisTop},bisect:function(){return M},bisectLeft:function(){return w},bisectRight:function(){return v},bisector:function(){return bisector},blob:function(){return blob},brush:function(){return brush},brushSelection:function(){return brushSelection},brushX:function(){return brushX},brushY:function(){return brushY},buffer:function(){return buffer},chord:function(){return chord},clientPoint:function(){return d3_selection_src_point},cluster:function(){return cluster},color:function(){return src_color_color},contourDensity:function(){return density},contours:function(){return contours},create:function(){return src_create},creator:function(){return node_modules_d3_selection_src_creator},cross:function(){return cross},csv:function(){return t2},csvFormat:function(){return tS},csvFormatRows:function(){return tN},csvParse:function(){return tE},csvParseRows:function(){return tC},cubehelix:function(){return cubehelix_cubehelix},curveBasis:function(){return aT.ZP},curveBasisClosed:function(){return ak.Z},curveBasisOpen:function(){return aR.Z},curveBundle:function(){return aP.Z},curveCardinal:function(){return aI.ZP},curveCardinalClosed:function(){return aL.Z},curveCardinalOpen:function(){return aO.Z},curveCatmullRom:function(){return aD.Z},curveCatmullRomClosed:function(){return aq.Z},curveCatmullRomOpen:function(){return az.Z},curveLinear:function(){return au.Z},curveLinearClosed:function(){return aB.Z},curveMonotoneX:function(){return aj.Z},curveMonotoneY:function(){return aj.s},curveNatural:function(){return aH.Z},curveStep:function(){return aU.ZP},curveStepAfter:function(){return aU.cD},curveStepBefore:function(){return aU.RN},customEvent:function(){return src_selection_on_customEvent},descending:function(){return descending},deviation:function(){return deviation},dispatch:function(){return P},drag:function(){return drag},dragDisable:function(){return nodrag},dragEnable:function(){return yesdrag},dsv:function(){return dsv_dsv},dsvFormat:function(){return dsv},easeBack:function(){return tK},easeBackIn:function(){return tX},easeBackInOut:function(){return tK},easeBackOut:function(){return t$},easeBounce:function(){return bounceOut},easeBounceIn:function(){return bounceIn},easeBounceInOut:function(){return bounceInOut},easeBounceOut:function(){return bounceOut},easeCircle:function(){return circleInOut},easeCircleIn:function(){return circleIn},easeCircleInOut:function(){return circleInOut},easeCircleOut:function(){return circleOut},easeCubic:function(){return cubicInOut},easeCubicIn:function(){return cubicIn},easeCubicInOut:function(){return cubicInOut},easeCubicOut:function(){return cubicOut},easeElastic:function(){return t0},easeElasticIn:function(){return tJ},easeElasticInOut:function(){return t1},easeElasticOut:function(){return t0},easeExp:function(){return expInOut},easeExpIn:function(){return expIn},easeExpInOut:function(){return expInOut},easeExpOut:function(){return expOut},easeLinear:function(){return linear_linear},easePoly:function(){return tq},easePolyIn:function(){return tO},easePolyInOut:function(){return tq},easePolyOut:function(){return tI},easeQuad:function(){return quadInOut},easeQuadIn:function(){return quadIn},easeQuadInOut:function(){return quadInOut},easeQuadOut:function(){return quadOut},easeSin:function(){return sinInOut},easeSinIn:function(){return sinIn},easeSinInOut:function(){return sinInOut},easeSinOut:function(){return sinOut},entries:function(){return entries},event:function(){return i9},extent:function(){return extent},forceCenter:function(){return src_center},forceCollide:function(){return collide},forceLink:function(){return src_link},forceManyBody:function(){return manyBody},forceRadial:function(){return radial},forceSimulation:function(){return simulation},forceX:function(){return src_x},forceY:function(){return src_y},format:function(){return t9.WU},formatDefaultLocale:function(){return t9.ZP},formatLocale:function(){return ne.Z},formatPrefix:function(){return t9.jH},formatSpecifier:function(){return nt.Z},geoAlbers:function(){return albers},geoAlbersUsa:function(){return albersUsa},geoArea:function(){return d3_geo_src_area},geoAzimuthalEqualArea:function(){return azimuthalEqualArea},geoAzimuthalEqualAreaRaw:function(){return rG},geoAzimuthalEquidistant:function(){return azimuthalEquidistant},geoAzimuthalEquidistantRaw:function(){return rW},geoBounds:function(){return bounds},geoCentroid:function(){return centroid},geoCircle:function(){return circle},geoClipAntimeridian:function(){return n$},geoClipCircle:function(){return clip_circle},geoClipExtent:function(){return clip_extent},geoClipRectangle:function(){return clipRectangle},geoConicConformal:function(){return conicConformal},geoConicConformalRaw:function(){return conicConformalRaw},geoConicEqualArea:function(){return conicEqualArea},geoConicEqualAreaRaw:function(){return conicEqualAreaRaw},geoConicEquidistant:function(){return conicEquidistant},geoConicEquidistantRaw:function(){return conicEquidistantRaw},geoContains:function(){return src_contains},geoDistance:function(){return distance},geoEqualEarth:function(){return equalEarth},geoEqualEarthRaw:function(){return equalEarthRaw},geoEquirectangular:function(){return equirectangular},geoEquirectangularRaw:function(){return equirectangularRaw},geoGnomonic:function(){return gnomonic},geoGnomonicRaw:function(){return gnomonicRaw},geoGraticule:function(){return graticule},geoGraticule10:function(){return graticule10},geoIdentity:function(){return projection_identity},geoInterpolate:function(){return src_interpolate},geoLength:function(){return src_length},geoMercator:function(){return mercator},geoMercatorRaw:function(){return mercatorRaw},geoNaturalEarth1:function(){return naturalEarth1},geoNaturalEarth1Raw:function(){return naturalEarth1Raw},geoOrthographic:function(){return orthographic},geoOrthographicRaw:function(){return orthographicRaw},geoPath:function(){return src_path},geoProjection:function(){return projection},geoProjectionMutator:function(){return projectionMutator},geoRotation:function(){return rotation},geoStereographic:function(){return stereographic},geoStereographicRaw:function(){return stereographicRaw},geoStream:function(){return stream},geoTransform:function(){return transform},geoTransverseMercator:function(){return transverseMercator},geoTransverseMercatorRaw:function(){return transverseMercatorRaw},gray:function(){return gray},hcl:function(){return hcl},hierarchy:function(){return r$.ZP},histogram:function(){return histogram},hsl:function(){return src_color_hsl},html:function(){return t5},image:function(){return src_image},interpolate:function(){return src_value},interpolateArray:function(){return d3_interpolate_src_array},interpolateBasis:function(){return node_modules_d3_interpolate_src_basis},interpolateBasisClosed:function(){return d3_interpolate_src_basisClosed},interpolateBlues:function(){return iD},interpolateBrBG:function(){return o6},interpolateBuGn:function(){return ip},interpolateBuPu:function(){return ig},interpolateCividis:function(){return cividis},interpolateCool:function(){return iK},interpolateCubehelix:function(){return ol},interpolateCubehelixDefault:function(){return iX},interpolateCubehelixLong:function(){return of},interpolateDate:function(){return src_date},interpolateDiscrete:function(){return discrete},interpolateGnBu:function(){return ib},interpolateGreens:function(){return ij},interpolateGreys:function(){return iU},interpolateHcl:function(){return ou},interpolateHclLong:function(){return os},interpolateHsl:function(){return oa},interpolateHslLong:function(){return oc},interpolateHue:function(){return src_hue},interpolateInferno:function(){return i6},interpolateLab:function(){return lab_lab},interpolateMagma:function(){return i3},interpolateNumber:function(){return node_modules_d3_interpolate_src_number},interpolateNumberArray:function(){return d3_interpolate_src_numberArray},interpolateObject:function(){return src_object},interpolateOrRd:function(){return iv},interpolateOranges:function(){return iW},interpolatePRGn:function(){return o8},interpolatePiYG:function(){return o4},interpolatePlasma:function(){return i5},interpolatePuBu:function(){return iA},interpolatePuBuGn:function(){return iw},interpolatePuOr:function(){return ie},interpolatePuRd:function(){return iC},interpolatePurples:function(){return iZ},interpolateRainbow:function(){return rainbow},interpolateRdBu:function(){return ir},interpolateRdGy:function(){return ii},interpolateRdPu:function(){return iN},interpolateRdYlBu:function(){return ic},interpolateRdYlGn:function(){return is},interpolateReds:function(){return iY},interpolateRgb:function(){return r8},interpolateRgbBasis:function(){return r7},interpolateRgbBasisClosed:function(){return r4},interpolateRound:function(){return round},interpolateSinebow:function(){return sinebow},interpolateSpectral:function(){return id},interpolateString:function(){return d3_interpolate_src_string},interpolateTransformCss:function(){return or},interpolateTransformSvg:function(){return oo},interpolateTurbo:function(){return turbo},interpolateViridis:function(){return i2},interpolateWarm:function(){return i$},interpolateYlGn:function(){return iP},interpolateYlGnBu:function(){return iR},interpolateYlOrBr:function(){return iO},interpolateYlOrRd:function(){return iq},interpolateZoom:function(){return src_zoom},interrupt:function(){return interrupt},interval:function(){return d3_timer_src_interval},isoFormat:function(){return a2},isoParse:function(){return a3},json:function(){return json},keys:function(){return keys},lab:function(){return lab},lch:function(){return lch},line:function(){return ai.Z},lineRadial:function(){return src_lineRadial},linkHorizontal:function(){return linkHorizontal},linkRadial:function(){return linkRadial},linkVertical:function(){return linkVertical},local:function(){return local_local},map:function(){return e9},matcher:function(){return node_modules_d3_selection_src_matcher},max:function(){return max},mean:function(){return mean},median:function(){return median},merge:function(){return merge},min:function(){return min},mouse:function(){return d3_selection_src_mouse},namespace:function(){return node_modules_d3_selection_src_namespace},namespaces:function(){return i7},nest:function(){return nest},now:function(){return now},pack:function(){return pack},packEnclose:function(){return enclose},packSiblings:function(){return siblings},pairs:function(){return pairs},partition:function(){return rQ.Z},path:function(){return e4.Z},permute:function(){return permute},pie:function(){return pie},piecewise:function(){return piecewise},pointRadial:function(){return pointRadial},polygonArea:function(){return d3_polygon_src_area},polygonCentroid:function(){return src_centroid},polygonContains:function(){return d3_polygon_src_contains},polygonHull:function(){return hull},polygonLength:function(){return d3_polygon_src_length},precisionFixed:function(){return precisionFixed},precisionPrefix:function(){return precisionPrefix},precisionRound:function(){return precisionRound},quadtree:function(){return quadtree},quantile:function(){return quantile},quantize:function(){return quantize},radialArea:function(){return areaRadial},radialLine:function(){return src_lineRadial},randomBates:function(){return og},randomExponential:function(){return om},randomIrwinHall:function(){return o_},randomLogNormal:function(){return op},randomNormal:function(){return oh},randomUniform:function(){return od},range:function(){return src_range},rgb:function(){return d3_color_src_color_rgb},ribbon:function(){return ribbon},scaleBand:function(){return band},scaleDiverging:function(){return function diverging(){var e=linearish(diverging_transformer()(continuous_identity));return e.copy=function(){return sequential_copy(e,diverging())},initInterpolator.apply(e,arguments)}},scaleDivergingLog:function(){return function divergingLog(){var e=loggish(diverging_transformer()).domain([.1,1,10]);return e.copy=function(){return sequential_copy(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}},scaleDivergingPow:function(){return divergingPow},scaleDivergingSqrt:function(){return divergingSqrt},scaleDivergingSymlog:function(){return function divergingSymlog(){var e=symlogish(diverging_transformer());return e.copy=function(){return sequential_copy(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}},scaleIdentity:function(){return function identity_identity(e){var t;function scale(e){return isNaN(e=+e)?t:e}return scale.invert=scale,scale.domain=scale.range=function(t){return arguments.length?(e=oy.call(t,d3_scale_src_number),scale):e.slice()},scale.unknown=function(e){return arguments.length?(t=e,scale):t},scale.copy=function(){return identity_identity(e).unknown(t)},e=arguments.length?oy.call(e,d3_scale_src_number):[0,1],linearish(scale)}},scaleImplicit:function(){return ox},scaleLinear:function(){return function src_linear_linear(){var e=continuous_transformer()(continuous_identity,continuous_identity);return e.copy=function(){return copy(e,src_linear_linear())},initRange.apply(e,arguments),linearish(e)}},scaleLog:function(){return function log_log(){var e=loggish(continuous_transformer()).domain([1,10]);return e.copy=function(){return copy(e,log_log()).base(e.base())},initRange.apply(e,arguments),e}},scaleOrdinal:function(){return ordinal},scalePoint:function(){return band_point},scalePow:function(){return pow_pow},scaleQuantile:function(){return function quantile_quantile(){var e,t=[],n=[],r=[];function rescale(){var e=0,o=Math.max(1,n.length);for(r=Array(o-1);++e<o;)r[e-1]=quantile(t,e/o);return scale}function scale(t){return isNaN(t=+t)?e:n[M(r,t)]}return scale.invertExtent=function(e){var o=n.indexOf(e);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},scale.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,r=0,o=e.length;r<o;++r)null==(n=e[r])||isNaN(n=+n)||t.push(n);return t.sort(ascending),rescale()},scale.range=function(e){return arguments.length?(n=ov.call(e),rescale()):n.slice()},scale.unknown=function(t){return arguments.length?(e=t,scale):e},scale.quantiles=function(){return r.slice()},scale.copy=function(){return quantile_quantile().domain(t).range(n).unknown(e)},initRange.apply(scale,arguments)}},scaleQuantize:function(){return function quantize_quantize(){var e,t=0,n=1,r=1,o=[.5],i=[0,1];function scale(t){return t<=t?i[M(o,t,0,r)]:e}function rescale(){var e=-1;for(o=Array(r);++e<r;)o[e]=((e+1)*n-(e-r)*t)/(r+1);return scale}return scale.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],rescale()):[t,n]},scale.range=function(e){return arguments.length?(r=(i=ov.call(e)).length-1,rescale()):i.slice()},scale.invertExtent=function(e){var a=i.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,o[0]]:a>=r?[o[r-1],n]:[o[a-1],o[a]]},scale.unknown=function(t){return arguments.length&&(e=t),scale},scale.thresholds=function(){return o.slice()},scale.copy=function(){return quantize_quantize().domain([t,n]).range(i).unknown(e)},initRange.apply(linearish(scale),arguments)}},scaleSequential:function(){return function sequential(){var e=linearish(sequential_transformer()(continuous_identity));return e.copy=function(){return sequential_copy(e,sequential())},initInterpolator.apply(e,arguments)}},scaleSequentialLog:function(){return function sequentialLog(){var e=loggish(sequential_transformer()).domain([1,10]);return e.copy=function(){return sequential_copy(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}},scaleSequentialPow:function(){return sequentialPow},scaleSequentialQuantile:function(){return function sequentialQuantile(){var e=[],t=continuous_identity;function scale(n){if(!isNaN(n=+n))return t((M(e,n)-1)/(e.length-1))}return scale.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(ascending),scale},scale.interpolator=function(e){return arguments.length?(t=e,scale):t},scale.copy=function(){return sequentialQuantile(t).domain(e)},initInterpolator.apply(scale,arguments)}},scaleSequentialSqrt:function(){return sequentialSqrt},scaleSequentialSymlog:function(){return function sequentialSymlog(){var e=symlogish(sequential_transformer());return e.copy=function(){return sequential_copy(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}},scaleSqrt:function(){return pow_sqrt},scaleSymlog:function(){return function symlog(){var e=symlogish(continuous_transformer());return e.copy=function(){return copy(e,symlog()).constant(e.constant())},initRange.apply(e,arguments)}},scaleThreshold:function(){return function threshold(){var e,t=[.5],n=[0,1],r=1;function scale(o){return o<=o?n[M(t,o,0,r)]:e}return scale.domain=function(e){return arguments.length?(r=Math.min((t=ov.call(e)).length,n.length-1),scale):t.slice()},scale.range=function(e){return arguments.length?(n=ov.call(e),r=Math.min(t.length,n.length-1),scale):n.slice()},scale.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},scale.unknown=function(t){return arguments.length?(e=t,scale):e},scale.copy=function(){return threshold().domain(t).range(n).unknown(e)},initRange.apply(scale,arguments)}},scaleTime:function(){return time},scaleUtc:function(){return utcTime},scan:function(){return scan},schemeAccent:function(){return oW},schemeBlues:function(){return iz},schemeBrBG:function(){return o3},schemeBuGn:function(){return ih},schemeBuPu:function(){return i_},schemeCategory10:function(){return oG},schemeDark2:function(){return oX},schemeGnBu:function(){return im},schemeGreens:function(){return iB},schemeGreys:function(){return iH},schemeOrRd:function(){return iy},schemeOranges:function(){return iG},schemePRGn:function(){return o5},schemePaired:function(){return o$},schemePastel1:function(){return oK},schemePastel2:function(){return oQ},schemePiYG:function(){return o7},schemePuBu:function(){return iM},schemePuBuGn:function(){return ix},schemePuOr:function(){return o9},schemePuRd:function(){return iE},schemePurples:function(){return iF},schemeRdBu:function(){return it},schemeRdGy:function(){return io},schemeRdPu:function(){return iS},schemeRdYlBu:function(){return ia},schemeRdYlGn:function(){return iu},schemeReds:function(){return iV},schemeSet1:function(){return oJ},schemeSet2:function(){return o0},schemeSet3:function(){return o1},schemeSpectral:function(){return il},schemeTableau10:function(){return o2},schemeYlGn:function(){return iT},schemeYlGnBu:function(){return ik},schemeYlOrBr:function(){return iL},schemeYlOrRd:function(){return iI},select:function(){return node_modules_d3_selection_src_select},selectAll:function(){return src_selectAll},selection:function(){return at},selector:function(){return node_modules_d3_selection_src_selector},selectorAll:function(){return node_modules_d3_selection_src_selectorAll},set:function(){return tt},shuffle:function(){return shuffle},stack:function(){return aF.Z},stackOffsetDiverging:function(){return aV.Z},stackOffsetExpand:function(){return aZ.Z},stackOffsetNone:function(){return aY.Z},stackOffsetSilhouette:function(){return aG.Z},stackOffsetWiggle:function(){return aW.Z},stackOrderAppearance:function(){return aX.Z},stackOrderAscending:function(){return a$.Z},stackOrderDescending:function(){return aK.Z},stackOrderInsideOut:function(){return aQ.Z},stackOrderNone:function(){return aJ.Z},stackOrderReverse:function(){return a0.Z},stratify:function(){return stratify},style:function(){return src_selection_style_styleValue},sum:function(){return sum},svg:function(){return t8},symbol:function(){return symbol},symbolCircle:function(){return ad},symbolCross:function(){return ah},symbolDiamond:function(){return ag},symbolSquare:function(){return ax},symbolStar:function(){return av},symbolTriangle:function(){return aM},symbolWye:function(){return aS},symbols:function(){return aN},text:function(){return src_text},thresholdFreedmanDiaconis:function(){return freedmanDiaconis},thresholdScott:function(){return scott},thresholdSturges:function(){return sturges},tickFormat:function(){return tickFormat},tickIncrement:function(){return tickIncrement},tickStep:function(){return tickStep},ticks:function(){return ticks},timeDay:function(){return ok},timeDays:function(){return oR},timeFormat:function(){return u},timeFormatDefaultLocale:function(){return defaultLocale_defaultLocale},timeFormatLocale:function(){return formatLocale},timeFriday:function(){return oE.mC},timeFridays:function(){return oE.b$},timeHour:function(){return oT.Z},timeHours:function(){return oT.i},timeInterval:function(){return oC.Z},timeMillisecond:function(){return oO.Z},timeMilliseconds:function(){return oO.m},timeMinute:function(){return oP.Z},timeMinutes:function(){return oP.L},timeMonday:function(){return oE.wA},timeMondays:function(){return oE.bJ},timeMonth:function(){return oA.Z},timeMonths:function(){return oA.e},timeParse:function(){return s},timeSaturday:function(){return oE.EY},timeSaturdays:function(){return oE.Ff},timeSecond:function(){return oL.Z},timeSeconds:function(){return oL.m},timeSunday:function(){return oE.OM},timeSundays:function(){return oE.vm},timeThursday:function(){return oE.bL},timeThursdays:function(){return oE.$t},timeTuesday:function(){return oE.sy},timeTuesdays:function(){return oE.aU},timeWednesday:function(){return oE.zg},timeWednesdays:function(){return oE.Ld},timeWeek:function(){return oE.OM},timeWeeks:function(){return oE.vm},timeYear:function(){return oM.Z},timeYears:function(){return oM.g},timeout:function(){return src_timeout},timer:function(){return timer},timerFlush:function(){return timerFlush},touch:function(){return d3_selection_src_touch},touches:function(){return touches},transition:function(){return transition_transition},transpose:function(){return transpose},tree:function(){return tree},treemap:function(){return treemap},treemapBinary:function(){return binary},treemapDice:function(){return r2.Z},treemapResquarify:function(){return r5},treemapSlice:function(){return treemap_slice},treemapSliceDice:function(){return sliceDice},treemapSquarify:function(){return r6},tsv:function(){return t3},tsvFormat:function(){return tP},tsvFormatRows:function(){return tL},tsvParse:function(){return tR},tsvParseRows:function(){return tT},utcDay:function(){return oz},utcDays:function(){return oD},utcFormat:function(){return l},utcFriday:function(){return oI.QQ},utcFridays:function(){return oI.fz},utcHour:function(){return oV.Z},utcHours:function(){return oV.X},utcMillisecond:function(){return oO.Z},utcMilliseconds:function(){return oO.m},utcMinute:function(){return oY.Z},utcMinutes:function(){return oY.N},utcMonday:function(){return oI.l6},utcMondays:function(){return oI.$3},utcMonth:function(){return oZ.Z},utcMonths:function(){return oZ.K},utcParse:function(){return f},utcSaturday:function(){return oI.g4},utcSaturdays:function(){return oI.Q_},utcSecond:function(){return oL.Z},utcSeconds:function(){return oL.m},utcSunday:function(){return oI.Ox},utcSundays:function(){return oI.SU},utcThursday:function(){return oI.hB},utcThursdays:function(){return oI.xj},utcTuesday:function(){return oI.J1},utcTuesdays:function(){return oI.DK},utcWednesday:function(){return oI.b3},utcWednesdays:function(){return oI.uy},utcWeek:function(){return oI.Ox},utcWeeks:function(){return oI.SU},utcYear:function(){return oB.Z},utcYears:function(){return oB.D},values:function(){return values},variance:function(){return variance},version:function(){return m},voronoi:function(){return voronoi},window:function(){return d3_node_modules_d3_selection_src_window},xml:function(){return t6},zip:function(){return zip},zoom:function(){return zoom},zoomIdentity:function(){return a7},zoomTransform:function(){return transform_transform}});var r,o,i,a,c,u,s,l,f,d,h,p,_,g,m="5.16.0";function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){var t;return 1===e.length&&(t=e,e=function(e,n){return ascending(t(e),n)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;0>e(t[i],n)?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}var b=bisector(ascending),v=b.right,w=b.left,M=v;function pairs(e,t){null==t&&(t=pair);for(var n=0,r=e.length-1,o=e[0],i=Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return i}function pair(e,t){return[e,t]}function cross(e,t,n){var r,o,i,a,c=e.length,u=t.length,s=Array(c*u);for(null==n&&(n=pair),r=i=0;r<c;++r)for(a=e[r],o=0;o<u;++o,++i)s[i]=n(a,t[o]);return s}function descending(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function number(e){return null===e?NaN:+e}function variance(e,t){var n,r,o=e.length,i=0,a=-1,c=0,u=0;if(null==t)for(;++a<o;)isNaN(n=number(e[a]))||(r=n-c,c+=r/++i,u+=r*(n-c));else for(;++a<o;)isNaN(n=number(t(e[a],a,e)))||(r=n-c,c+=r/++i,u+=r*(n-c));if(i>1)return u/(i-1)}function deviation(e,t){var n=variance(e,t);return n?Math.sqrt(n):n}function extent(e,t){var n,r,o,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=o=n;++a<i;)null!=(n=e[a])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=o=n;++a<i;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]}var A=Array.prototype,E=A.slice,C=A.map;function src_constant(e){return function(){return e}}function identity(e){return e}function src_range(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=Array(o);++r<o;)i[r]=e+r*n;return i}var S=Math.sqrt(50),N=Math.sqrt(10),k=Math.sqrt(2);function ticks(e,t,n){var r,o,i,a,c=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=tickIncrement(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),i=Array(o=Math.ceil((t=Math.floor(t/a))-e+1));++c<o;)i[c]=(e+c)*a;else for(i=Array(o=Math.ceil((e=Math.floor(e*a))-(t=Math.ceil(t*a))+1));++c<o;)i[c]=(e-c)/a;return r&&i.reverse(),i}function tickIncrement(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=S?10:i>=N?5:i>=k?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=S?10:i>=N?5:i>=k?2:1)}function tickStep(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=S?o*=10:i>=N?o*=5:i>=k&&(o*=2),t<e?-o:o}function sturges(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function histogram(){var e=identity,t=extent,n=sturges;function histogram(r){var o,i,a=r.length,c=Array(a);for(o=0;o<a;++o)c[o]=e(r[o],o,r);var u=t(c),s=u[0],l=u[1],f=n(c,s,l);Array.isArray(f)||(f=tickStep(s,l,f),f=src_range(Math.ceil(s/f)*f,l,f));for(var d=f.length;f[0]<=s;)f.shift(),--d;for(;f[d-1]>l;)f.pop(),--d;var h,p=Array(d+1);for(o=0;o<=d;++o)(h=p[o]=[]).x0=o>0?f[o-1]:s,h.x1=o<d?f[o]:l;for(o=0;o<a;++o)s<=(i=c[o])&&i<=l&&p[M(f,i,0,d)].push(r[o]);return p}return histogram.value=function(t){return arguments.length?(e="function"==typeof t?t:src_constant(t),histogram):e},histogram.domain=function(e){return arguments.length?(t="function"==typeof e?e:src_constant([e[0],e[1]]),histogram):t},histogram.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?src_constant(E.call(e)):src_constant(e),histogram):n},histogram}function quantile(e,t,n){if(null==n&&(n=number),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e);return a+(+n(e[i+1],i+1,e)-a)*(o-i)}}function freedmanDiaconis(e,t,n){return Math.ceil((n-t)/(2*(quantile(e=C.call(e,number).sort(ascending),.75)-quantile(e,.25))*Math.pow(e.length,-1/3)))}function scott(e,t,n){return Math.ceil((n-t)/(3.5*deviation(e)*Math.pow(e.length,-1/3)))}function max(e,t){var n,r,o=e.length,i=-1;if(null==t){for(;++i<o;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<o;)null!=(n=e[i])&&n>r&&(r=n)}else for(;++i<o;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<o;)null!=(n=t(e[i],i,e))&&n>r&&(r=n);return r}function mean(e,t){var n,r=e.length,o=r,i=-1,a=0;if(null==t)for(;++i<r;)isNaN(n=number(e[i]))?--o:a+=n;else for(;++i<r;)isNaN(n=number(t(e[i],i,e)))?--o:a+=n;if(o)return a/o}function median(e,t){var n,r=e.length,o=-1,i=[];if(null==t)for(;++o<r;)isNaN(n=number(e[o]))||i.push(n);else for(;++o<r;)isNaN(n=number(t(e[o],o,e)))||i.push(n);return quantile(i.sort(ascending),.5)}function merge(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=Array(a);--o>=0;)for(t=(r=e[o]).length;--t>=0;)n[--a]=r[t];return n}function min(e,t){var n,r,o=e.length,i=-1;if(null==t){for(;++i<o;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<o;)null!=(n=e[i])&&r>n&&(r=n)}else for(;++i<o;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<o;)null!=(n=t(e[i],i,e))&&r>n&&(r=n);return r}function permute(e,t){for(var n=t.length,r=Array(n);n--;)r[n]=e[t[n]];return r}function scan(e,t){if(n=e.length){var n,r,o=0,i=0,a=e[0];for(null==t&&(t=ascending);++o<n;)(0>t(r=e[o],a)||0!==t(a,a))&&(a=r,i=o);if(0===t(a,a))return i}}function shuffle(e,t,n){for(var r,o,i=(null==n?e.length:n)-(t=null==t?0:+t);i;)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e}function sum(e,t){var n,r=e.length,o=-1,i=0;if(null==t)for(;++o<r;)(n=+e[o])&&(i+=n);else for(;++o<r;)(n=+t(e[o],o,e))&&(i+=n);return i}function transpose(e){if(!(o=e.length))return[];for(var t=-1,n=min(e,transpose_length),r=Array(n);++t<n;)for(var o,i=-1,a=r[t]=Array(o);++i<o;)a[i]=e[i][t];return r}function transpose_length(e){return e.length}function zip(){return transpose(arguments)}var R=Array.prototype.slice;function src_identity(e){return e}function translateX(e){return"translate("+(e+.5)+",0)"}function translateY(e){return"translate(0,"+(e+.5)+")"}function entering(){return!this.__axis}function axis(e,t){var n=[],r=null,o=null,i=6,a=6,c=3,u=1===e||4===e?-1:1,s=4===e||2===e?"x":"y",l=1===e||3===e?translateX:translateY;function axis(f){var d=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,h=null==o?t.tickFormat?t.tickFormat.apply(t,n):src_identity:o,p=Math.max(i,0)+c,_=t.range(),g=+_[0]+.5,m=+_[_.length-1]+.5,b=(t.bandwidth?function(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}:function(e){return function(t){return+e(t)}})(t.copy()),v=f.selection?f.selection():f,w=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(d,t).order(),A=M.exit(),E=M.enter().append("g").attr("class","tick"),C=M.select("line"),S=M.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(E),C=C.merge(E.append("line").attr("stroke","currentColor").attr(s+"2",u*i)),S=S.merge(E.append("text").attr("fill","currentColor").attr(s,u*p).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),f!==v&&(w=w.transition(f),M=M.transition(f),C=C.transition(f),S=S.transition(f),A=A.transition(f).attr("opacity",1e-6).attr("transform",function(e){return isFinite(e=b(e))?l(e):this.getAttribute("transform")}),E.attr("opacity",1e-6).attr("transform",function(e){var t=this.parentNode.__axis;return l(t&&isFinite(t=t(e))?t:b(e))})),A.remove(),w.attr("d",4===e||2==e?a?"M"+u*a+","+g+"H0.5V"+m+"H"+u*a:"M0.5,"+g+"V"+m:a?"M"+g+","+u*a+"V0.5H"+m+"V"+u*a:"M"+g+",0.5H"+m),M.attr("opacity",1).attr("transform",function(e){return l(b(e))}),C.attr(s+"2",u*i),S.attr(s,u*p).text(h),v.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),v.each(function(){this.__axis=b})}return axis.scale=function(e){return arguments.length?(t=e,axis):t},axis.ticks=function(){return n=R.call(arguments),axis},axis.tickArguments=function(e){return arguments.length?(n=null==e?[]:R.call(e),axis):n.slice()},axis.tickValues=function(e){return arguments.length?(r=null==e?null:R.call(e),axis):r&&r.slice()},axis.tickFormat=function(e){return arguments.length?(o=e,axis):o},axis.tickSize=function(e){return arguments.length?(i=a=+e,axis):i},axis.tickSizeInner=function(e){return arguments.length?(i=+e,axis):i},axis.tickSizeOuter=function(e){return arguments.length?(a=+e,axis):a},axis.tickPadding=function(e){return arguments.length?(c=+e,axis):c},axis}function axisTop(e){return axis(1,e)}function axisRight(e){return axis(2,e)}function axisBottom(e){return axis(3,e)}function axisLeft(e){return axis(4,e)}var T={value:function(){}};function dispatch(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new Dispatch(r)}function Dispatch(e){this._=e}function set(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=T,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,t){var n,r=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((n=(e=o[i]).type)&&(n=function(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=set(r[n],e.name,t);else if(null==t)for(n in r)r[n]=set(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Dispatch(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var P=dispatch;function none(){}function selector(e){return null==e?none:function(){return this.querySelector(e)}}function empty(){return[]}function sparse(e){return Array(e.length)}function EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function bindIndex(e,t,n,r,o,i){for(var a,c=0,u=t.length,s=i.length;c<s;++c)(a=t[c])?(a.__data__=i[c],r[c]=a):n[c]=new EnterNode(e,i[c]);for(;c<u;++c)(a=t[c])&&(o[c]=a)}function bindKey(e,t,n,r,o,i,a){var c,u,s,l={},f=t.length,d=i.length,h=Array(f);for(c=0;c<f;++c)(u=t[c])&&(h[c]=s="$"+a.call(u,u.__data__,c,t),s in l?o[c]=u:l[s]=u);for(c=0;c<d;++c)(u=l[s="$"+a.call(e,i[c],c,i)])?(r[c]=u,u.__data__=i[c],l[s]=null):n[c]=new EnterNode(e,i[c]);for(c=0;c<f;++c)(u=t[c])&&l[h[c]]===u&&(o[c]=u)}function sort_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var L="http://www.w3.org/1999/xhtml",O={svg:"http://www.w3.org/2000/svg",xhtml:L,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),O.hasOwnProperty(t)?{space:O[t],local:e}:e}function src_window(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}function classedAdd(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function classedRemove(e,t){for(var n=classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function textRemove(){this.textContent=""}function htmlRemove(){this.innerHTML=""}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creator(e){var t=namespace(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===L&&t.documentElement.namespaceURI===L?t.createElement(e):t.createElementNS(n,e)}})(t)}function constantNull(){return null}function remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}ClassList.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var I={},q=null;function filterContextListener(e,t,n){return e=contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function contextListener(e,t,n){return function(r){var o=q;q=r;try{e.call(this,this.__data__,t,n)}finally{q=o}}}function onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function onAdd(e,t,n){var r=I.hasOwnProperty(e.type)?filterContextListener:contextListener;return function(o,i,a){var c,u=this.__on,s=r(t,i,a);if(u){for(var l=0,f=u.length;l<f;++l)if((c=u[l]).type===e.type&&c.name===e.name){this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=s,c.capture=n),c.value=t;return}}this.addEventListener(e.type,s,n),c={type:e.type,name:e.name,value:t,listener:s,capture:n},u?u.push(c):this.__on=[c]}}function customEvent(e,t,n,r){var o=q;e.sourceEvent=q,q=e;try{return t.apply(n,r)}finally{q=o}}function dispatchEvent(e,t,n){var r=src_window(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}"undefined"==typeof document||"onmouseenter"in document.documentElement||(I={mouseenter:"mouseover",mouseleave:"mouseout"});var z=[null];function Selection(e,t){this._groups=e,this._parents=t}function src_select(e){return"string"==typeof e?new Selection([[document.querySelector(e)]],[document.documentElement]):new Selection([[e]],z)}function nopropagation(){q.stopImmediatePropagation()}function noevent(){q.preventDefault(),q.stopImmediatePropagation()}function nodrag(e){var t=e.document.documentElement,n=src_select(e).on("dragstart.drag",noevent,!0);"onselectstart"in t?n.on("selectstart.drag",noevent,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function yesdrag(e,t){var n=e.document.documentElement,r=src_select(e).on("dragstart.drag",null);t&&(r.on("click.drag",noevent,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function src_define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Color(){}Selection.prototype=(function(){return new Selection([[document.documentElement]],z)}).prototype={constructor:Selection,select:function(e){"function"!=typeof e&&(e=selector(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,c=t[o],u=c.length,s=r[o]=Array(u),l=0;l<u;++l)(i=c[l])&&(a=e.call(i,i.__data__,l,c))&&("__data__"in i&&(a.__data__=i.__data__),s[l]=a);return new Selection(r,this._parents)},selectAll:function(e){if("function"!=typeof e){var t;e=null==(t=e)?empty:function(){return this.querySelectorAll(t)}}for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var c,u=n[a],s=u.length,l=0;l<s;++l)(c=u[l])&&(o.push(e.call(c,c.__data__,l,u)),i.push(c));return new Selection(o,i)},filter:function(e){if("function"!=typeof e){var t;t=e,e=function(){return this.matches(t)}}for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i)for(var a,c=n[i],u=c.length,s=o[i]=[],l=0;l<u;++l)(a=c[l])&&e.call(a,a.__data__,l,c)&&s.push(a);return new Selection(o,this._parents)},data:function(e,t){if(!e)return h=Array(this.size()),s=-1,this.each(function(e){h[++s]=e}),h;var n=t?bindKey:bindIndex,r=this._parents,o=this._groups;"function"!=typeof e&&(m=e,e=function(){return m});for(var i=o.length,a=Array(i),c=Array(i),u=Array(i),s=0;s<i;++s){var l=r[s],f=o[s],d=f.length,h=e.call(l,l&&l.__data__,s,r),p=h.length,_=c[s]=Array(p),g=a[s]=Array(p);n(l,f,_,g,u[s]=Array(d),h,t);for(var m,b,v,w=0,M=0;w<p;++w)if(b=_[w]){for(w>=M&&(M=w+1);!(v=g[M])&&++M<p;);b._next=v||null}}return(a=new Selection(a,r))._enter=c,a._exit=u,a},enter:function(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),c=0;c<i;++c)for(var u,s=t[c],l=n[c],f=s.length,d=a[c]=Array(f),h=0;h<f;++h)(u=s[h]||l[h])&&(d[h]=u);for(;c<r;++c)a[c]=t[c];return new Selection(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function compareNode(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=sort_ascending);for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o){for(var i,a=t[o],c=a.length,u=r[o]=Array(c),s=0;s<c;++s)(i=a[s])&&(u[s]=i);u.sort(compareNode)}return new Selection(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,c=i.length;a<c;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){var r;return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):(r=this.node()).style.getPropertyValue(e)||src_window(r).getComputedStyle(r,null).getPropertyValue(e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=classArray(e+"");if(arguments.length<2){for(var r=classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}:t?function(e){return function(){classedAdd(this,e)}}:function(e){return function(){classedRemove(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?textRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?htmlRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(raise)},lower:function(){return this.each(lower)},append:function(e){var t="function"==typeof e?e:creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:creator(e),r=null==t?constantNull:"function"==typeof t?t:selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(remove)},clone:function(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var c=this.node().__on;if(c){for(var u,s=0,l=c.length;s<l;++s)for(r=0,u=c[s];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(c=t?onAdd:onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(c(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return dispatchEvent(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return dispatchEvent(this,e,t)}})(e,t))}};var D="\\s*([+-]?\\d+)\\s*",B="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",j="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H=/^#([0-9a-f]{3,8})$/,U=RegExp("^rgb\\("+[D,D,D]+"\\)$"),F=RegExp("^rgb\\("+[j,j,j]+"\\)$"),Z=RegExp("^rgba\\("+[D,D,D,B]+"\\)$"),V=RegExp("^rgba\\("+[j,j,j,B]+"\\)$"),Y=RegExp("^hsl\\("+[B,j,j]+"\\)$"),G=RegExp("^hsla\\("+[B,j,j,B]+"\\)$"),W={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=H.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?rgbn(t):3===n?new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?rgba(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=U.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=F.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Z.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=V.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Y.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=G.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):W.hasOwnProperty(e)?rgbn(W[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rgb(e,t,n,r)}function color_rgb(e,t,n,r){var o;return 1==arguments.length?((o=e)instanceof Color||(o=color(o)),o)?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb:new Rgb(e,t,n,null==r?1:r)}function Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,r)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,c=i-o,u=(i+o)/2;return c?(a=t===i?(n-r)/c+(n<r)*6:n===i?(r-t)/c+2:(t-n)/c+4,c/=u<.5?i+o:2-i-o,a*=60):c=u>0&&u<1?0:a,new Hsl(a,c,u,e.opacity)}function Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function basis(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function d3_interpolate_src_constant(e){return function(){return e}}function nogamma(e,t){var n=t-e;return n?function(t){return e+t*n}:d3_interpolate_src_constant(isNaN(e)?t:e)}src_define(Color,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,function(e,t,n,r){return 1==arguments.length?hslConvert(e):new Hsl(e,t,n,null==r?1:r)},extend(Color,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,r),hsl2rgb(e,o,r),hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var X=function rgbGamma(e){var t,n=1==(t=+(t=e))?nogamma:function(e,n){var r,o,i;return n-e?(r=e,o=n,r=Math.pow(r,i=t),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):d3_interpolate_src_constant(isNaN(e)?n:e)};function rgb(e,t){var r=n((e=color_rgb(e)).r,(t=color_rgb(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=nogamma(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),c=Array(o);for(n=0;n<o;++n)r=color_rgb(t[n]),i[n]=r.r||0,a[n]=r.g||0,c[n]=r.b||0;return i=e(i),a=e(a),c=e(c),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=c(e),r+""}}}function src_number(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}rgbSpline(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,c=r<t-1?e[r+2]:2*i-o;return basis((n-r/t)*t,a,o,i,c)}}),rgbSpline(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],c=e[(r+2)%t];return basis((n-r/t)*t,o,i,a,c)}});var $=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K=RegExp($.source,"g"),Q={},J=null;function on_filterContextListener(e,t,n){return e=on_contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function on_contextListener(e,t,n){return function(r){var o=J;J=r;try{e.call(this,this.__data__,t,n)}finally{J=o}}}function on_onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function on_onAdd(e,t,n){var r=Q.hasOwnProperty(e.type)?on_filterContextListener:on_contextListener;return function(o,i,a){var c,u=this.__on,s=r(t,i,a);if(u){for(var l=0,f=u.length;l<f;++l)if((c=u[l]).type===e.type&&c.name===e.name){this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=s,c.capture=n),c.value=t;return}}this.addEventListener(e.type,s,n),c={type:e.type,name:e.name,value:t,listener:s,capture:n},u?u.push(c):this.__on=[c]}}function sourceEvent(){for(var e,t=J;e=t.sourceEvent;)t=e;return t}function point(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function selector_none(){}function src_selector(e){return null==e?selector_none:function(){return this.querySelector(e)}}function selectorAll_empty(){return[]}function selection_sparse(e){return Array(e.length)}function enter_EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function data_bindIndex(e,t,n,r,o,i){for(var a,c=0,u=t.length,s=i.length;c<s;++c)(a=t[c])?(a.__data__=i[c],r[c]=a):n[c]=new enter_EnterNode(e,i[c]);for(;c<u;++c)(a=t[c])&&(o[c]=a)}function data_bindKey(e,t,n,r,o,i,a){var c,u,s,l={},f=t.length,d=i.length,h=Array(f);for(c=0;c<f;++c)(u=t[c])&&(h[c]=s="$"+a.call(u,u.__data__,c,t),s in l?o[c]=u:l[s]=u);for(c=0;c<d;++c)(u=l[s="$"+a.call(e,i[c],c,i)])?(r[c]=u,u.__data__=i[c],l[s]=null):n[c]=new enter_EnterNode(e,i[c]);for(c=0;c<f;++c)(u=t[c])&&l[h[c]]===u&&(o[c]=u)}function selection_sort_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}"undefined"==typeof document||"onmouseenter"in document.documentElement||(Q={mouseenter:"mouseover",mouseleave:"mouseout"}),enter_EnterNode.prototype={constructor:enter_EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var ee="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function src_namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),et.hasOwnProperty(t)?{space:et[t],local:e}:e}function d3_selection_src_window(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function classed_classArray(e){return e.trim().split(/^|\s+/)}function classed_classList(e){return e.classList||new classed_ClassList(e)}function classed_ClassList(e){this._node=e,this._names=classed_classArray(e.getAttribute("class")||"")}function classed_classedAdd(e,t){for(var n=classed_classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function classed_classedRemove(e,t){for(var n=classed_classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function text_textRemove(){this.textContent=""}function html_htmlRemove(){this.innerHTML=""}function raise_raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower_lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function src_creator(e){var t=src_namespace(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ee&&t.documentElement.namespaceURI===ee?t.createElement(e):t.createElementNS(n,e)}})(t)}function insert_constantNull(){return null}function remove_remove(){var e=this.parentNode;e&&e.removeChild(this)}function clone_selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function clone_selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dispatch_dispatchEvent(e,t,n){var r=d3_selection_src_window(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}classed_ClassList.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var en=[null];function selection_Selection(e,t){this._groups=e,this._parents=t}function d3_selection_src_select(e){return"string"==typeof e?new selection_Selection([[document.querySelector(e)]],[document.documentElement]):new selection_Selection([[e]],en)}function mouse(e){var t=sourceEvent();return t.changedTouches&&(t=t.changedTouches[0]),point(e,t)}function src_selector_none(){}function d3_selection_src_selector(e){return null==e?src_selector_none:function(){return this.querySelector(e)}}function src_selectorAll_empty(){return[]}function d3_selection_src_selectorAll(e){return null==e?src_selectorAll_empty:function(){return this.querySelectorAll(e)}}function d3_selection_src_matcher(e){return function(){return this.matches(e)}}function src_selection_sparse(e){return Array(e.length)}function selection_enter_EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function selection_data_bindIndex(e,t,n,r,o,i){for(var a,c=0,u=t.length,s=i.length;c<s;++c)(a=t[c])?(a.__data__=i[c],r[c]=a):n[c]=new selection_enter_EnterNode(e,i[c]);for(;c<u;++c)(a=t[c])&&(o[c]=a)}function selection_data_bindKey(e,t,n,r,o,i,a){var c,u,s,l={},f=t.length,d=i.length,h=Array(f);for(c=0;c<f;++c)(u=t[c])&&(h[c]=s="$"+a.call(u,u.__data__,c,t),s in l?o[c]=u:l[s]=u);for(c=0;c<d;++c)(u=l[s="$"+a.call(e,i[c],c,i)])?(r[c]=u,u.__data__=i[c],l[s]=null):n[c]=new selection_enter_EnterNode(e,i[c]);for(c=0;c<f;++c)(u=t[c])&&l[h[c]]===u&&(o[c]=u)}function src_selection_sort_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}selection_Selection.prototype=(function(){return new selection_Selection([[document.documentElement]],en)}).prototype={constructor:selection_Selection,select:function(e){"function"!=typeof e&&(e=src_selector(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,c=t[o],u=c.length,s=r[o]=Array(u),l=0;l<u;++l)(i=c[l])&&(a=e.call(i,i.__data__,l,c))&&("__data__"in i&&(a.__data__=i.__data__),s[l]=a);return new selection_Selection(r,this._parents)},selectAll:function(e){if("function"!=typeof e){var t;e=null==(t=e)?selectorAll_empty:function(){return this.querySelectorAll(t)}}for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var c,u=n[a],s=u.length,l=0;l<s;++l)(c=u[l])&&(o.push(e.call(c,c.__data__,l,u)),i.push(c));return new selection_Selection(o,i)},filter:function(e){if("function"!=typeof e){var t;t=e,e=function(){return this.matches(t)}}for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i)for(var a,c=n[i],u=c.length,s=o[i]=[],l=0;l<u;++l)(a=c[l])&&e.call(a,a.__data__,l,c)&&s.push(a);return new selection_Selection(o,this._parents)},data:function(e,t){if(!e)return h=Array(this.size()),s=-1,this.each(function(e){h[++s]=e}),h;var n=t?data_bindKey:data_bindIndex,r=this._parents,o=this._groups;"function"!=typeof e&&(m=e,e=function(){return m});for(var i=o.length,a=Array(i),c=Array(i),u=Array(i),s=0;s<i;++s){var l=r[s],f=o[s],d=f.length,h=e.call(l,l&&l.__data__,s,r),p=h.length,_=c[s]=Array(p),g=a[s]=Array(p);n(l,f,_,g,u[s]=Array(d),h,t);for(var m,b,v,w=0,M=0;w<p;++w)if(b=_[w]){for(w>=M&&(M=w+1);!(v=g[M])&&++M<p;);b._next=v||null}}return(a=new selection_Selection(a,r))._enter=c,a._exit=u,a},enter:function(){return new selection_Selection(this._enter||this._groups.map(selection_sparse),this._parents)},exit:function(){return new selection_Selection(this._exit||this._groups.map(selection_sparse),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),c=0;c<i;++c)for(var u,s=t[c],l=n[c],f=s.length,d=a[c]=Array(f),h=0;h<f;++h)(u=s[h]||l[h])&&(d[h]=u);for(;c<r;++c)a[c]=t[c];return new selection_Selection(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function compareNode(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=selection_sort_ascending);for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o){for(var i,a=t[o],c=a.length,u=r[o]=Array(c),s=0;s<c;++s)(i=a[s])&&(u[s]=i);u.sort(compareNode)}return new selection_Selection(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,c=i.length;a<c;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=src_namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){var r;return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):(r=this.node()).style.getPropertyValue(e)||d3_selection_src_window(r).getComputedStyle(r,null).getPropertyValue(e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=classed_classArray(e+"");if(arguments.length<2){for(var r=classed_classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?classed_classedAdd:classed_classedRemove)(this,e)}}:t?function(e){return function(){classed_classedAdd(this,e)}}:function(e){return function(){classed_classedRemove(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?text_textRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?html_htmlRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(raise_raise)},lower:function(){return this.each(lower_lower)},append:function(e){var t="function"==typeof e?e:src_creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:src_creator(e),r=null==t?insert_constantNull:"function"==typeof t?t:src_selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(remove_remove)},clone:function(e){return this.select(e?clone_selection_cloneDeep:clone_selection_cloneShallow)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var c=this.node().__on;if(c){for(var u,s=0,l=c.length;s<l;++s)for(r=0,u=c[s];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(c=t?on_onAdd:on_onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(c(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return dispatch_dispatchEvent(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return dispatch_dispatchEvent(this,e,t)}})(e,t))}},selection_enter_EnterNode.prototype={constructor:selection_enter_EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var er="http://www.w3.org/1999/xhtml",eo={svg:"http://www.w3.org/2000/svg",xhtml:er,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d3_selection_src_namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),eo.hasOwnProperty(t)?{space:eo[t],local:e}:e}function node_modules_d3_selection_src_window(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function selection_style_styleValue(e,t){return e.style.getPropertyValue(t)||node_modules_d3_selection_src_window(e).getComputedStyle(e,null).getPropertyValue(t)}function selection_classed_classArray(e){return e.trim().split(/^|\s+/)}function selection_classed_classList(e){return e.classList||new selection_classed_ClassList(e)}function selection_classed_ClassList(e){this._node=e,this._names=selection_classed_classArray(e.getAttribute("class")||"")}function selection_classed_classedAdd(e,t){for(var n=selection_classed_classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function selection_classed_classedRemove(e,t){for(var n=selection_classed_classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function selection_text_textRemove(){this.textContent=""}function selection_html_htmlRemove(){this.innerHTML=""}function selection_raise_raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_lower_lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function d3_selection_src_creator(e){var t=d3_selection_src_namespace(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===er&&t.documentElement.namespaceURI===er?t.createElement(e):t.createElementNS(n,e)}})(t)}function selection_insert_constantNull(){return null}function selection_remove_remove(){var e=this.parentNode;e&&e.removeChild(this)}function selection_clone_selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function selection_clone_selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}selection_classed_ClassList.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ei={},ea=null;function selection_on_filterContextListener(e,t,n){return e=selection_on_contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function selection_on_contextListener(e,t,n){return function(r){var o=ea;ea=r;try{e.call(this,this.__data__,t,n)}finally{ea=o}}}function selection_on_onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function selection_on_onAdd(e,t,n){var r=ei.hasOwnProperty(e.type)?selection_on_filterContextListener:selection_on_contextListener;return function(o,i,a){var c,u=this.__on,s=r(t,i,a);if(u){for(var l=0,f=u.length;l<f;++l)if((c=u[l]).type===e.type&&c.name===e.name){this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=s,c.capture=n),c.value=t;return}}this.addEventListener(e.type,s,n),c={type:e.type,name:e.name,value:t,listener:s,capture:n},u?u.push(c):this.__on=[c]}}function selection_dispatch_dispatchEvent(e,t,n){var r=node_modules_d3_selection_src_window(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}"undefined"==typeof document||"onmouseenter"in document.documentElement||(ei={mouseenter:"mouseover",mouseleave:"mouseout"});var ec=[null];function src_selection_Selection(e,t){this._groups=e,this._parents=t}function src_selection_selection(){return new src_selection_Selection([[document.documentElement]],ec)}src_selection_Selection.prototype=src_selection_selection.prototype={constructor:src_selection_Selection,select:function(e){"function"!=typeof e&&(e=d3_selection_src_selector(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,c=t[o],u=c.length,s=r[o]=Array(u),l=0;l<u;++l)(i=c[l])&&(a=e.call(i,i.__data__,l,c))&&("__data__"in i&&(a.__data__=i.__data__),s[l]=a);return new src_selection_Selection(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=d3_selection_src_selectorAll(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,c=t[i],u=c.length,s=0;s<u;++s)(a=c[s])&&(r.push(e.call(a,a.__data__,s,c)),o.push(a));return new src_selection_Selection(r,o)},filter:function(e){"function"!=typeof e&&(e=d3_selection_src_matcher(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],c=a.length,u=r[o]=[],s=0;s<c;++s)(i=a[s])&&e.call(i,i.__data__,s,a)&&u.push(i);return new src_selection_Selection(r,this._parents)},data:function(e,t){if(!e)return h=Array(this.size()),s=-1,this.each(function(e){h[++s]=e}),h;var n=t?selection_data_bindKey:selection_data_bindIndex,r=this._parents,o=this._groups;"function"!=typeof e&&(m=e,e=function(){return m});for(var i=o.length,a=Array(i),c=Array(i),u=Array(i),s=0;s<i;++s){var l=r[s],f=o[s],d=f.length,h=e.call(l,l&&l.__data__,s,r),p=h.length,_=c[s]=Array(p),g=a[s]=Array(p);n(l,f,_,g,u[s]=Array(d),h,t);for(var m,b,v,w=0,M=0;w<p;++w)if(b=_[w]){for(w>=M&&(M=w+1);!(v=g[M])&&++M<p;);b._next=v||null}}return(a=new src_selection_Selection(a,r))._enter=c,a._exit=u,a},enter:function(){return new src_selection_Selection(this._enter||this._groups.map(src_selection_sparse),this._parents)},exit:function(){return new src_selection_Selection(this._exit||this._groups.map(src_selection_sparse),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),c=0;c<i;++c)for(var u,s=t[c],l=n[c],f=s.length,d=a[c]=Array(f),h=0;h<f;++h)(u=s[h]||l[h])&&(d[h]=u);for(;c<r;++c)a[c]=t[c];return new src_selection_Selection(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function compareNode(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=src_selection_sort_ascending);for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o){for(var i,a=t[o],c=a.length,u=r[o]=Array(c),s=0;s<c;++s)(i=a[s])&&(u[s]=i);u.sort(compareNode)}return new src_selection_Selection(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,c=i.length;a<c;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=d3_selection_src_namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):selection_style_styleValue(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=selection_classed_classArray(e+"");if(arguments.length<2){for(var r=selection_classed_classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?selection_classed_classedAdd:selection_classed_classedRemove)(this,e)}}:t?function(e){return function(){selection_classed_classedAdd(this,e)}}:function(e){return function(){selection_classed_classedRemove(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?selection_text_textRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?selection_html_htmlRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(selection_raise_raise)},lower:function(){return this.each(selection_lower_lower)},append:function(e){var t="function"==typeof e?e:d3_selection_src_creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:d3_selection_src_creator(e),r=null==t?selection_insert_constantNull:"function"==typeof t?t:d3_selection_src_selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(selection_remove_remove)},clone:function(e){return this.select(e?selection_clone_selection_cloneDeep:selection_clone_selection_cloneShallow)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var c=this.node().__on;if(c){for(var u,s=0,l=c.length;s<l;++s)for(r=0,u=c[s];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(c=t?selection_on_onAdd:selection_on_onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(c(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return selection_dispatch_dispatchEvent(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return selection_dispatch_dispatchEvent(this,e,t)}})(e,t))}};var eu,es,el=0,ef=0,ed=0,eh=0,ep=0,e_=0,eg="object"==typeof performance&&performance.now?performance:Date,em="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now(){return ep||(em(clearNow),ep=eg.now()+e_)}function clearNow(){ep=0}function Timer(){this._call=this._time=this._next=null}function timer(e,t,n){var r=new Timer;return r.restart(e,t,n),r}function timerFlush(){now(),++el;for(var e,t=eu;t;)(e=ep-t._time)>=0&&t._call.call(null,e),t=t._next;--el}function wake(){ep=(eh=eg.now())+e_,el=ef=0;try{timerFlush()}finally{el=0,function(){for(var e,t,n=eu,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:eu=t);es=e,sleep(r)}(),ep=0}}function poke(){var e=eg.now(),t=e-eh;t>1e3&&(e_-=t,eh=e)}function sleep(e){!el&&(ef&&(ef=clearTimeout(ef)),e-ep>24?(e<1/0&&(ef=setTimeout(wake,e-eg.now()-e_)),ed&&(ed=clearInterval(ed))):(ed||(eh=eg.now(),ed=setInterval(poke,1e3)),el=1,em(wake)))}function src_timeout(e,t,n){var r=new Timer;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?now():+n)+(null==t?0:+t),this._next||es===this||(es?es._next=this:eu=this,es=this),this._call=e,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var eb=P("start","end","cancel","interrupt"),ey=[];function schedule(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function start(i){var a,c,u,s;if(1!==n.state)return stop();for(a in o)if((s=o[a]).name===n.name){if(3===s.state)return src_timeout(start);4===s.state?(s.state=6,s.timer.stop(),s.on.call("interrupt",e,e.__data__,s.index,s.group),delete o[a]):+a<t&&(s.state=6,s.timer.stop(),s.on.call("cancel",e,e.__data__,s.index,s.group),delete o[a])}if(src_timeout(function(){3===n.state&&(n.state=4,n.timer.restart(tick,n.delay,n.time),tick(i))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(a=0,n.state=3,r=Array(u=n.tween.length),c=-1;a<u;++a)(s=n.tween[a].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=s);r.length=c+1}}function tick(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(stop),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),stop())}function stop(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=timer(function(e){n.state=1,n.timer.restart(start,n.delay,n.time),n.delay<=e&&start(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:o,on:eb,tween:ey,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function init(e,t){var n=schedule_get(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function schedule_set(e,t){var n=schedule_get(e,t);if(n.state>3)throw Error("too late; already running");return n}function schedule_get(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function interrupt(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i){if((n=i[o]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]}a&&delete e.__transition}}function d3_interpolate_src_number(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ev=180/Math.PI,ex={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(e,t,n,r,o,i){var a,c,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*ev,skewX:Math.atan(u)*ev,scaleX:a,scaleY:c}}function interpolateTransform(e,t,n,r){function pop(e){return e.length?e.pop()+" ":""}return function(o,i){var a,c,u,s,l=[],f=[];return o=e(o),i=e(i),!function(e,r,o,i,a,c){if(e!==o||r!==i){var u=a.push("translate(",null,t,null,n);c.push({i:u-4,x:d3_interpolate_src_number(e,o)},{i:u-2,x:d3_interpolate_src_number(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(o.translateX,o.translateY,i.translateX,i.translateY,l,f),(a=o.rotate)!==(c=i.rotate)?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:l.push(pop(l)+"rotate(",null,r)-2,x:d3_interpolate_src_number(a,c)})):c&&l.push(pop(l)+"rotate("+c+r),(u=o.skewX)!==(s=i.skewX)?f.push({i:l.push(pop(l)+"skewX(",null,r)-2,x:d3_interpolate_src_number(u,s)}):s&&l.push(pop(l)+"skewX("+s+r),!function(e,t,n,r,o,i){if(e!==n||t!==r){var a=o.push(pop(o)+"scale(",null,",",null,")");i.push({i:a-4,x:d3_interpolate_src_number(e,n)},{i:a-2,x:d3_interpolate_src_number(t,r)})}else(1!==n||1!==r)&&o.push(pop(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,l,f),o=i=null,function(e){for(var t,n=-1,r=f.length;++n<r;)l[(t=f[n]).i]=t.x(e);return l.join("")}}}var ew=interpolateTransform(function(e){return"none"===e?ex:(nA||(nA=document.createElement("DIV"),nE=document.documentElement,nC=document.defaultView),nA.style.transform=e,e=nC.getComputedStyle(nE.appendChild(nA),null).getPropertyValue("transform"),nE.removeChild(nA),decompose(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),eM=interpolateTransform(function(e){return null==e?ex:(nS||(nS=document.createElementNS("http://www.w3.org/2000/svg","g")),nS.setAttribute("transform",e),e=nS.transform.baseVal.consolidate())?decompose((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ex},", ",")",")");function tweenValue(e,t,n){var r=e._id;return e.each(function(){var e=schedule_set(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return schedule_get(e,r).value[t]}}function d3_color_src_define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function define_extend(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function color_Color(){}var eA="\\s*([+-]?\\d+)\\s*",eE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",eC="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eS=/^#([0-9a-f]{3,8})$/,eN=RegExp("^rgb\\("+[eA,eA,eA]+"\\)$"),ek=RegExp("^rgb\\("+[eC,eC,eC]+"\\)$"),eR=RegExp("^rgba\\("+[eA,eA,eA,eE]+"\\)$"),eT=RegExp("^rgba\\("+[eC,eC,eC,eE]+"\\)$"),eP=RegExp("^hsl\\("+[eE,eC,eC]+"\\)$"),eL=RegExp("^hsla\\("+[eE,eC,eC,eE]+"\\)$"),eO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_color_formatHex(){return this.rgb().formatHex()}function color_color_formatRgb(){return this.rgb().formatRgb()}function color_color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=eS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?color_rgbn(t):3===n?new color_Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?color_rgba(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?color_rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=eN.exec(e))?new color_Rgb(t[1],t[2],t[3],1):(t=ek.exec(e))?new color_Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=eR.exec(e))?color_rgba(t[1],t[2],t[3],t[4]):(t=eT.exec(e))?color_rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eP.exec(e))?color_hsla(t[1],t[2]/100,t[3]/100,1):(t=eL.exec(e))?color_hsla(t[1],t[2]/100,t[3]/100,t[4]):eO.hasOwnProperty(e)?color_rgbn(eO[e]):"transparent"===e?new color_Rgb(NaN,NaN,NaN,0):null}function color_rgbn(e){return new color_Rgb(e>>16&255,e>>8&255,255&e,1)}function color_rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new color_Rgb(e,t,n,r)}function src_color_rgb(e,t,n,r){var o;return 1==arguments.length?((o=e)instanceof color_Color||(o=color_color(o)),o)?(o=o.rgb(),new color_Rgb(o.r,o.g,o.b,o.opacity)):new color_Rgb:new color_Rgb(e,t,n,null==r?1:r)}function color_Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function color_rgb_formatHex(){return"#"+color_hex(this.r)+color_hex(this.g)+color_hex(this.b)}function color_rgb_formatRgb(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function color_hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function color_hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new color_Hsl(e,t,n,r)}function color_hslConvert(e){if(e instanceof color_Hsl)return new color_Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof color_Color||(e=color_color(e)),!e)return new color_Hsl;if(e instanceof color_Hsl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,c=i-o,u=(i+o)/2;return c?(a=t===i?(n-r)/c+(n<r)*6:n===i?(r-t)/c+2:(t-n)/c+4,c/=u<.5?i+o:2-i-o,a*=60):c=u>0&&u<1?0:a,new color_Hsl(a,c,u,e.opacity)}function color_Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function color_hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function basis_basis(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function node_modules_d3_interpolate_src_constant(e){return function(){return e}}function color_nogamma(e,t){var n=t-e;return n?function(t){return e+t*n}:node_modules_d3_interpolate_src_constant(isNaN(e)?t:e)}d3_color_src_define(color_Color,color_color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_color_formatHex,formatHex:color_color_formatHex,formatHsl:function(){return color_hslConvert(this).formatHsl()},formatRgb:color_color_formatRgb,toString:color_color_formatRgb}),d3_color_src_define(color_Rgb,src_color_rgb,define_extend(color_Color,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new color_Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new color_Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:color_rgb_formatHex,formatHex:color_rgb_formatHex,formatRgb:color_rgb_formatRgb,toString:color_rgb_formatRgb})),d3_color_src_define(color_Hsl,function(e,t,n,r){return 1==arguments.length?color_hslConvert(e):new color_Hsl(e,t,n,null==r?1:r)},define_extend(color_Color,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new color_Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new color_Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new color_Rgb(color_hsl2rgb(e>=240?e-240:e+120,o,r),color_hsl2rgb(e,o,r),color_hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var eI=function rgbGamma(e){var t,n=1==(t=+(t=e))?color_nogamma:function(e,n){var r,o,i;return n-e?(r=e,o=n,r=Math.pow(r,i=t),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):node_modules_d3_interpolate_src_constant(isNaN(e)?n:e)};function rgb(e,t){var r=n((e=src_color_rgb(e)).r,(t=src_color_rgb(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=color_nogamma(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgb_rgbSpline(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),c=Array(o);for(n=0;n<o;++n)r=src_color_rgb(t[n]),i[n]=r.r||0,a[n]=r.g||0,c[n]=r.b||0;return i=e(i),a=e(a),c=e(c),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=c(e),r+""}}}rgb_rgbSpline(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,c=r<t-1?e[r+2]:2*i-o;return basis_basis((n-r/t)*t,a,o,i,c)}}),rgb_rgbSpline(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],c=e[(r+2)%t];return basis_basis((n-r/t)*t,o,i,a,c)}});var eq=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ez=RegExp(eq.source,"g");function interpolate(e,t){var n;return("number"==typeof t?d3_interpolate_src_number:t instanceof color_color?eI:(n=color_color(t))?(t=n,eI):function(e,t){var n,r,o,i,a,c=eq.lastIndex=ez.lastIndex=0,u=-1,s=[],l=[];for(e+="",t+="";(o=eq.exec(e))&&(i=ez.exec(t));)(a=i.index)>c&&(a=t.slice(c,a),s[u]?s[u]+=a:s[++u]=a),(o=o[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,l.push({i:u,x:d3_interpolate_src_number(o,i)})),c=ez.lastIndex;return c<t.length&&(a=t.slice(c),s[u]?s[u]+=a:s[++u]=a),s.length<2?l[0]?(n=l[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})})(e,t)}var eD=src_selection_selection.prototype.constructor;function transition_style_styleRemove(e){return function(){this.style.removeProperty(e)}}var eB=0;function Transition(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function transition_transition(e){return src_selection_selection().transition(e)}var ej=src_selection_selection.prototype;function cubicIn(e){return e*e*e}function cubicOut(e){return--e*e*e+1}function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}Transition.prototype=transition_transition.prototype={constructor:Transition,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=d3_selection_src_selector(e));for(var r=this._groups,o=r.length,i=Array(o),a=0;a<o;++a)for(var c,u,s=r[a],l=s.length,f=i[a]=Array(l),d=0;d<l;++d)(c=s[d])&&(u=e.call(c,c.__data__,d,s))&&("__data__"in c&&(u.__data__=c.__data__),f[d]=u,schedule(f[d],t,n,d,f,schedule_get(c,n)));return new Transition(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=d3_selection_src_selectorAll(e));for(var r=this._groups,o=r.length,i=[],a=[],c=0;c<o;++c)for(var u,s=r[c],l=s.length,f=0;f<l;++f)if(u=s[f]){for(var d,h=e.call(u,u.__data__,f,s),p=schedule_get(u,n),_=0,g=h.length;_<g;++_)(d=h[_])&&schedule(d,t,n,_,h,p);i.push(h),a.push(u)}return new Transition(i,a,t,n)},filter:function(e){"function"!=typeof e&&(e=d3_selection_src_matcher(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],c=a.length,u=r[o]=[],s=0;s<c;++s)(i=a[s])&&e.call(i,i.__data__,s,a)&&u.push(i);return new Transition(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),c=0;c<i;++c)for(var u,s=t[c],l=n[c],f=s.length,d=a[c]=Array(f),h=0;h<f;++h)(u=s[h]||l[h])&&(d[h]=u);for(;c<r;++c)a[c]=t[c];return new Transition(a,this._parents,this._name,this._id)},selection:function(){return new eD(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++eB,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,c=r[i],u=c.length,s=0;s<u;++s)if(a=c[s]){var l=schedule_get(a,t);schedule(a,e,n,s,c,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Transition(r,this._parents,e,n)},call:ej.call,nodes:ej.nodes,node:ej.node,size:ej.size,empty:ej.empty,each:ej.each,on:function(e,t){var n,r,o,i=this._id;return arguments.length<2?schedule_get(this.node(),i).on.on(e):this.each((o=(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?init:schedule_set,function(){var a=o(this,i),c=a.on;c!==n&&(r=(n=c).copy()).on(e,t),a.on=r}))},attr:function(e,t){var n=d3_selection_src_namespace(e),r="transform"===n?eM:interpolate;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,c,u=n(this);return null==u?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(c=u+"")?null:a===r&&c===o?i:(o=c,i=t(r=a,u))}}:function(e,t,n){var r,o,i;return function(){var a,c,u=n(this);return null==u?void this.removeAttribute(e):(a=this.getAttribute(e))===(c=u+"")?null:a===r&&c===o?i:(o=c,i=t(r=a,u))}})(n,r,tweenValue(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}:function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=d3_selection_src_namespace(e);return this.tween(n,(r.local?function(e,t){var n,r;function tween(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttributeNS(e.space,e.local,o.call(this,t))}),n}return tween._value=t,tween}:function(e,t){var n,r;function tween(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttribute(e,o.call(this,t))}),n}return tween._value=t,tween})(r,t))},style:function(e,t,n){var r,o,i,a,c,u,s,l,f,d,h,p,_,g,m,b,v,w,M,A,E,C="transform"==(e+="")?ew:interpolate;return null==t?this.styleTween(e,(r=e,function(){var e=selection_style_styleValue(this,r),t=(this.style.removeProperty(r),selection_style_styleValue(this,r));return e===t?null:e===o&&t===i?a:a=C(o=e,i=t)})).on("end.style."+e,transition_style_styleRemove(e)):"function"==typeof t?this.styleTween(e,(c=e,u=tweenValue(this,"style."+e,t),function(){var e=selection_style_styleValue(this,c),t=u(this),n=t+"";return null==t&&(this.style.removeProperty(c),n=t=selection_style_styleValue(this,c)),e===n?null:e===s&&n===l?f:(l=n,f=C(s=e,t))})).each((d=this._id,v="end."+(b="style."+(h=e)),function(){var e=schedule_set(this,d),t=e.on,n=null==e.value[b]?m||(m=transition_style_styleRemove(h)):void 0;(t!==p||g!==n)&&(_=(p=t).copy()).on(v,g=n),e.on=_})):this.styleTween(e,(w=e,E=t+"",function(){var e=selection_style_styleValue(this,w);return e===E?null:e===M?A:A=C(M=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,o;function tween(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t){this.style.setProperty(e,i.call(this,t),n)}),r}return tween._value=t,tween}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=tweenValue(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function tween(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return tween._value=e,tween}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=schedule_get(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=schedule_set(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,c=r.length;a<c;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw Error();return function(){var i=schedule_set(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var c={name:t,value:n},u=0,s=o.length;u<s;++u)if(o[u].name===t){o[u]=c;break}u===s&&o.push(c)}i.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){init(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){init(this,e).delay=t}})(t,e)):schedule_get(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){schedule_set(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){schedule_set(this,e).duration=t}})(t,e)):schedule_get(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){schedule_set(this,e).ease=t}}(t,e)):schedule_get(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var c={value:a},u={value:function(){0==--o&&i()}};n.each(function(){var n=schedule_set(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(c),t._.interrupt.push(c),t._.end.push(u)),n.on=t})})}};var eH={time:null,delay:0,duration:250,ease:cubicInOut};src_selection_selection.prototype.interrupt=function(e){return this.each(function(){interrupt(this,e)})},src_selection_selection.prototype.transition=function(e){var t,n;e instanceof Transition?(t=e._id,e=e._name):(t=++eB,(n=eH).time=now(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,c=r[i],u=c.length,s=0;s<u;++s)(a=c[s])&&schedule(a,e,t,s,c,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return eH.time=now(),eH;return n}(a,t));return new Transition(r,this._parents,e,t)};var eU=[null];function active(e,t){var n,r,o=e.__transition;if(o){for(r in t=null==t?null:t+"",o)if((n=o[r]).state>1&&n.name===t)return new Transition([[e]],eU,t,+r)}return null}function d3_brush_src_constant(e){return function(){return e}}function src_event(e,t,n){this.target=e,this.type=t,this.selection=n}function noevent_nopropagation(){J.stopImmediatePropagation()}function src_noevent(){J.preventDefault(),J.stopImmediatePropagation()}var eF={name:"drag"},eZ={name:"space"},eV={name:"handle"},eY={name:"center"};function number1(e){return[+e[0],+e[1]]}function number2(e){return[number1(e[0]),number1(e[1])]}var eG={name:"x",handles:["w","e"].map(type),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},eW={name:"y",handles:["n","s"].map(type),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},eX={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(type),input:function(e){return null==e?null:number2(e)},output:function(e){return e}},e$={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},eK={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},eQ={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},eJ={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},e0={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(e){return{type:e}}function defaultFilter(){return!J.ctrlKey&&!J.button}function defaultExtent(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function brushSelection(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function brushX(){return brush_brush(eG)}function brushY(){return brush_brush(eW)}function brush(){return brush_brush(eX)}function brush_brush(e){var t,n=defaultExtent,r=defaultFilter,o=defaultTouchable,i=!0,a=P("start","brush","end"),c=6;function brush(t){var n=t.property("__brush",initialize).selectAll(".overlay").data([type("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",e$.overlay).merge(n).each(function(){var e=local(this).extent;d3_selection_src_select(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])}),t.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",e$.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(e){return e.type});r.exit().remove(),r.enter().append("rect").attr("class",function(e){return"handle handle--"+e.type}).attr("cursor",function(e){return e$[e.type]}),t.each(redraw).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",started).filter(o).on("touchstart.brush",started).on("touchmove.brush",touchmoved).on("touchend.brush touchcancel.brush",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function redraw(){var e=d3_selection_src_select(this),t=local(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",function(e){return"e"===e.type[e.type.length-1]?t[1][0]-c/2:t[0][0]-c/2}).attr("y",function(e){return"s"===e.type[0]?t[1][1]-c/2:t[0][1]-c/2}).attr("width",function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+c:c}).attr("height",function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+c:c})):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function emitter(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new Emitter(e,t,n):r}function Emitter(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function started(){if((!t||J.touches)&&r.apply(this,arguments)){var n,o,a,c,u,s,l,f,d,h,p,_,g=this,m=J.target.__data__.type,b=(i&&J.metaKey?m="overlay":m)==="selection"?eF:i&&J.altKey?eY:eV,v=e===eW?null:eJ[m],w=e===eG?null:e0[m],M=local(g),A=M.extent,E=M.selection,C=A[0][0],S=A[0][1],N=A[1][0],k=A[1][1],R=0,T=0,P=v&&w&&i&&J.shiftKey,L=J.touches?(n=J.changedTouches[0].identifier,function(e){return function(e,t,n){arguments.length<3&&(n=t,t=sourceEvent().changedTouches);for(var r,o=0,i=t?t.length:0;o<i;++o)if((r=t[o]).identifier===n)return point(e,r);return null}(e,J.touches,n)}):mouse,O=L(g),I=O,q=emitter(g,arguments,!0).beforestart();"overlay"===m?(E&&(h=!0),M.selection=E=[[o=e===eW?C:O[0],c=e===eG?S:O[1]],[s=e===eW?N:o,f=e===eG?k:c]]):(o=E[0][0],c=E[0][1],s=E[1][0],f=E[1][1]),a=o,u=c,l=s,d=f;var z=d3_selection_src_select(g).attr("pointer-events","none"),D=z.selectAll(".overlay").attr("cursor",e$[m]);if(J.touches)q.moved=moved,q.ended=ended;else{var B=d3_selection_src_select(J.view).on("mousemove.brush",moved,!0).on("mouseup.brush",ended,!0);i&&B.on("keydown.brush",function(){switch(J.keyCode){case 16:P=v&&w;break;case 18:b===eV&&(v&&(s=l-R*v,o=a+R*v),w&&(f=d-T*w,c=u+T*w),b=eY,move());break;case 32:(b===eV||b===eY)&&(v<0?s=l-R:v>0&&(o=a-R),w<0?f=d-T:w>0&&(c=u-T),b=eZ,D.attr("cursor",e$.selection),move());break;default:return}src_noevent()},!0).on("keyup.brush",function(){switch(J.keyCode){case 16:P&&(p=_=P=!1,move());break;case 18:b===eY&&(v<0?s=l:v>0&&(o=a),w<0?f=d:w>0&&(c=u),b=eV,move());break;case 32:b===eZ&&(J.altKey?(v&&(s=l-R*v,o=a+R*v),w&&(f=d-T*w,c=u+T*w),b=eY):(v<0?s=l:v>0&&(o=a),w<0?f=d:w>0&&(c=u),b=eV),D.attr("cursor",e$[m]),move());break;default:return}src_noevent()},!0),nodrag(J.view)}noevent_nopropagation(),interrupt(g),redraw.call(g),q.start()}function moved(){var e=L(g);!P||p||_||(Math.abs(e[0]-I[0])>Math.abs(e[1]-I[1])?_=!0:p=!0),I=e,h=!0,src_noevent(),move()}function move(){var e;switch(R=I[0]-O[0],T=I[1]-O[1],b){case eZ:case eF:v&&(R=Math.max(C-o,Math.min(N-s,R)),a=o+R,l=s+R),w&&(T=Math.max(S-c,Math.min(k-f,T)),u=c+T,d=f+T);break;case eV:v<0?(R=Math.max(C-o,Math.min(N-o,R)),a=o+R,l=s):v>0&&(R=Math.max(C-s,Math.min(N-s,R)),a=o,l=s+R),w<0?(T=Math.max(S-c,Math.min(k-c,T)),u=c+T,d=f):w>0&&(T=Math.max(S-f,Math.min(k-f,T)),u=c,d=f+T);break;case eY:v&&(a=Math.max(C,Math.min(N,o-R*v)),l=Math.max(C,Math.min(N,s+R*v))),w&&(u=Math.max(S,Math.min(k,c-T*w)),d=Math.max(S,Math.min(k,f+T*w)))}l<a&&(v*=-1,e=o,o=s,s=e,e=a,a=l,l=e,m in eK&&D.attr("cursor",e$[m=eK[m]])),d<u&&(w*=-1,e=c,c=f,f=e,e=u,u=d,d=e,m in eQ&&D.attr("cursor",e$[m=eQ[m]])),M.selection&&(E=M.selection),p&&(a=E[0][0],l=E[1][0]),_&&(u=E[0][1],d=E[1][1]),(E[0][0]!==a||E[0][1]!==u||E[1][0]!==l||E[1][1]!==d)&&(M.selection=[[a,u],[l,d]],redraw.call(g),q.brush())}function ended(){var e;if(noevent_nopropagation(),J.touches){if(J.touches.length)return;t&&clearTimeout(t),t=setTimeout(function(){t=null},500)}else yesdrag(J.view,h),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),D.attr("cursor",e$.overlay),M.selection&&(E=M.selection),((e=E)[0][0]===e[1][0]||e[0][1]===e[1][1])&&(M.selection=null,redraw.call(g)),q.end()}}function touchmoved(){emitter(this,arguments).moved()}function touchended(){emitter(this,arguments).ended()}function initialize(){var t=this.__brush||{selection:null};return t.extent=number2(n.apply(this,arguments)),t.dim=e,t}return brush.move=function(t,n){t.selection?t.on("start.brush",function(){emitter(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){emitter(this,arguments).end()}).tween("brush",function(){var t=this,r=t.__brush,o=emitter(t,arguments),i=r.selection,a=e.input("function"==typeof n?n.apply(this,arguments):n,r.extent),c=function value(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?d3_interpolate_src_constant(t):("number"===o?src_number:"string"===o?(r=color(t))?(t=r,X):function(e,t){var n,r,o,i,a,c=$.lastIndex=K.lastIndex=0,u=-1,s=[],l=[];for(e+="",t+="";(o=$.exec(e))&&(i=K.exec(t));)(a=i.index)>c&&(a=t.slice(c,a),s[u]?s[u]+=a:s[++u]=a),(o=o[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,l.push({i:u,x:src_number(o,i)})),c=K.lastIndex;return c<t.length&&(a=t.slice(c),s[u]?s[u]+=a:s[++u]=a),s.length<2?l[0]?(n=l[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}:t instanceof color?X:t instanceof Date?function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView)?Array.isArray(t)?function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=Array(o),a=Array(r);for(n=0;n<o;++n)i[n]=value(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(e,t){var n,r={},o={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=value(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}:src_number:function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}})(e,t)}(i,a);function tween(e){r.selection=1===e&&null===a?null:c(e),redraw.call(t),o.brush()}return null!==i&&null!==a?tween:tween(1)}):t.each(function(){var t=arguments,r=this.__brush,o=e.input("function"==typeof n?n.apply(this,t):n,r.extent),i=emitter(this,t).beforestart();interrupt(this),r.selection=null===o?null:o,redraw.call(this),i.start().brush().end()})},brush.clear=function(e){brush.move(e,null)},Emitter.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){!function(e,t,n,r){var o=J;e.sourceEvent=J,J=e;try{return t.apply(n,r)}finally{J=o}}(new src_event(brush,t,e.output(this.state.selection)),a.apply,a,[t,this.that,this.args])}},brush.extent=function(e){return arguments.length?(n="function"==typeof e?e:d3_brush_src_constant(number2(e)),brush):n},brush.filter=function(e){return arguments.length?(r="function"==typeof e?e:d3_brush_src_constant(!!e),brush):r},brush.touchable=function(e){return arguments.length?(o="function"==typeof e?e:d3_brush_src_constant(!!e),brush):o},brush.handleSize=function(e){return arguments.length?(c=+e,brush):c},brush.keyModifiers=function(e){return arguments.length?(i=!!e,brush):i},brush.on=function(){var e=a.on.apply(a,arguments);return e===a?brush:e},brush}var e1=Math.cos,e2=Math.sin,e3=Math.PI,e6=e3/2,e5=2*e3,e8=Math.max;function chord(){var e=0,t=null,n=null,r=null;function chord(o){var i,a,c,u,s,l,f=o.length,d=[],h=src_range(f),p=[],_=[],g=_.groups=Array(f),m=Array(f*f);for(i=0,s=-1;++s<f;){for(a=0,l=-1;++l<f;)a+=o[s][l];d.push(a),p.push(src_range(f)),i+=a}for(t&&h.sort(function(e,n){return t(d[e],d[n])}),n&&p.forEach(function(e,t){e.sort(function(e,r){return n(o[t][e],o[t][r])})}),u=(i=e8(0,e5-e*f)/i)?e:e5/f,a=0,s=-1;++s<f;){for(c=a,l=-1;++l<f;){var b=h[s],v=p[b][l],w=o[b][v],M=a,A=a+=w*i;m[v*f+b]={index:b,subindex:v,startAngle:M,endAngle:A,value:w}}g[b]={index:b,startAngle:c,endAngle:a,value:d[b]},a+=u}for(s=-1;++s<f;)for(l=s-1;++l<f;){var E=m[l*f+s],C=m[s*f+l];(E.value||C.value)&&_.push(E.value<C.value?{source:C,target:E}:{source:E,target:C})}return r?_.sort(r):_}return chord.padAngle=function(t){return arguments.length?(e=e8(0,t),chord):e},chord.sortGroups=function(e){return arguments.length?(t=e,chord):t},chord.sortSubgroups=function(e){return arguments.length?(n=e,chord):n},chord.sortChords=function(e){return arguments.length?(null==e?r=null:(r=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=e,chord):r&&r._},chord}var e7=Array.prototype.slice;function d3_chord_src_constant(e){return function(){return e}}var e4=n(603791);function defaultSource(e){return e.source}function defaultTarget(e){return e.target}function defaultRadius(e){return e.radius}function defaultStartAngle(e){return e.startAngle}function defaultEndAngle(e){return e.endAngle}function ribbon(){var e=defaultSource,t=defaultTarget,n=defaultRadius,r=defaultStartAngle,o=defaultEndAngle,i=null;function ribbon(){var a,c=e7.call(arguments),u=e.apply(this,c),s=t.apply(this,c),l=+n.apply(this,(c[0]=u,c)),f=r.apply(this,c)-e6,d=o.apply(this,c)-e6,h=l*e1(f),p=l*e2(f),_=+n.apply(this,(c[0]=s,c)),g=r.apply(this,c)-e6,m=o.apply(this,c)-e6;if(i||(i=a=(0,e4.Z)()),i.moveTo(h,p),i.arc(0,0,l,f,d),(f!==g||d!==m)&&(i.quadraticCurveTo(0,0,_*e1(g),_*e2(g)),i.arc(0,0,_,g,m)),i.quadraticCurveTo(0,0,h,p),i.closePath(),a)return i=null,a+""||null}return ribbon.radius=function(e){return arguments.length?(n="function"==typeof e?e:d3_chord_src_constant(+e),ribbon):n},ribbon.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:d3_chord_src_constant(+e),ribbon):r},ribbon.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:d3_chord_src_constant(+e),ribbon):o},ribbon.source=function(t){return arguments.length?(e=t,ribbon):e},ribbon.target=function(e){return arguments.length?(t=e,ribbon):t},ribbon.context=function(e){return arguments.length?(i=null==e?null:e,ribbon):i},ribbon}function Map(){}function map_map(e,t){var n=new Map;if(e instanceof Map)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,o=-1,i=e.length;if(null==t)for(;++o<i;)n.set(o,e[o]);else for(;++o<i;)n.set(t(r=e[o],o,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}Map.prototype=map_map.prototype={constructor:Map,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var e9=map_map;function nest(){var e,t,n,r=[],o=[];function apply(n,o,i,a){if(o>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var c,u,s,l=-1,f=n.length,d=r[o++],h=e9(),p=i();++l<f;)(s=h.get(c=d(u=n[l])+""))?s.push(u):h.set(c,[u]);return h.each(function(e,t){a(p,t,apply(e,o,i,a))}),p}return n={object:function(e){return apply(e,0,createObject,setObject)},map:function(e){return apply(e,0,createMap,setMap)},entries:function(e){return function entries(e,n){if(++n>r.length)return e;var i,a=o[n-1];return null!=t&&n>=r.length?i=e.entries():(i=[],e.each(function(e,t){i.push({key:t,values:entries(e,n)})})),null!=a?i.sort(function(e,t){return a(e.key,t.key)}):i}(apply(e,0,createMap,setMap),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return o[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}}function createObject(){return{}}function setObject(e,t,n){e[t]=n}function createMap(){return e9()}function setMap(e,t,n){e.set(t,n)}function Set(){}var te=e9.prototype;function set_set(e,t){var n=new Set;if(e instanceof Set)e.each(function(e){n.add(e)});else if(e){var r=-1,o=e.length;if(null==t)for(;++r<o;)n.add(e[r]);else for(;++r<o;)n.add(t(e[r],r,e))}return n}Set.prototype=set_set.prototype={constructor:Set,has:te.has,add:function(e){return this["$"+(e+="")]=e,this},remove:te.remove,clear:te.clear,values:te.keys,size:te.size,empty:te.empty,each:te.each};var tt=set_set;function keys(e){var t=[];for(var n in e)t.push(n);return t}function values(e){var t=[];for(var n in e)t.push(e[n]);return t}function entries(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}function node_modules_d3_color_src_define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function src_define_extend(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function src_color_Color(){}var tn="\\s*([+-]?\\d+)\\s*",tr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ti=/^#([0-9a-f]{3,8})$/,ta=RegExp("^rgb\\("+[tn,tn,tn]+"\\)$"),tc=RegExp("^rgb\\("+[to,to,to]+"\\)$"),tu=RegExp("^rgba\\("+[tn,tn,tn,tr]+"\\)$"),ts=RegExp("^rgba\\("+[to,to,to,tr]+"\\)$"),tl=RegExp("^hsl\\("+[tr,to,to]+"\\)$"),tf=RegExp("^hsla\\("+[tr,to,to,tr]+"\\)$"),td={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function src_color_color_formatHex(){return this.rgb().formatHex()}function src_color_color_formatRgb(){return this.rgb().formatRgb()}function src_color_color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ti.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?src_color_rgbn(t):3===n?new src_color_Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?src_color_rgba(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?src_color_rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ta.exec(e))?new src_color_Rgb(t[1],t[2],t[3],1):(t=tc.exec(e))?new src_color_Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=tu.exec(e))?src_color_rgba(t[1],t[2],t[3],t[4]):(t=ts.exec(e))?src_color_rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tl.exec(e))?src_color_hsla(t[1],t[2]/100,t[3]/100,1):(t=tf.exec(e))?src_color_hsla(t[1],t[2]/100,t[3]/100,t[4]):td.hasOwnProperty(e)?src_color_rgbn(td[e]):"transparent"===e?new src_color_Rgb(NaN,NaN,NaN,0):null}function src_color_rgbn(e){return new src_color_Rgb(e>>16&255,e>>8&255,255&e,1)}function src_color_rgba(e,t,n,r){return r<=0&&(e=t=n=NaN),new src_color_Rgb(e,t,n,r)}function src_color_rgbConvert(e){return(e instanceof src_color_Color||(e=src_color_color(e)),e)?(e=e.rgb(),new src_color_Rgb(e.r,e.g,e.b,e.opacity)):new src_color_Rgb}function d3_color_src_color_rgb(e,t,n,r){return 1==arguments.length?src_color_rgbConvert(e):new src_color_Rgb(e,t,n,null==r?1:r)}function src_color_Rgb(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function src_color_rgb_formatHex(){return"#"+src_color_hex(this.r)+src_color_hex(this.g)+src_color_hex(this.b)}function src_color_rgb_formatRgb(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function src_color_hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function src_color_hsla(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new src_color_Hsl(e,t,n,r)}function src_color_hslConvert(e){if(e instanceof src_color_Hsl)return new src_color_Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof src_color_Color||(e=src_color_color(e)),!e)return new src_color_Hsl;if(e instanceof src_color_Hsl)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,c=i-o,u=(i+o)/2;return c?(a=t===i?(n-r)/c+(n<r)*6:n===i?(r-t)/c+2:(t-n)/c+4,c/=u<.5?i+o:2-i-o,a*=60):c=u>0&&u<1?0:a,new src_color_Hsl(a,c,u,e.opacity)}function src_color_hsl(e,t,n,r){return 1==arguments.length?src_color_hslConvert(e):new src_color_Hsl(e,t,n,null==r?1:r)}function src_color_Hsl(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function src_color_hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}node_modules_d3_color_src_define(src_color_Color,src_color_color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:src_color_color_formatHex,formatHex:src_color_color_formatHex,formatHsl:function(){return src_color_hslConvert(this).formatHsl()},formatRgb:src_color_color_formatRgb,toString:src_color_color_formatRgb}),node_modules_d3_color_src_define(src_color_Rgb,d3_color_src_color_rgb,src_define_extend(src_color_Color,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new src_color_Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new src_color_Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:src_color_rgb_formatHex,formatHex:src_color_rgb_formatHex,formatRgb:src_color_rgb_formatRgb,toString:src_color_rgb_formatRgb})),node_modules_d3_color_src_define(src_color_Hsl,src_color_hsl,src_define_extend(src_color_Color,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new src_color_Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new src_color_Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new src_color_Rgb(src_color_hsl2rgb(e>=240?e-240:e+120,o,r),src_color_hsl2rgb(e,o,r),src_color_hsl2rgb(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var th=Math.PI/180,tp=180/Math.PI,t_=4/29,tg=6/29,tm=3*(6/29)*(6/29),tb=6/29*(6/29)*(6/29);function labConvert(e){if(e instanceof Lab)return new Lab(e.l,e.a,e.b,e.opacity);if(e instanceof Hcl)return hcl2lab(e);e instanceof src_color_Rgb||(e=src_color_rgbConvert(e));var t,n,r=rgb2lrgb(e.r),o=rgb2lrgb(e.g),i=rgb2lrgb(e.b),a=xyz2lab((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?t=n=a:(t=xyz2lab((.4360747*r+.3850649*o+.1430804*i)/.96422),n=xyz2lab((.0139322*r+.0971045*o+.7141733*i)/.82521)),new Lab(116*a-16,500*(t-a),200*(a-n),e.opacity)}function gray(e,t){return new Lab(e,0,0,null==t?1:t)}function lab(e,t,n,r){return 1==arguments.length?labConvert(e):new Lab(e,t,n,null==r?1:r)}function Lab(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function xyz2lab(e){return e>tb?Math.pow(e,1/3):e/tm+t_}function lab2xyz(e){return e>tg?e*e*e:tm*(e-t_)}function lrgb2rgb(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function rgb2lrgb(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hclConvert(e){if(e instanceof Hcl)return new Hcl(e.h,e.c,e.l,e.opacity);if(e instanceof Lab||(e=labConvert(e)),0===e.a&&0===e.b)return new Hcl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*tp;return new Hcl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function lch(e,t,n,r){return 1==arguments.length?hclConvert(e):new Hcl(n,t,e,null==r?1:r)}function hcl(e,t,n,r){return 1==arguments.length?hclConvert(e):new Hcl(e,t,n,null==r?1:r)}function Hcl(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function hcl2lab(e){if(isNaN(e.h))return new Lab(e.l,0,0,e.opacity);var t=e.h*th;return new Lab(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}node_modules_d3_color_src_define(Lab,lab,src_define_extend(src_color_Color,{brighter:function(e){return new Lab(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Lab(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=.96422*lab2xyz(t),e=1*lab2xyz(e),n=.82521*lab2xyz(n),new src_color_Rgb(lrgb2rgb(3.1338561*t-1.6168667*e-.4906146*n),lrgb2rgb(-.9787684*t+1.9161415*e+.033454*n),lrgb2rgb(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),node_modules_d3_color_src_define(Hcl,hcl,src_define_extend(src_color_Color,{brighter:function(e){return new Hcl(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hcl(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var ty=-1.78277*.29227-.1347134789;function cubehelix_cubehelix(e,t,n,r){return 1==arguments.length?function(e){if(e instanceof Cubehelix)return new Cubehelix(e.h,e.s,e.l,e.opacity);e instanceof src_color_Rgb||(e=src_color_rgbConvert(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(ty*r+-1.7884503806*t-3.5172982438*n)/(ty+-1.7884503806-3.5172982438),i=r-o,a=-((1.97294*(n-o)- -.29227*i)/.90649),c=Math.sqrt(a*a+i*i)/(1.97294*o*(1-o)),u=c?Math.atan2(a,i)*tp-120:NaN;return new Cubehelix(u<0?u+360:u,c,o,e.opacity)}(e):new Cubehelix(e,t,n,null==r?1:r)}function Cubehelix(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}node_modules_d3_color_src_define(Cubehelix,cubehelix_cubehelix,src_define_extend(src_color_Color,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Cubehelix(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*th,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new src_color_Rgb(255*(t+n*(-.14861*r+1.78277*o)),255*(t+n*(-.29227*r+-.90649*o)),255*(t+n*(1.97294*r)),this.opacity)}}));var tv=Array.prototype.slice;function src_ascending(e,t){return e-t}function d3_contour_src_constant(e){return function(){return e}}function src_noop(){}var tx=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var e=1,t=1,n=sturges,r=smoothLinear;function contours(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(src_ascending);else{var r=extent(e),o=r[0],i=r[1];t=tickStep(o,i,t),t=src_range(Math.floor(o/t)*t,Math.floor(i/t)*t,t)}return t.map(function(t){return contour(e,t)})}function contour(n,o){var i=[],a=[];return function(n,r,o){var i,a,c,u,s,l,f=[],d=[];for(i=a=-1,tx[(u=n[0]>=r)<<1].forEach(stitch);++i<e-1;)tx[(c=u)|(u=n[i+1]>=r)<<1].forEach(stitch);for(tx[u<<0].forEach(stitch);++a<t-1;){for(i=-1,tx[(u=n[a*e+e]>=r)<<1|(s=n[a*e]>=r)<<2].forEach(stitch);++i<e-1;)c=u,u=n[a*e+e+i+1]>=r,l=s,tx[c|u<<1|(s=n[a*e+i+1]>=r)<<2|l<<3].forEach(stitch);tx[u|s<<3].forEach(stitch)}for(i=-1,tx[(s=n[a*e]>=r)<<2].forEach(stitch);++i<e-1;)l=s,tx[(s=n[a*e+i+1]>=r)<<2|l<<3].forEach(stitch);function stitch(e){var t,n,r=[e[0][0]+i,e[0][1]+a],c=[e[1][0]+i,e[1][1]+a],u=index(r),s=index(c);(t=d[u])?(n=f[s])?(delete d[t.end],delete f[n.start],t===n?(t.ring.push(c),o(t.ring)):f[t.start]=d[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete d[t.end],t.ring.push(c),d[t.end=s]=t):(t=f[s])?(n=d[u])?(delete f[t.start],delete d[n.end],t===n?(t.ring.push(c),o(t.ring)):f[n.start]=d[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete f[t.start],t.ring.unshift(r),f[t.start=u]=t):f[u]=d[s]={start:u,end:s,ring:[r,c]}}tx[s<<3].forEach(stitch)}(n,o,function(e){r(e,n,o),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?i.push([e]):a.push(e)}),a.forEach(function(e){for(var t,n=0,r=i.length;n<r;++n)if(-1!==function(e,t){for(var n,r=-1,o=t.length;++r<o;)if(n=function(e,t){for(var n=t[0],r=t[1],o=-1,i=0,a=e.length,c=a-1;i<a;c=i++){var u=e[i],s=u[0],l=u[1],f=e[c],d=f[0],h=f[1];if(function(e,t,n){var r,o,i,a;return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])&&(o=e[r=+(e[0]===t[0])],i=n[r],a=t[r],o<=i&&i<=a||a<=i&&i<=o)}(u,f,t))return 0;l>r!=h>r&&n<(d-s)*(r-l)/(h-l)+s&&(o=-o)}return o}(e,t[r]))return n;return 0}((t=i[n])[0],e)){t.push(e);return}}),{type:"MultiPolygon",value:o,coordinates:i}}function index(t){return 2*t[0]+t[1]*(e+1)*4}function smoothLinear(n,r,o){n.forEach(function(n){var i,a=n[0],c=n[1],u=0|a,s=0|c,l=r[s*e+u];a>0&&a<e&&u===a&&(i=r[s*e+u-1],n[0]=a+(o-i)/(l-i)-.5),c>0&&c<t&&s===c&&(i=r[(s-1)*e+u],n[1]=c+(o-i)/(l-i)-.5)})}return contours.contour=contour,contours.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0)||!(o>0))throw Error("invalid size");return e=r,t=o,contours},contours.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?d3_contour_src_constant(tv.call(e)):d3_contour_src_constant(e),contours):n},contours.smooth=function(e){return arguments.length?(r=e?smoothLinear:src_noop,contours):r===smoothLinear},contours}function blurX(e,t,n){for(var r=e.width,o=e.height,i=(n<<1)+1,a=0;a<o;++a)for(var c=0,u=0;c<r+n;++c)c<r&&(u+=e.data[c+a*r]),c>=n&&(c>=i&&(u-=e.data[c-i+a*r]),t.data[c-n+a*r]=u/Math.min(c+1,r-1+i-c,i))}function blurY(e,t,n){for(var r=e.width,o=e.height,i=(n<<1)+1,a=0;a<r;++a)for(var c=0,u=0;c<o+n;++c)c<o&&(u+=e.data[a+c*r]),c>=n&&(c>=i&&(u-=e.data[a+(c-i)*r]),t.data[a+(c-n)*r]=u/Math.min(c+1,o-1+i-c,i))}function defaultX(e){return e[0]}function defaultY(e){return e[1]}function defaultWeight(){return 1}function density(){var e=defaultX,t=defaultY,n=defaultWeight,r=960,o=500,i=20,a=2,c=60,u=270,s=155,l=d3_contour_src_constant(20);function density(r){var o=new Float32Array(u*s),f=new Float32Array(u*s);r.forEach(function(r,i,l){var f=+e(r,i,l)+c>>a,d=+t(r,i,l)+c>>a,h=+n(r,i,l);f>=0&&f<u&&d>=0&&d<s&&(o[f+d*u]+=h)}),blurX({width:u,height:s,data:o},{width:u,height:s,data:f},i>>a),blurY({width:u,height:s,data:f},{width:u,height:s,data:o},i>>a),blurX({width:u,height:s,data:o},{width:u,height:s,data:f},i>>a),blurY({width:u,height:s,data:f},{width:u,height:s,data:o},i>>a),blurX({width:u,height:s,data:o},{width:u,height:s,data:f},i>>a),blurY({width:u,height:s,data:f},{width:u,height:s,data:o},i>>a);var d=l(o);if(!Array.isArray(d)){var h=max(o);d=tickStep(0,h,d),(d=src_range(0,Math.floor(h/d)*d,d)).shift()}return contours().thresholds(d).size([u,s])(o).map(transform)}function transform(e){return e.value*=Math.pow(2,-2*a),e.coordinates.forEach(transformPolygon),e}function transformPolygon(e){e.forEach(transformRing)}function transformRing(e){e.forEach(transformPoint)}function transformPoint(e){e[0]=e[0]*Math.pow(2,a)-c,e[1]=e[1]*Math.pow(2,a)-c}function resize(){return u=r+2*(c=3*i)>>a,s=o+2*c>>a,density}return density.x=function(t){return arguments.length?(e="function"==typeof t?t:d3_contour_src_constant(+t),density):e},density.y=function(e){return arguments.length?(t="function"==typeof e?e:d3_contour_src_constant(+e),density):t},density.weight=function(e){return arguments.length?(n="function"==typeof e?e:d3_contour_src_constant(+e),density):n},density.size=function(e){if(!arguments.length)return[r,o];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0)&&!(t>=0))throw Error("invalid size");return r=t,o=n,resize()},density.cellSize=function(e){if(!arguments.length)return 1<<a;if(!((e=+e)>=1))throw Error("invalid cell size");return a=Math.floor(Math.log(e)/Math.LN2),resize()},density.thresholds=function(e){return arguments.length?(l="function"==typeof e?e:Array.isArray(e)?d3_contour_src_constant(tv.call(e)):d3_contour_src_constant(e),density):l},density.bandwidth=function(e){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((e=+e)>=0))throw Error("invalid bandwidth");return i=Math.round((Math.sqrt(4*e*e+1)-1)/2),resize()},density}function src_sourceEvent(){for(var e,t=q;e=t.sourceEvent;)t=e;return t}function src_point(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function src_mouse(e){var t=src_sourceEvent();return t.changedTouches&&(t=t.changedTouches[0]),src_point(e,t)}function src_touch(e,t,n){arguments.length<3&&(n=t,t=src_sourceEvent().changedTouches);for(var r,o=0,i=t?t.length:0;o<i;++o)if((r=t[o]).identifier===n)return src_point(e,r);return null}function d3_drag_src_constant(e){return function(){return e}}function DragEvent(e,t,n,r,o,i,a,c,u,s){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=c,this.dy=u,this._=s}function drag_defaultFilter(){return!q.ctrlKey&&!q.button}function defaultContainer(){return this.parentNode}function defaultSubject(e){return null==e?{x:q.x,y:q.y}:e}function drag_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var e,t,n,r,o=drag_defaultFilter,i=defaultContainer,a=defaultSubject,c=drag_defaultTouchable,u={},s=P("start","drag","end"),l=0,f=0;function drag(e){e.on("mousedown.drag",mousedowned).filter(c).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!r&&o.apply(this,arguments)){var a=beforestart("mouse",i.apply(this,arguments),src_mouse,this,arguments);a&&(src_select(q.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),nodrag(q.view),nopropagation(),n=!1,e=q.clientX,t=q.clientY,a("start"))}}function mousemoved(){if(noevent(),!n){var r=q.clientX-e,o=q.clientY-t;n=r*r+o*o>f}u.mouse("drag")}function mouseupped(){src_select(q.view).on("mousemove.drag mouseup.drag",null),yesdrag(q.view,n),noevent(),u.mouse("end")}function touchstarted(){if(o.apply(this,arguments)){var e,t,n=q.changedTouches,r=i.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=beforestart(n[e].identifier,r,src_touch,this,arguments))&&(nopropagation(),t("start"))}}function touchmoved(){var e,t,n=q.changedTouches,r=n.length;for(e=0;e<r;++e)(t=u[n[e].identifier])&&(noevent(),t("drag"))}function touchended(){var e,t,n=q.changedTouches,o=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),e=0;e<o;++e)(t=u[n[e].identifier])&&(nopropagation(),t("end"))}function beforestart(e,t,n,r,o){var i,c,f,d=n(t,e),h=s.copy();if(customEvent(new DragEvent(drag,"beforestart",i,e,l,d[0],d[1],0,0,h),function(){return null!=(q.subject=i=a.apply(r,o))&&(c=i.x-d[0]||0,f=i.y-d[1]||0,!0)}))return function gesture(a){var s,p=d;switch(a){case"start":u[e]=gesture,s=l++;break;case"end":delete u[e],--l;case"drag":d=n(t,e),s=l}customEvent(new DragEvent(drag,a,i,e,s,d[0]+c,d[1]+f,d[0]-p[0],d[1]-p[1],h),h.apply,h,[a,r,o])}}return drag.filter=function(e){return arguments.length?(o="function"==typeof e?e:d3_drag_src_constant(!!e),drag):o},drag.container=function(e){return arguments.length?(i="function"==typeof e?e:d3_drag_src_constant(e),drag):i},drag.subject=function(e){return arguments.length?(a="function"==typeof e?e:d3_drag_src_constant(e),drag):a},drag.touchable=function(e){return arguments.length?(c="function"==typeof e?e:d3_drag_src_constant(!!e),drag):c},drag.on=function(){var e=s.on.apply(s,arguments);return e===s?drag:e},drag.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,drag):Math.sqrt(f)},drag}DragEvent.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var tw={},tM={};function objectConverter(e){return Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function dsv(e){var t=RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function parseRows(e,t){var r,o=[],i=e.length,a=0,c=0,u=i<=0,s=!1;function token(){if(u)return tM;if(s)return s=!1,tw;var t,r,o=a;if(34===e.charCodeAt(o)){for(;a++<i&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=i?u=!0:10===(r=e.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===e.charCodeAt(a)&&++a),e.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=e.charCodeAt(t=a++)))s=!0;else if(13===r)s=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(o,t)}return u=!0,e.slice(o,i)}for(10===e.charCodeAt(i-1)&&--i,13===e.charCodeAt(i-1)&&--i;(r=token())!==tM;){for(var l=[];r!==tw&&r!==tM;)l.push(r),r=token();t&&null==(l=t(l,c++))||o.push(l)}return o}function formatRow(t){return t.map(formatValue).join(e)}function formatValue(e){return null==e?"":t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,o=parseRows(e,function(e,o){var i;if(n)return n(e,o-1);r=e,n=t?(i=objectConverter(e),function(n,r){return t(i(n),r,e)}):objectConverter(e)});return o.columns=r,o},parseRows:parseRows,format:function(t,n){if(null==n){var r,o;r=Object.create(null),o=[],t.forEach(function(e){for(var t in e)t in r||o.push(r[t]=t)}),n=o}return[n.map(formatValue).join(e)].concat(t.map(function(t){return n.map(function(e){return formatValue(t[e])}).join(e)})).join("\n")},formatRows:function(e){return e.map(formatRow).join("\n")}}}var tA=dsv(","),tE=tA.parse,tC=tA.parseRows,tS=tA.format,tN=tA.formatRows,tk=dsv("	"),tR=tk.parse,tT=tk.parseRows,tP=tk.format,tL=tk.formatRows;function linear_linear(e){return+e}function quadIn(e){return e*e}function quadOut(e){return e*(2-e)}function quadInOut(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var tO=function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn}(3),tI=function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),tq=function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3),tz=Math.PI,tD=tz/2;function sinIn(e){return 1==+e?1:1-Math.cos(e*tD)}function sinOut(e){return Math.sin(e*tD)}function sinInOut(e){return(1-Math.cos(tz*e))/2}function tpmt(e){return(Math.pow(2,-10*e)-9765625e-10)*1.0009775171065494}function expIn(e){return tpmt(1-+e)}function expOut(e){return 1-tpmt(e)}function expInOut(e){return((e*=2)<=1?tpmt(1-e):2-tpmt(e-1))/2}function circleIn(e){return 1-Math.sqrt(1-e*e)}function circleOut(e){return Math.sqrt(1- --e*e)}function circleInOut(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var tB=4/11,tj=6/11,tH=8/11,tU=3/4,tF=9/11,tZ=10/11,tV=15/16,tY=21/22,tG=63/64,tW=1/(4/11)/(4/11);function bounceIn(e){return 1-bounceOut(1-e)}function bounceOut(e){return(e=+e)<tB?tW*e*e:e<tH?tW*(e-=tj)*e+tU:e<tZ?tW*(e-=tF)*e+tV:tW*(e-=tY)*e+tG}function bounceInOut(e){return((e*=2)<=1?1-bounceOut(1-e):bounceOut(e-1)+1)/2}var tX=function custom(e){function backIn(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,backIn.overshoot=custom,backIn}(1.70158),t$=function custom(e){function backOut(t){return--t*t*((t+1)*e+t)+1}return e=+e,backOut.overshoot=custom,backOut}(1.70158),tK=function custom(e){function backInOut(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,backInOut.overshoot=custom,backInOut}(1.70158),tQ=2*Math.PI,tJ=function custom(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=tQ);function elasticIn(r){return e*tpmt(- --r)*Math.sin((n-r)/t)}return elasticIn.amplitude=function(e){return custom(e,t*tQ)},elasticIn.period=function(t){return custom(e,t)},elasticIn}(1,.3),t0=function custom(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=tQ);function elasticOut(r){return 1-e*tpmt(r=+r)*Math.sin((r+n)/t)}return elasticOut.amplitude=function(e){return custom(e,t*tQ)},elasticOut.period=function(t){return custom(e,t)},elasticOut}(1,.3),t1=function custom(e,t){var n=Math.asin(1/(e=Math.max(1,e)))*(t/=tQ);function elasticInOut(r){return((r=2*r-1)<0?e*tpmt(-r)*Math.sin((n-r)/t):2-e*tpmt(r)*Math.sin((n+r)/t))/2}return elasticInOut.amplitude=function(e){return custom(e,t*tQ)},elasticInOut.period=function(t){return custom(e,t)},elasticInOut}(1,.3);function responseBlob(e){if(!e.ok)throw Error(e.status+" "+e.statusText);return e.blob()}function blob(e,t){return fetch(e,t).then(responseBlob)}function responseArrayBuffer(e){if(!e.ok)throw Error(e.status+" "+e.statusText);return e.arrayBuffer()}function buffer(e,t){return fetch(e,t).then(responseArrayBuffer)}function responseText(e){if(!e.ok)throw Error(e.status+" "+e.statusText);return e.text()}function src_text(e,t){return fetch(e,t).then(responseText)}function dsvParse(e){return function(t,n,r){return 2==arguments.length&&"function"==typeof n&&(r=n,n=void 0),src_text(t,n).then(function(t){return e(t,r)})}}function dsv_dsv(e,t,n,r){3==arguments.length&&"function"==typeof n&&(r=n,n=void 0);var o=dsv(e);return src_text(t,n).then(function(e){return o.parse(e,r)})}var t2=dsvParse(tE),t3=dsvParse(tR);function src_image(e,t){return new Promise(function(n,r){var o=new Image;for(var i in t)o[i]=t[i];o.onerror=r,o.onload=function(){n(o)},o.src=e})}function responseJson(e){if(!e.ok)throw Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function json(e,t){return fetch(e,t).then(responseJson)}function parser(e){return function(t,n){return src_text(t,n).then(function(t){return(new DOMParser).parseFromString(t,e)})}}var t6=parser("application/xml"),t5=parser("text/html"),t8=parser("image/svg+xml");function src_center(e,t){var n;function force(){var r,o,i=n.length,a=0,c=0;for(r=0;r<i;++r)a+=(o=n[r]).x,c+=o.y;for(a=a/i-e,c=c/i-t,r=0;r<i;++r)o=n[r],o.x-=a,o.y-=c}return null==e&&(e=0),null==t&&(t=0),force.initialize=function(e){n=e},force.x=function(t){return arguments.length?(e=+t,force):e},force.y=function(e){return arguments.length?(t=+e,force):t},force}function d3_force_src_constant(e){return function(){return e}}function jiggle(){return(Math.random()-.5)*1e-6}function add_add(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i,a,c,u,s,l,f,d,h=e._root,p={data:r},_=e._x0,g=e._y0,m=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((s=t>=(i=(_+m)/2))?_=i:m=i,(l=n>=(a=(g+b)/2))?g=a:b=a,o=h,!(h=h[f=l<<1|s]))return o[f]=p,e;if(c=+e._x.call(null,h.data),u=+e._y.call(null,h.data),t===c&&n===u)return p.next=h,o?o[f]=p:e._root=p,e;do o=o?o[f]=[,,,,]:e._root=[,,,,],(s=t>=(i=(_+m)/2))?_=i:m=i,(l=n>=(a=(g+b)/2))?g=a:b=a;while((f=l<<1|s)==(d=(u>=a)<<1|c>=i));return o[d]=h,o[f]=p,e}function quad(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function x_defaultX(e){return e[0]}function y_defaultY(e){return e[1]}function quadtree(e,t,n){var r=new Quadtree(null==t?x_defaultX:t,null==n?y_defaultY:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Quadtree(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function leaf_copy(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var t7=quadtree.prototype=Quadtree.prototype;function collide_x(e){return e.x+e.vx}function collide_y(e){return e.y+e.vy}function collide(e){var t,n,r=1,o=1;function force(){for(var e,i,a,c,u,s,l,f=t.length,d=0;d<o;++d)for(e=0,i=quadtree(t,collide_x,collide_y).visitAfter(prepare);e<f;++e)l=(s=n[(a=t[e]).index])*s,c=a.x+a.vx,u=a.y+a.vy,i.visit(apply);function apply(e,t,n,o,i){var f=e.data,d=e.r,h=s+d;if(f){if(f.index>a.index){var p=c-f.x-f.vx,_=u-f.y-f.vy,g=p*p+_*_;g<h*h&&(0===p&&(g+=(p=jiggle())*p),0===_&&(g+=(_=jiggle())*_),g=(h-(g=Math.sqrt(g)))/g*r,a.vx+=(p*=g)*(h=(d*=d)/(l+d)),a.vy+=(_*=g)*h,f.vx-=p*(h=1-h),f.vy-=_*h)}return}return t>c+h||o<c-h||n>u+h||i<u-h}}function prepare(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function initialize(){if(t){var r,o,i=t.length;for(r=0,n=Array(i);r<i;++r)n[(o=t[r]).index]=+e(o,r,t)}}return"function"!=typeof e&&(e=d3_force_src_constant(null==e?1:+e)),force.initialize=function(e){t=e,initialize()},force.iterations=function(e){return arguments.length?(o=+e,force):o},force.strength=function(e){return arguments.length?(r=+e,force):r},force.radius=function(t){return arguments.length?(e="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):e},force}function index(e){return e.index}function link_find(e,t){var n=e.get(t);if(!n)throw Error("missing: "+t);return n}function src_link(e){var t,n,r,o,i,a=index,strength=function(e){return 1/Math.min(o[e.source.index],o[e.target.index])},c=d3_force_src_constant(30),u=1;function force(r){for(var o=0,a=e.length;o<u;++o)for(var c,s,l,f,d,h,p,_=0;_<a;++_)s=(c=e[_]).source,h=((h=Math.sqrt((f=(l=c.target).x+l.vx-s.x-s.vx||jiggle())*f+(d=l.y+l.vy-s.y-s.vy||jiggle())*d))-n[_])/h*r*t[_],f*=h,d*=h,l.vx-=f*(p=i[_]),l.vy-=d*p,s.vx+=f*(p=1-p),s.vy+=d*p}function initialize(){if(r){var c,u,s=r.length,l=e.length,f=e9(r,a);for(c=0,o=Array(s);c<l;++c)(u=e[c]).index=c,"object"!=typeof u.source&&(u.source=link_find(f,u.source)),"object"!=typeof u.target&&(u.target=link_find(f,u.target)),o[u.source.index]=(o[u.source.index]||0)+1,o[u.target.index]=(o[u.target.index]||0)+1;for(c=0,i=Array(l);c<l;++c)u=e[c],i[c]=o[u.source.index]/(o[u.source.index]+o[u.target.index]);t=Array(l),initializeStrength(),n=Array(l),initializeDistance()}}function initializeStrength(){if(r)for(var n=0,o=e.length;n<o;++n)t[n]=+strength(e[n],n,e)}function initializeDistance(){if(r)for(var t=0,o=e.length;t<o;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),force.initialize=function(e){r=e,initialize()},force.links=function(t){return arguments.length?(e=t,initialize(),force):e},force.id=function(e){return arguments.length?(a=e,force):a},force.iterations=function(e){return arguments.length?(u=+e,force):u},force.strength=function(e){return arguments.length?(strength="function"==typeof e?e:d3_force_src_constant(+e),initializeStrength(),force):strength},force.distance=function(e){return arguments.length?(c="function"==typeof e?e:d3_force_src_constant(+e),initializeDistance(),force):c},force}function simulation_x(e){return e.x}function simulation_y(e){return e.y}t7.copy=function(){var e,t,n=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=leaf_copy(r),n;for(e=[{source:r,target:n._root=[,,,,]}];r=e.pop();)for(var o=0;o<4;++o)(t=r.source[o])&&(t.length?e.push({source:t,target:r.target[o]=[,,,,]}):r.target[o]=leaf_copy(t));return n},t7.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return add_add(this.cover(t,n),t,n,e)},t7.addAll=function(e){var t,n,r,o,i=e.length,a=Array(i),c=Array(i),u=1/0,s=1/0,l=-1/0,f=-1/0;for(n=0;n<i;++n)!(isNaN(r=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t)))&&(a[n]=r,c[n]=o,r<u&&(u=r),r>l&&(l=r),o<s&&(s=o),o>f&&(f=o));for(l<u&&(u=this._x0,l=this._x1),f<s&&(s=this._y0,f=this._y1),this.cover(u,s).cover(l,f),n=0;n<i;++n)add_add(this,a[n],c[n],e[n]);return this},t7.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{if(!(n>e)&&!(e>o)&&!(r>t)&&!(t>i))return this;var a,c,u=o-n,s=this._root;switch(c=(t<(r+i)/2)<<1|e<(n+o)/2){case 0:do(a=[,,,,])[c]=s,s=a;while(u*=2,o=n+u,i=r+u,e>o||t>i);break;case 1:do(a=[,,,,])[c]=s,s=a;while(u*=2,n=o-u,i=r+u,n>e||t>i);break;case 2:do(a=[,,,,])[c]=s,s=a;while(u*=2,o=n+u,r=i-u,e>o||r>t);break;case 3:do(a=[,,,,])[c]=s,s=a;while(u*=2,n=o-u,r=i-u,n>e||r>t)}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},t7.data=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},t7.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},t7.find=function(e,t,n){var r,o,i,a,c,u,s,l=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],_=this._root;for(_&&p.push(new quad(_,l,f,d,h)),null==n?n=1/0:(l=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=p.pop();)if((_=u.node)&&!((o=u.x0)>d)&&!((i=u.y0)>h)&&!((a=u.x1)<l)&&!((c=u.y1)<f)){if(_.length){var g=(o+a)/2,m=(i+c)/2;p.push(new quad(_[3],g,m,a,c),new quad(_[2],o,m,g,c),new quad(_[1],g,i,a,m),new quad(_[0],o,i,g,m)),(s=(t>=m)<<1|e>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-s],p[p.length-1-s]=u)}else{var b=e-+this._x.call(null,_.data),v=t-+this._y.call(null,_.data),w=b*b+v*v;if(w<n){var M=Math.sqrt(n=w);l=e-M,f=t-M,d=e+M,h=t+M,r=_.data}}}return r},t7.remove=function(e){if(isNaN(i=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,o,i,a,c,u,s,l,f,d,h=this._root,p=this._x0,_=this._y0,g=this._x1,m=this._y1;if(!h)return this;if(h.length)for(;;){if((s=i>=(c=(p+g)/2))?p=c:g=c,(l=a>=(u=(_+m)/2))?_=u:m=u,t=h,!(h=h[f=l<<1|s]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return((o=h.next)&&delete h.next,r)?o?r.next=o:delete r.next:t?(o?t[f]=o:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h)):this._root=o,this},t7.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},t7.root=function(){return this._root},t7.size=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},t7.visit=function(e){var t,n,r,o,i,a,c=[],u=this._root;for(u&&c.push(new quad(u,this._x0,this._y0,this._x1,this._y1));t=c.pop();)if(!e(u=t.node,r=t.x0,o=t.y0,i=t.x1,a=t.y1)&&u.length){var s=(r+i)/2,l=(o+a)/2;(n=u[3])&&c.push(new quad(n,s,l,i,a)),(n=u[2])&&c.push(new quad(n,r,l,s,a)),(n=u[1])&&c.push(new quad(n,s,o,i,l)),(n=u[0])&&c.push(new quad(n,r,o,s,l))}return this},t7.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new quad(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var o=t.node;if(o.length){var i,a=t.x0,c=t.y0,u=t.x1,s=t.y1,l=(a+u)/2,f=(c+s)/2;(i=o[0])&&n.push(new quad(i,a,c,l,f)),(i=o[1])&&n.push(new quad(i,l,c,u,f)),(i=o[2])&&n.push(new quad(i,a,f,l,s)),(i=o[3])&&n.push(new quad(i,l,f,u,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},t7.x=function(e){return arguments.length?(this._x=e,this):this._x},t7.y=function(e){return arguments.length?(this._y=e,this):this._y};var t4=Math.PI*(3-Math.sqrt(5));function simulation(e){var t,n=1,r=.001,o=1-Math.pow(.001,1/300),i=0,a=.6,c=e9(),u=timer(step),s=P("tick","end");function step(){tick(),s.call("tick",t),n<r&&(u.stop(),s.call("end",t))}function tick(r){var u,s,l=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(i-n)*o,c.each(function(e){e(n)}),u=0;u<l;++u)null==(s=e[u]).fx?s.x+=s.vx*=a:(s.x=s.fx,s.vx=0),null==s.fy?s.y+=s.vy*=a:(s.y=s.fy,s.vy=0);return t}function initializeNodes(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var o=10*Math.sqrt(n),i=n*t4;t.x=o*Math.cos(i),t.y=o*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function initializeForce(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),initializeNodes(),t={tick:tick,restart:function(){return u.restart(step),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,initializeNodes(),c.each(initializeForce),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(o=+e,t):+o},alphaTarget:function(e){return arguments.length?(i=+e,t):i},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?c.remove(e):c.set(e,initializeForce(n)),t):c.get(e)},find:function(t,n,r){var o,i,a,c,u,s=0,l=e.length;for(null==r?r=1/0:r*=r,s=0;s<l;++s)(a=(o=t-(c=e[s]).x)*o+(i=n-c.y)*i)<r&&(u=c,r=a);return u},on:function(e,n){return arguments.length>1?(s.on(e,n),t):s.on(e)}}}function manyBody(){var e,t,n,r,o=d3_force_src_constant(-30),i=1,a=1/0,c=.81;function force(r){var o,i=e.length,a=quadtree(e,simulation_x,simulation_y).visitAfter(accumulate);for(n=r,o=0;o<i;++o)t=e[o],a.visit(apply)}function initialize(){if(e){var t,n,i=e.length;for(t=0,r=Array(i);t<i;++t)r[(n=e[t]).index]=+o(n,t,e)}}function accumulate(e){var t,n,o,i,a,c=0,u=0;if(e.length){for(o=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(c+=t.value,u+=n,o+=n*t.x,i+=n*t.y);e.x=o/u,e.y=i/u}else{(t=e).x=t.data.x,t.y=t.data.y;do c+=r[t.data.index];while(t=t.next)}e.value=c}function apply(e,o,u,s){if(!e.value)return!0;var l=e.x-t.x,f=e.y-t.y,d=s-o,h=l*l+f*f;if(d*d/c<h)return h<a&&(0===l&&(h+=(l=jiggle())*l),0===f&&(h+=(f=jiggle())*f),h<i&&(h=Math.sqrt(i*h)),t.vx+=l*e.value*n/h,t.vy+=f*e.value*n/h),!0;if(!e.length&&!(h>=a)){(e.data!==t||e.next)&&(0===l&&(h+=(l=jiggle())*l),0===f&&(h+=(f=jiggle())*f),h<i&&(h=Math.sqrt(i*h)));do e.data!==t&&(d=r[e.data.index]*n/h,t.vx+=l*d,t.vy+=f*d);while(e=e.next)}}return force.initialize=function(t){e=t,initialize()},force.strength=function(e){return arguments.length?(o="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):o},force.distanceMin=function(e){return arguments.length?(i=e*e,force):Math.sqrt(i)},force.distanceMax=function(e){return arguments.length?(a=e*e,force):Math.sqrt(a)},force.theta=function(e){return arguments.length?(c=e*e,force):Math.sqrt(c)},force}function radial(e,t,n){var r,o,i,a=d3_force_src_constant(.1);function force(e){for(var a=0,c=r.length;a<c;++a){var u=r[a],s=u.x-t||1e-6,l=u.y-n||1e-6,f=Math.sqrt(s*s+l*l),d=(i[a]-f)*o[a]*e/f;u.vx+=s*d,u.vy+=l*d}}function initialize(){if(r){var t,n=r.length;for(t=0,o=Array(n),i=Array(n);t<n;++t)i[t]=+e(r[t],t,r),o[t]=isNaN(i[t])?0:+a(r[t],t,r)}}return"function"!=typeof e&&(e=d3_force_src_constant(+e)),null==t&&(t=0),null==n&&(n=0),force.initialize=function(e){r=e,initialize()},force.strength=function(e){return arguments.length?(a="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):a},force.radius=function(t){return arguments.length?(e="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):e},force.x=function(e){return arguments.length?(t=+e,force):t},force.y=function(e){return arguments.length?(n=+e,force):n},force}function src_x(e){var t,n,r,o=d3_force_src_constant(.1);function force(e){for(var o,i=0,a=t.length;i<a;++i)o=t[i],o.vx+=(r[i]-o.x)*n[i]*e}function initialize(){if(t){var i,a=t.length;for(i=0,n=Array(a),r=Array(a);i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=d3_force_src_constant(null==e?0:+e)),force.initialize=function(e){t=e,initialize()},force.strength=function(e){return arguments.length?(o="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):o},force.x=function(t){return arguments.length?(e="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):e},force}function src_y(e){var t,n,r,o=d3_force_src_constant(.1);function force(e){for(var o,i=0,a=t.length;i<a;++i)o=t[i],o.vy+=(r[i]-o.y)*n[i]*e}function initialize(){if(t){var i,a=t.length;for(i=0,n=Array(a),r=Array(a);i<a;++i)n[i]=isNaN(r[i]=+e(t[i],i,t))?0:+o(t[i],i,t)}}return"function"!=typeof e&&(e=d3_force_src_constant(null==e?0:+e)),force.initialize=function(e){t=e,initialize()},force.strength=function(e){return arguments.length?(o="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):o},force.y=function(t){return arguments.length?(e="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):e},force}var t9=n(490741),ne=n(805331),nt=n(632159),nn=n(203044);function precisionFixed(e){return Math.max(0,-(0,nn.Z)(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,nn.Z)(t)/3)))-(0,nn.Z)(Math.abs(e)))}function precisionRound(e,t){return t=Math.abs(t)-(e=Math.abs(e)),Math.max(0,(0,nn.Z)(t)-(0,nn.Z)(e))+1}function adder(){return new Adder}function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(e){adder_add(nr,e,this.t),adder_add(this,nr.s,this.s),this.s?this.t+=nr.t:this.s=nr.t},valueOf:function(){return this.s}};var nr=new Adder;function adder_add(e,t,n){var r=e.s=t+n,o=r-t;e.t=t-(r-o)+(n-o)}var no=Math.PI,ni=no/2,na=no/4,nc=2*no,nu=180/no,ns=no/180,nl=Math.abs,nf=Math.atan,nd=Math.atan2,nh=Math.cos,np=Math.ceil,n_=Math.exp,ng=Math.log,nm=Math.pow,nb=Math.sin,ny=Math.sign||function(e){return e>0?1:e<0?-1:0},nv=Math.sqrt,nx=Math.tan;function acos(e){return e>1?0:e<-1?no:Math.acos(e)}function asin(e){return e>1?ni:e<-1?-ni:Math.asin(e)}function noop_noop(){}function streamGeometry(e,t){e&&nM.hasOwnProperty(e.type)&&nM[e.type](e,t)}var nw={Feature:function(e,t){streamGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)streamGeometry(n[r].geometry,t)}},nM={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){streamLine(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)streamLine(n[r],t,0)},Polygon:function(e,t){streamPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)streamPolygon(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)streamGeometry(n[r],t)}};function streamLine(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function streamPolygon(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)streamLine(e[n],t,1);t.polygonEnd()}function stream(e,t){e&&nw.hasOwnProperty(e.type)?nw[e.type](e,t):streamGeometry(e,t)}var nA,nE,nC,nS,nN,nk,nR,nT,nP,nL=adder(),nO=adder(),nI={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){nL.reset(),nI.lineStart=areaRingStart,nI.lineEnd=areaRingEnd},polygonEnd:function(){var e=+nL;nO.add(e<0?nc+e:e),this.lineStart=this.lineEnd=this.point=noop_noop},sphere:function(){nO.add(nc)}};function areaRingStart(){nI.point=areaPointFirst}function areaRingEnd(){areaPoint(nN,nk)}function areaPointFirst(e,t){nI.point=areaPoint,nN=e,nk=t,e*=ns,t*=ns,nR=e,nT=nh(t=t/2+na),nP=nb(t)}function areaPoint(e,t){e*=ns,t*=ns;var n=e-nR,r=n>=0?1:-1,o=r*n,i=nh(t=t/2+na),a=nb(t),c=nP*a,u=nT*i+c*nh(o),s=c*r*nb(o);nL.add(nd(s,u)),nR=e,nT=i,nP=a}function d3_geo_src_area(e){return nO.reset(),stream(e,nI),2*nO}function spherical(e){return[nd(e[1],e[0]),asin(e[2])]}function cartesian(e){var t=e[0],n=e[1],r=nh(n);return[r*nh(t),r*nb(t),nb(n)]}function cartesianDot(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cartesianCross(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cartesianAddInPlace(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cartesianScale(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cartesianNormalizeInPlace(e){var t=nv(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var nq,nz,nD,nB,nj,nH,nU,nF,nZ,nV,nY=adder(),nG={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){nG.point=boundsRingPoint,nG.lineStart=boundsRingStart,nG.lineEnd=boundsRingEnd,nY.reset(),nI.polygonStart()},polygonEnd:function(){nI.polygonEnd(),nG.point=boundsPoint,nG.lineStart=boundsLineStart,nG.lineEnd=boundsLineEnd,nL<0?(nq=-(nD=180),nz=-(nB=90)):nY>1e-6?nB=90:nY<-.000001&&(nz=-90),nV[0]=nq,nV[1]=nD},sphere:function(){nq=-(nD=180),nz=-(nB=90)}};function boundsPoint(e,t){nZ.push(nV=[nq=e,nD=e]),t<nz&&(nz=t),t>nB&&(nB=t)}function linePoint(e,t){var n=cartesian([e*ns,t*ns]);if(nF){var r=cartesianCross(nF,n),o=cartesianCross([r[1],-r[0],0],r);cartesianNormalizeInPlace(o),o=spherical(o);var i,a=e-nj,c=a>0?1:-1,u=o[0]*nu*c,s=nl(a)>180;s^(c*nj<u&&u<c*e)?(i=o[1]*nu)>nB&&(nB=i):s^(c*nj<(u=(u+360)%360-180)&&u<c*e)?(i=-o[1]*nu)<nz&&(nz=i):(t<nz&&(nz=t),t>nB&&(nB=t)),s?e<nj?angle(nq,e)>angle(nq,nD)&&(nD=e):angle(e,nD)>angle(nq,nD)&&(nq=e):nD>=nq?(e<nq&&(nq=e),e>nD&&(nD=e)):e>nj?angle(nq,e)>angle(nq,nD)&&(nD=e):angle(e,nD)>angle(nq,nD)&&(nq=e)}else nZ.push(nV=[nq=e,nD=e]);t<nz&&(nz=t),t>nB&&(nB=t),nF=n,nj=e}function boundsLineStart(){nG.point=linePoint}function boundsLineEnd(){nV[0]=nq,nV[1]=nD,nG.point=boundsPoint,nF=null}function boundsRingPoint(e,t){if(nF){var n=e-nj;nY.add(nl(n)>180?n+(n>0?360:-360):n)}else nH=e,nU=t;nI.point(e,t),linePoint(e,t)}function boundsRingStart(){nI.lineStart()}function boundsRingEnd(){boundsRingPoint(nH,nU),nI.lineEnd(),nl(nY)>1e-6&&(nq=-(nD=180)),nV[0]=nq,nV[1]=nD,nF=null}function angle(e,t){return(t-=e)<0?t+360:t}function rangeCompare(e,t){return e[0]-t[0]}function rangeContains(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function bounds(e){var t,n,r,o,i,a,c;if(nB=nD=-(nq=nz=1/0),nZ=[],stream(e,nG),n=nZ.length){for(nZ.sort(rangeCompare),t=1,i=[r=nZ[0]];t<n;++t)rangeContains(r,(o=nZ[t])[0])||rangeContains(r,o[1])?(angle(r[0],o[1])>angle(r[0],r[1])&&(r[1]=o[1]),angle(o[0],r[1])>angle(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,n=i.length-1,t=0,r=i[n];t<=n;r=o,++t)o=i[t],(c=angle(r[1],o[0]))>a&&(a=c,nq=o[0],nD=r[1])}return nZ=nV=null,nq===1/0||nz===1/0?[[NaN,NaN],[NaN,NaN]]:[[nq,nz],[nD,nB]]}var nW={sphere:noop_noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){nW.lineStart=centroidRingStart,nW.lineEnd=centroidRingEnd},polygonEnd:function(){nW.lineStart=centroidLineStart,nW.lineEnd=centroidLineEnd}};function centroidPoint(e,t){e*=ns;var n=nh(t*=ns);centroidPointCartesian(n*nh(e),n*nb(e),nb(t))}function centroidPointCartesian(e,t,n){++nK,nJ+=(e-nJ)/nK,n0+=(t-n0)/nK,n1+=(n-n1)/nK}function centroidLineStart(){nW.point=centroidLinePointFirst}function centroidLinePointFirst(e,t){e*=ns;var n=nh(t*=ns);re=n*nh(e),rt=n*nb(e),rn=nb(t),nW.point=centroidLinePoint,centroidPointCartesian(re,rt,rn)}function centroidLinePoint(e,t){e*=ns;var n=nh(t*=ns),r=n*nh(e),o=n*nb(e),i=nb(t),a=nd(nv((a=rt*i-rn*o)*a+(a=rn*r-re*i)*a+(a=re*o-rt*r)*a),re*r+rt*o+rn*i);nQ+=a,n2+=a*(re+(re=r)),n3+=a*(rt+(rt=o)),n6+=a*(rn+(rn=i)),centroidPointCartesian(re,rt,rn)}function centroidLineEnd(){nW.point=centroidPoint}function centroidRingStart(){nW.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(n4,n9),nW.point=centroidPoint}function centroidRingPointFirst(e,t){n4=e,n9=t,e*=ns,t*=ns,nW.point=centroidRingPoint;var n=nh(t);re=n*nh(e),rt=n*nb(e),rn=nb(t),centroidPointCartesian(re,rt,rn)}function centroidRingPoint(e,t){e*=ns;var n=nh(t*=ns),r=n*nh(e),o=n*nb(e),i=nb(t),a=rt*i-rn*o,c=rn*r-re*i,u=re*o-rt*r,s=nv(a*a+c*c+u*u),l=asin(s),f=s&&-l/s;n5+=f*a,n8+=f*c,n7+=f*u,nQ+=l,n2+=l*(re+(re=r)),n3+=l*(rt+(rt=o)),n6+=l*(rn+(rn=i)),centroidPointCartesian(re,rt,rn)}function centroid(e){nK=nQ=nJ=n0=n1=n2=n3=n6=n5=n8=n7=0,stream(e,nW);var t=n5,n=n8,r=n7,o=t*t+n*n+r*r;return o<1e-12&&(t=n2,n=n3,r=n6,nQ<1e-6&&(t=nJ,n=n0,r=n1),(o=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[nd(n,t)*nu,asin(r/nv(o))*nu]}function d3_geo_src_constant(e){return function(){return e}}function compose(e,t){function compose(n,r){return t((n=e(n,r))[0],n[1])}return e.invert&&t.invert&&(compose.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),compose}function rotationIdentity(e,t){return[nl(e)>no?e+Math.round(-e/nc)*nc:e,t]}function rotateRadians(e,t,n){return(e%=nc)?t||n?compose(rotationLambda(e),rotationPhiGamma(t,n)):rotationLambda(e):t||n?rotationPhiGamma(t,n):rotationIdentity}function forwardRotationLambda(e){return function(t,n){return[(t+=e)>no?t-nc:t<-no?t+nc:t,n]}}function rotationLambda(e){var t=forwardRotationLambda(e);return t.invert=forwardRotationLambda(-e),t}function rotationPhiGamma(e,t){var n=nh(e),r=nb(e),o=nh(t),i=nb(t);function rotation(e,t){var a=nh(t),c=nh(e)*a,u=nb(e)*a,s=nb(t),l=s*n+c*r;return[nd(u*o-l*i,c*n-s*r),asin(l*o+u*i)]}return rotation.invert=function(e,t){var a=nh(t),c=nh(e)*a,u=nb(e)*a,s=nb(t),l=s*o-u*i;return[nd(u*o+s*i,c*n+l*r),asin(l*n-c*r)]},rotation}function rotation(e){function forward(t){return t=e(t[0]*ns,t[1]*ns),t[0]*=nu,t[1]*=nu,t}return e=rotateRadians(e[0]*ns,e[1]*ns,e.length>2?e[2]*ns:0),forward.invert=function(t){return t=e.invert(t[0]*ns,t[1]*ns),t[0]*=nu,t[1]*=nu,t},forward}function circleStream(e,t,n,r,o,i){if(n){var a=nh(t),c=nb(t),u=r*n;null==o?(o=t+r*nc,i=t-u/2):(o=circleRadius(a,o),i=circleRadius(a,i),(r>0?o<i:o>i)&&(o+=r*nc));for(var s,l=o;r>0?l>i:l<i;l-=u)s=spherical([a,-c*nh(l),-c*nb(l)]),e.point(s[0],s[1])}}function circleRadius(e,t){t=cartesian(t),t[0]-=e,cartesianNormalizeInPlace(t);var n=acos(-t[1]);return((0>-t[2]?-n:n)+nc-1e-6)%nc}function circle(){var e,t,n=d3_geo_src_constant([0,0]),r=d3_geo_src_constant(90),o=d3_geo_src_constant(6),i={point:function(n,r){e.push(n=t(n,r)),n[0]*=nu,n[1]*=nu}};function circle(){var a=n.apply(this,arguments),c=r.apply(this,arguments)*ns,u=o.apply(this,arguments)*ns;return e=[],t=rotateRadians(-a[0]*ns,-a[1]*ns,0).invert,circleStream(i,c,u,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return circle.center=function(e){return arguments.length?(n="function"==typeof e?e:d3_geo_src_constant([+e[0],+e[1]]),circle):n},circle.radius=function(e){return arguments.length?(r="function"==typeof e?e:d3_geo_src_constant(+e),circle):r},circle.precision=function(e){return arguments.length?(o="function"==typeof e?e:d3_geo_src_constant(+e),circle):o},circle}function clip_buffer(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:noop_noop,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function pointEqual(e,t){return 1e-6>nl(e[0]-t[0])&&1e-6>nl(e[1]-t[1])}function Intersection(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rejoin(e,t,n,r,o){var i,a,c=[],u=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(pointEqual(r,a)){if(!r[2]&&!a[2]){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd();return}a[0]+=2e-6}c.push(n=new Intersection(r,e,null,!0)),u.push(n.o=new Intersection(r,null,n,!1)),c.push(n=new Intersection(a,e,null,!1)),u.push(n.o=new Intersection(a,null,n,!0))}}),c.length){for(u.sort(t),rejoin_link(c),rejoin_link(u),i=0,a=u.length;i<a;++i)u[i].e=n=!n;for(var s,l,f=c[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;s=d.z,o.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(i=0,a=s.length;i<a;++i)o.point((l=s[i])[0],l[1]);else r(d.x,d.n.x,1,o);d=d.n}else{if(h)for(i=(s=d.p.z).length-1;i>=0;--i)o.point((l=s[i])[0],l[1]);else r(d.x,d.p.x,-1,o);d=d.p}s=(d=d.o).z,h=!h}while(!d.v);o.lineEnd()}}}function rejoin_link(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}rotationIdentity.invert=rotationIdentity;var nX=adder();function longitude(e){return nl(e[0])<=no?e[0]:ny(e[0])*((nl(e[0])+no)%nc-no)}function polygonContains(e,t){var n=longitude(t),r=t[1],o=nb(r),i=[nb(n),-nh(n),0],a=0,c=0;nX.reset(),1===o?r=ni+1e-6:-1===o&&(r=-ni-1e-6);for(var u=0,s=e.length;u<s;++u)if(f=(l=e[u]).length)for(var l,f,d=l[f-1],h=longitude(d),p=d[1]/2+na,_=nb(p),g=nh(p),m=0;m<f;++m,h=v,_=M,g=A,d=b){var b=l[m],v=longitude(b),w=b[1]/2+na,M=nb(w),A=nh(w),E=v-h,C=E>=0?1:-1,S=C*E,N=S>no,k=_*M;if(nX.add(nd(k*C*nb(S),g*A+k*nh(S))),a+=N?E+C*nc:E,N^h>=n^v>=n){var R=cartesianCross(cartesian(d),cartesian(b));cartesianNormalizeInPlace(R);var T=cartesianCross(i,R);cartesianNormalizeInPlace(T);var P=(N^E>=0?-1:1)*asin(T[2]);(r>P||r===P&&(R[0]||R[1]))&&(c+=N^E>=0?1:-1)}}return(a<-.000001||a<1e-6&&nX<-.000001)^1&c}function clip(e,t,n,r){return function(o){var i,a,c,u=t(o),s=clip_buffer(),l=t(s),f=!1,d={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){d.point=pointRing,d.lineStart=ringStart,d.lineEnd=ringEnd,a=[],i=[]},polygonEnd:function(){d.point=point,d.lineStart=lineStart,d.lineEnd=lineEnd,a=merge(a);var e=polygonContains(i,r);a.length?(f||(o.polygonStart(),f=!0),rejoin(a,compareIntersection,e,n,o)):e&&(f||(o.polygonStart(),f=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=i=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function point(t,n){e(t,n)&&o.point(t,n)}function pointLine(e,t){u.point(e,t)}function lineStart(){d.point=pointLine,u.lineStart()}function lineEnd(){d.point=point,u.lineEnd()}function pointRing(e,t){c.push([e,t]),l.point(e,t)}function ringStart(){l.lineStart(),c=[]}function ringEnd(){pointRing(c[0][0],c[0][1]),l.lineEnd();var e,t,n,r,u=l.clean(),d=s.result(),h=d.length;if(c.pop(),i.push(c),c=null,h){if(1&u){if((t=(n=d[0]).length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}return}h>1&&2&u&&d.push(d.pop().concat(d.shift())),a.push(d.filter(validSegment))}}return d}}function validSegment(e){return e.length>1}function compareIntersection(e,t){return((e=e.x)[0]<0?e[1]-ni-1e-6:ni-e[1])-((t=t.x)[0]<0?t[1]-ni-1e-6:ni-t[1])}var n$=clip(function(){return!0},function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,a){var c,u,s,l,f,d,h=i>0?no:-no,p=nl(i-n);1e-6>nl(p-no)?(e.point(n,r=(r+a)/2>0?ni:-ni),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(h,r),e.point(i,r),t=0):o!==h&&p>=no&&(1e-6>nl(n-o)&&(n-=1e-6*o),1e-6>nl(i-h)&&(i-=1e-6*h),c=n,u=r,r=nl(d=nb(c-(s=i)))>1e-6?nf((nb(u)*(f=nh(a))*nb(s)-nb(a)*(l=nh(u))*nb(c))/(l*f*d)):(u+a)/2,e.point(o,r),e.lineEnd(),e.lineStart(),e.point(h,r),t=0),e.point(n=i,r=a),o=h},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var o;if(null==e)o=n*ni,r.point(-no,o),r.point(0,o),r.point(no,o),r.point(no,0),r.point(no,-o),r.point(0,-o),r.point(-no,-o),r.point(-no,0),r.point(-no,o);else if(nl(e[0]-t[0])>1e-6){var i=e[0]<t[0]?no:-no;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])},[-no,-ni]);function clip_circle(e){var t=nh(e),n=6*ns,r=t>0,o=nl(t)>1e-6;function visible(e,n){return nh(e)*nh(n)>t}function intersect(e,n,r){var o=cartesian(e),i=cartesian(n),a=[1,0,0],c=cartesianCross(o,i),u=cartesianDot(c,c),s=c[0],l=u-s*s;if(!l)return!r&&e;var f=t*u/l,d=-t*s/l,h=cartesianCross(a,c),p=cartesianScale(a,f);cartesianAddInPlace(p,cartesianScale(c,d));var _=cartesianDot(p,h),g=cartesianDot(h,h),m=_*_-g*(cartesianDot(p,p)-1);if(!(m<0)){var b=nv(m),v=cartesianScale(h,(-_-b)/g);if(cartesianAddInPlace(v,p),v=spherical(v),!r)return v;var w,M=e[0],A=n[0],E=e[1],C=n[1];A<M&&(w=M,M=A,A=w);var S=A-M,N=1e-6>nl(S-no),k=N||S<1e-6;if(!N&&C<E&&(w=E,E=C,C=w),k?N?E+C>0^v[1]<(1e-6>nl(v[0]-M)?E:C):E<=v[1]&&v[1]<=C:S>no^(M<=v[0]&&v[0]<=A)){var R=cartesianScale(h,(-_+b)/g);return cartesianAddInPlace(R,p),[v,spherical(R)]}}}function code(t,n){var o=r?e:no-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return clip(visible,function(e){var t,n,i,a,c;return{lineStart:function(){a=i=!1,c=1},point:function(u,s){var l,f,d=[u,s],h=visible(u,s),p=r?h?0:code(u,s):h?code(u+(u<0?no:-no),s):0;!t&&(a=i=h)&&e.lineStart(),h!==i&&(!(f=intersect(t,d))||pointEqual(t,f)||pointEqual(d,f))&&(d[2]=1),h!==i?(c=0,h?(e.lineStart(),f=intersect(d,t),e.point(f[0],f[1])):(f=intersect(t,d),e.point(f[0],f[1],2),e.lineEnd()),t=f):o&&t&&r^h&&!(p&n)&&(l=intersect(d,t,!0))&&(c=0,r?(e.lineStart(),e.point(l[0][0],l[0][1]),e.point(l[1][0],l[1][1]),e.lineEnd()):(e.point(l[1][0],l[1][1]),e.lineEnd(),e.lineStart(),e.point(l[0][0],l[0][1],3))),!h||t&&pointEqual(t,d)||e.point(d[0],d[1]),t=d,i=h,n=p},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return c|(a&&i)<<1}}},function(t,r,o,i){circleStream(i,e,n,o,t,r)},r?[0,-e]:[-no,e-no])}function clipRectangle(e,t,n,r){function visible(o,i){return e<=o&&o<=n&&t<=i&&i<=r}function interpolate(o,i,a,c){var u=0,s=0;if(null==o||(u=corner(o,a))!==(s=corner(i,a))||0>comparePoint(o,i)^a>0)do c.point(0===u||3===u?e:n,u>1?r:t);while((u=(u+a+4)%4)!==s);else c.point(i[0],i[1])}function corner(r,o){return 1e-6>nl(r[0]-e)?o>0?0:3:1e-6>nl(r[0]-n)?o>0?2:1:1e-6>nl(r[1]-t)?o>0?1:0:o>0?3:2}function compareIntersection(e,t){return comparePoint(e.x,t.x)}function comparePoint(e,t){var n=corner(e,1),r=corner(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var i,a,c,u,s,l,f,d,h,p,_,g=o,m=clip_buffer(),b={point:point,lineStart:function(){b.point=linePoint,a&&a.push(c=[]),p=!0,h=!1,f=d=NaN},lineEnd:function(){i&&(linePoint(u,s),l&&h&&m.rejoin(),i.push(m.result())),b.point=point,h&&g.lineEnd()},polygonStart:function(){g=m,i=[],a=[],_=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,o=a.length;n<o;++n)for(var i,c,u=a[n],s=1,l=u.length,f=u[0],d=f[0],h=f[1];s<l;++s)i=d,c=h,d=(f=u[s])[0],h=f[1],c<=r?h>r&&(d-i)*(r-c)>(h-c)*(e-i)&&++t:h<=r&&(d-i)*(r-c)<(h-c)*(e-i)&&--t;return t}(),n=_&&t,u=(i=merge(i)).length;(n||u)&&(o.polygonStart(),n&&(o.lineStart(),interpolate(null,null,1,o),o.lineEnd()),u&&rejoin(i,compareIntersection,t,interpolate,o),o.polygonEnd()),g=o,i=a=c=null}};function point(e,t){visible(e,t)&&g.point(e,t)}function linePoint(o,i){var m=visible(o,i);if(a&&c.push([o,i]),p)u=o,s=i,l=m,p=!1,m&&(g.lineStart(),g.point(o,i));else if(m&&h)g.point(o,i);else{var b=[f=Math.max(-1e9,Math.min(1e9,f)),d=Math.max(-1e9,Math.min(1e9,d))],v=[o=Math.max(-1e9,Math.min(1e9,o)),i=Math.max(-1e9,Math.min(1e9,i))];!function(e,t,n,r,o,i){var a,c=e[0],u=e[1],s=t[0],l=t[1],f=0,d=1,h=s-c,p=l-u;if(a=n-c,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<d&&(d=a)}else if(h>0){if(a>d)return;a>f&&(f=a)}if(a=o-c,h||!(a<0)){if(a/=h,h<0){if(a>d)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<d&&(d=a)}if(a=r-u,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>f&&(f=a)}if(a=i-u,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<d&&(d=a)}return f>0&&(e[0]=c+f*h,e[1]=u+f*p),d<1&&(t[0]=c+d*h,t[1]=u+d*p),!0}}}}}(b,v,e,t,n,r)?m&&(g.lineStart(),g.point(o,i),_=!1):(h||(g.lineStart(),g.point(b[0],b[1])),g.point(v[0],v[1]),m||g.lineEnd(),_=!1)}f=o,d=i,h=m}return b}}function clip_extent(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=clipRectangle(r,o,i,a)(t=n)},extent:function(c){return arguments.length?(r=+c[0][0],o=+c[0][1],i=+c[1][0],a=+c[1][1],e=t=null,n):[[r,o],[i,a]]}}}var nK,nQ,nJ,n0,n1,n2,n3,n6,n5,n8,n7,n4,n9,re,rt,rn,rr,ro,ri,ra=adder(),rc={sphere:noop_noop,point:noop_noop,lineStart:function(){rc.point=lengthPointFirst,rc.lineEnd=lengthLineEnd},lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop};function lengthLineEnd(){rc.point=rc.lineEnd=noop_noop}function lengthPointFirst(e,t){e*=ns,t*=ns,rr=e,ro=nb(t),ri=nh(t),rc.point=lengthPoint}function lengthPoint(e,t){e*=ns;var n=nb(t*=ns),r=nh(t),o=nl(e-rr),i=nh(o),a=r*nb(o),c=ri*n-ro*r*i,u=ro*n+ri*r*i;ra.add(nd(nv(a*a+c*c),u)),rr=e,ro=n,ri=r}function src_length(e){return ra.reset(),stream(e,rc),+ra}var ru=[null,null],rs={type:"LineString",coordinates:ru};function distance(e,t){return ru[0]=e,ru[1]=t,src_length(rs)}var rl={Feature:function(e,t){return containsGeometry(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)if(containsGeometry(n[r].geometry,t))return!0;return!1}},rf={Sphere:function(){return!0},Point:function(e,t){return 0===distance(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(0===distance(n[r],t))return!0;return!1},LineString:function(e,t){return containsLine(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(containsLine(n[r],t))return!0;return!1},Polygon:function(e,t){return containsPolygon(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(containsPolygon(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)if(containsGeometry(n[r],t))return!0;return!1}};function containsGeometry(e,t){return!!(e&&rf.hasOwnProperty(e.type))&&rf[e.type](e,t)}function containsLine(e,t){for(var n,r,o,i=0,a=e.length;i<a;i++){if(0===(r=distance(e[i],t))||i>0&&(o=distance(e[i],e[i-1]))>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<1e-12*o)return!0;n=r}return!1}function containsPolygon(e,t){return!!polygonContains(e.map(ringRadians),pointRadians(t))}function ringRadians(e){return(e=e.map(pointRadians)).pop(),e}function pointRadians(e){return[e[0]*ns,e[1]*ns]}function src_contains(e,t){return(e&&rl.hasOwnProperty(e.type)?rl[e.type]:containsGeometry)(e,t)}function graticuleX(e,t,n){var r=src_range(e,t-1e-6,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function graticuleY(e,t,n){var r=src_range(e,t-1e-6,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function graticule(){var e,t,n,r,o,i,a,c,u,s,l,f,d=10,h=10,p=90,_=360,g=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return src_range(np(r/p)*p,n,p).map(l).concat(src_range(np(c/_)*_,a,_).map(f)).concat(src_range(np(t/d)*d,e,d).filter(function(e){return nl(e%p)>1e-6}).map(u)).concat(src_range(np(i/h)*h,o,h).filter(function(e){return nl(e%_)>1e-6}).map(s))}return graticule.lines=function(){return lines().map(function(e){return{type:"LineString",coordinates:e}})},graticule.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(c).reverse().slice(1))]}},graticule.extent=function(e){return arguments.length?graticule.extentMajor(e).extentMinor(e):graticule.extentMinor()},graticule.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],c=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),c>a&&(e=c,c=a,a=e),graticule.precision(g)):[[r,c],[n,a]]},graticule.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],i=+n[0][1],o=+n[1][1],t>e&&(n=t,t=e,e=n),i>o&&(n=i,i=o,o=n),graticule.precision(g)):[[t,i],[e,o]]},graticule.step=function(e){return arguments.length?graticule.stepMajor(e).stepMinor(e):graticule.stepMinor()},graticule.stepMajor=function(e){return arguments.length?(p=+e[0],_=+e[1],graticule):[p,_]},graticule.stepMinor=function(e){return arguments.length?(d=+e[0],h=+e[1],graticule):[d,h]},graticule.precision=function(d){return arguments.length?(g=+d,u=graticuleX(i,o,90),s=graticuleY(t,e,g),l=graticuleX(c,a,90),f=graticuleY(r,n,g),graticule):g},graticule.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function graticule10(){return graticule()()}function src_interpolate(e,t){var n,r,o=e[0]*ns,i=e[1]*ns,a=t[0]*ns,c=t[1]*ns,u=nh(i),s=nb(i),l=nh(c),f=nb(c),d=u*nh(o),h=u*nb(o),p=l*nh(a),_=l*nb(a),g=2*asin(nv((n=nb((n=c-i)/2))*n+u*l*((r=nb((r=a-o)/2))*r))),m=nb(g),b=g?function(e){var t=nb(e*=g)/m,n=nb(g-e)/m,r=n*d+t*p,o=n*h+t*_;return[nd(o,r)*nu,nd(n*s+t*f,nv(r*r+o*o))*nu]}:function(){return[o*nu,i*nu]};return b.distance=g,b}function d3_geo_src_identity(e){return e}var rd,rh,rp,r_,rg=adder(),rm=adder(),rb={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){rb.lineStart=area_areaRingStart,rb.lineEnd=area_areaRingEnd},polygonEnd:function(){rb.lineStart=rb.lineEnd=rb.point=noop_noop,rg.add(nl(rm)),rm.reset()},result:function(){return rg.reset(),rg/2}};function area_areaRingStart(){rb.point=area_areaPointFirst}function area_areaPointFirst(e,t){rb.point=area_areaPoint,rd=rp=e,rh=r_=t}function area_areaPoint(e,t){rm.add(r_*e-rp*t),rp=e,r_=t}function area_areaRingEnd(){area_areaPoint(rd,rh)}var ry,rv,rx,rw,rM=1/0,rA=1/0,rE=-1/0,rC=rE,rS={point:function(e,t){e<rM&&(rM=e),e>rE&&(rE=e),t<rA&&(rA=t),t>rC&&(rC=t)},lineStart:noop_noop,lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop,result:function(){var e=[[rM,rA],[rE,rC]];return rE=rC=-(rA=rM=1/0),e}},rN=0,rk=0,rR=0,rT=0,rP=0,rL=0,rO=0,rI=0,rq=0,rz={point:centroid_centroidPoint,lineStart:centroid_centroidLineStart,lineEnd:centroid_centroidLineEnd,polygonStart:function(){rz.lineStart=centroid_centroidRingStart,rz.lineEnd=centroid_centroidRingEnd},polygonEnd:function(){rz.point=centroid_centroidPoint,rz.lineStart=centroid_centroidLineStart,rz.lineEnd=centroid_centroidLineEnd},result:function(){var e=rq?[rO/rq,rI/rq]:rL?[rT/rL,rP/rL]:rR?[rN/rR,rk/rR]:[NaN,NaN];return rN=rk=rR=rT=rP=rL=rO=rI=rq=0,e}};function centroid_centroidPoint(e,t){rN+=e,rk+=t,++rR}function centroid_centroidLineStart(){rz.point=centroidPointFirstLine}function centroidPointFirstLine(e,t){rz.point=centroidPointLine,centroid_centroidPoint(rx=e,rw=t)}function centroidPointLine(e,t){var n=e-rx,r=t-rw,o=nv(n*n+r*r);rT+=o*(rx+e)/2,rP+=o*(rw+t)/2,rL+=o,centroid_centroidPoint(rx=e,rw=t)}function centroid_centroidLineEnd(){rz.point=centroid_centroidPoint}function centroid_centroidRingStart(){rz.point=centroidPointFirstRing}function centroid_centroidRingEnd(){centroidPointRing(ry,rv)}function centroidPointFirstRing(e,t){rz.point=centroidPointRing,centroid_centroidPoint(ry=rx=e,rv=rw=t)}function centroidPointRing(e,t){var n=e-rx,r=t-rw,o=nv(n*n+r*r);rT+=o*(rx+e)/2,rP+=o*(rw+t)/2,rL+=o,rO+=(o=rw*e-rx*t)*(rx+e),rI+=o*(rw+t),rq+=3*o,centroid_centroidPoint(rx=e,rw=t)}function PathContext(e){this._context=e}PathContext.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,nc)}},result:noop_noop};var rD,rB,rj,rH,rU,rF=adder(),rZ={point:noop_noop,lineStart:function(){rZ.point=measure_lengthPointFirst},lineEnd:function(){rD&&measure_lengthPoint(rB,rj),rZ.point=noop_noop},polygonStart:function(){rD=!0},polygonEnd:function(){rD=null},result:function(){return rF.reset(),+rF}};function measure_lengthPointFirst(e,t){rZ.point=measure_lengthPoint,rB=rH=e,rj=rU=t}function measure_lengthPoint(e,t){rH-=e,rU-=t,rF.add(nv(rH*rH+rU*rU)),rH=e,rU=t}function PathString(){this._string=[]}function string_circle(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function src_path(e,t){var n,r,o=4.5;function path(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),stream(e,n(r))),r.result()}return path.area=function(e){return stream(e,n(rb)),rb.result()},path.measure=function(e){return stream(e,n(rZ)),rZ.result()},path.bounds=function(e){return stream(e,n(rS)),rS.result()},path.centroid=function(e){return stream(e,n(rz)),rz.result()},path.projection=function(t){return arguments.length?(n=null==t?(e=null,d3_geo_src_identity):(e=t).stream,path):e},path.context=function(e){return arguments.length?(r=null==e?(t=null,new PathString):new PathContext(t=e),"function"!=typeof o&&r.pointRadius(o),path):t},path.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),path):o},path.projection(e).context(t)}function transform(e){return{stream:transformer(e)}}function transformer(e){return function(t){var n=new TransformStream;for(var r in e)n[r]=e[r];return n.stream=t,n}}function TransformStream(){}function fit(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),stream(n,e.stream(rS)),t(rS.result()),null!=r&&e.clipExtent(r),e}function fitExtent(e,t,n){return fit(e,function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,c=+t[0][1]+(o-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,c])},n)}function fitSize(e,t,n){return fitExtent(e,[[0,0],t],n)}function fitWidth(e,t,n){return fit(e,function(n){var r=+t,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([i,a])},n)}function fitHeight(e,t,n){return fit(e,function(n){var r=+t,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([i,a])},n)}PathString.prototype={_radius:4.5,_circle:string_circle(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=string_circle(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(!this._string.length)return null;var e=this._string.join("");return this._string=[],e}},TransformStream.prototype={constructor:TransformStream,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var rV=nh(30*ns);function resample(e,t){return+t?function(e,t){function resampleLineTo(n,r,o,i,a,c,u,s,l,f,d,h,p,_){var g=u-n,m=s-r,b=g*g+m*m;if(b>4*t&&p--){var v=i+f,w=a+d,M=c+h,A=nv(v*v+w*w+M*M),E=asin(M/=A),C=1e-6>nl(nl(M)-1)||1e-6>nl(o-l)?(o+l)/2:nd(w,v),S=e(C,E),N=S[0],k=S[1],R=N-n,T=k-r,P=m*R-g*T;(P*P/b>t||nl((g*R+m*T)/b-.5)>.3||i*f+a*d+c*h<rV)&&(resampleLineTo(n,r,o,i,a,c,N,k,C,v/=A,w/=A,M,p,_),_.point(N,k),resampleLineTo(N,k,C,v,w,M,u,s,l,f,d,h,p,_))}}return function(t){var n,r,o,i,a,c,u,s,l,f,d,h,p={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){t.polygonStart(),p.lineStart=ringStart},polygonEnd:function(){t.polygonEnd(),p.lineStart=lineStart}};function point(n,r){n=e(n,r),t.point(n[0],n[1])}function lineStart(){s=NaN,p.point=linePoint,t.lineStart()}function linePoint(n,r){var o=cartesian([n,r]),i=e(n,r);resampleLineTo(s,l,u,f,d,h,s=i[0],l=i[1],u=n,f=o[0],d=o[1],h=o[2],16,t),t.point(s,l)}function lineEnd(){p.point=point,t.lineEnd()}function ringStart(){lineStart(),p.point=ringPoint,p.lineEnd=ringEnd}function ringPoint(e,t){linePoint(n=e,t),r=s,o=l,i=f,a=d,c=h,p.point=linePoint}function ringEnd(){resampleLineTo(s,l,u,f,d,h,r,o,n,i,a,c,16,t),p.lineEnd=lineEnd,lineEnd()}return p}}(e,t):transformer({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}var rY=transformer({point:function(e,t){this.stream.point(e*ns,t*ns)}});function scaleTranslateRotate(e,t,n,r,o,i){var a=nh(i),c=nb(i),u=a*e,s=c*e,l=a/e,f=c/e,d=(c*n-a*t)/e,h=(c*t+a*n)/e;function transform(e,i){return[u*(e*=r)-s*(i*=o)+t,n-s*e-u*i]}return transform.invert=function(e,t){return[r*(l*e-f*t+d),o*(h-f*e-l*t)]},transform}function projection(e){return projectionMutator(function(){return e})()}function projectionMutator(e){var t,n,r,o,i,a,c,u,s,l,f=150,d=480,h=250,p=0,_=0,g=0,m=0,b=0,v=0,w=1,M=1,A=null,E=n$,C=null,S=d3_geo_src_identity,N=.5;function projection(e){return u(e[0]*ns,e[1]*ns)}function invert(e){return(e=u.invert(e[0],e[1]))&&[e[0]*nu,e[1]*nu]}function recenter(){var e=scaleTranslateRotate(f,0,0,w,M,v).apply(null,t(p,_)),r=(v?scaleTranslateRotate:function(e,t,n,r,o){function transform(i,a){return[t+e*(i*=r),n-e*(a*=o)]}return transform.invert=function(i,a){return[(i-t)/e*r,(n-a)/e*o]},transform})(f,d-e[0],h-e[1],w,M,v);return n=rotateRadians(g,m,b),c=compose(t,r),u=compose(n,c),a=resample(c,N),reset()}function reset(){return s=l=null,projection}return projection.stream=function(e){var t;return s&&l===e?s:s=rY((t=n,transformer({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}}))(E(a(S(l=e)))))},projection.preclip=function(e){return arguments.length?(E=e,A=void 0,reset()):E},projection.postclip=function(e){return arguments.length?(S=e,C=r=o=i=null,reset()):S},projection.clipAngle=function(e){return arguments.length?(E=+e?clip_circle(A=e*ns):(A=null,n$),reset()):A*nu},projection.clipExtent=function(e){return arguments.length?(S=null==e?(C=r=o=i=null,d3_geo_src_identity):clipRectangle(C=+e[0][0],r=+e[0][1],o=+e[1][0],i=+e[1][1]),reset()):null==C?null:[[C,r],[o,i]]},projection.scale=function(e){return arguments.length?(f=+e,recenter()):f},projection.translate=function(e){return arguments.length?(d=+e[0],h=+e[1],recenter()):[d,h]},projection.center=function(e){return arguments.length?(p=e[0]%360*ns,_=e[1]%360*ns,recenter()):[p*nu,_*nu]},projection.rotate=function(e){return arguments.length?(g=e[0]%360*ns,m=e[1]%360*ns,b=e.length>2?e[2]%360*ns:0,recenter()):[g*nu,m*nu,b*nu]},projection.angle=function(e){return arguments.length?(v=e%360*ns,recenter()):v*nu},projection.reflectX=function(e){return arguments.length?(w=e?-1:1,recenter()):w<0},projection.reflectY=function(e){return arguments.length?(M=e?-1:1,recenter()):M<0},projection.precision=function(e){return arguments.length?(a=resample(c,N=e*e),reset()):nv(N)},projection.fitExtent=function(e,t){return fitExtent(projection,e,t)},projection.fitSize=function(e,t){return fitSize(projection,e,t)},projection.fitWidth=function(e,t){return fitWidth(projection,e,t)},projection.fitHeight=function(e,t){return fitHeight(projection,e,t)},function(){return t=e.apply(this,arguments),projection.invert=t.invert&&invert,recenter()}}function conicProjection(e){var t=0,n=no/3,r=projectionMutator(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*ns,n=e[1]*ns):[t*nu,n*nu]},o}function conicEqualAreaRaw(e,t){var n=nb(e),r=(n+nb(t))/2;if(1e-6>nl(r))return function(e){var t=nh(e);function forward(e,n){return[e*t,nb(n)/t]}return forward.invert=function(e,n){return[e/t,asin(n*t)]},forward}(e);var o=1+n*(2*r-n),i=nv(o)/r;function project(e,t){var n=nv(o-2*r*nb(t))/r;return[n*nb(e*=r),i-n*nh(e)]}return project.invert=function(e,t){var n=i-t,a=nd(e,nl(n))*ny(n);return n*r<0&&(a-=no*ny(e)*ny(n)),[a/r,asin((o-(e*e+n*n)*r*r)/(2*r))]},project}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function albersUsa(){var e,t,n,r,o,i,a=albers(),c=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,t){i=[e,t]}};function albersUsa(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function reset(){return e=t=null,albersUsa}return albersUsa.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?c:o>=.166&&o<.234&&r>=-.214&&r<-.115?u:a).invert(e)},albersUsa.stream=function(n){var r,o;return e&&t===n?e:(o=(r=[a.stream(t=n),c.stream(n),u.stream(n)]).length,e={point:function(e,t){for(var n=-1;++n<o;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)r[e].polygonEnd()}})},albersUsa.precision=function(e){return arguments.length?(a.precision(e),c.precision(e),u.precision(e),reset()):a.precision()},albersUsa.scale=function(e){return arguments.length?(a.scale(e),c.scale(.35*e),u.scale(e),albersUsa.translate(a.translate())):a.scale()},albersUsa.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),i=+e[0],l=+e[1];return n=a.translate(e).clipExtent([[i-.455*t,l-.238*t],[i+.455*t,l+.238*t]]).stream(s),r=c.translate([i-.307*t,l+.201*t]).clipExtent([[i-.425*t+1e-6,l+.12*t+1e-6],[i-.214*t-1e-6,l+.234*t-1e-6]]).stream(s),o=u.translate([i-.205*t,l+.212*t]).clipExtent([[i-.214*t+1e-6,l+.166*t+1e-6],[i-.115*t-1e-6,l+.234*t-1e-6]]).stream(s),reset()},albersUsa.fitExtent=function(e,t){return fitExtent(albersUsa,e,t)},albersUsa.fitSize=function(e,t){return fitSize(albersUsa,e,t)},albersUsa.fitWidth=function(e,t){return fitWidth(albersUsa,e,t)},albersUsa.fitHeight=function(e,t){return fitHeight(albersUsa,e,t)},albersUsa.scale(1070)}function azimuthalRaw(e){return function(t,n){var r=nh(t),o=nh(n),i=e(r*o);return[i*o*nb(t),i*nb(n)]}}function azimuthalInvert(e){return function(t,n){var r=nv(t*t+n*n),o=e(r),i=nb(o);return[nd(t*i,r*nh(o)),asin(r&&n*i/r)]}}var rG=azimuthalRaw(function(e){return nv(2/(1+e))});function azimuthalEqualArea(){return projection(rG).scale(124.75).clipAngle(179.999)}rG.invert=azimuthalInvert(function(e){return 2*asin(e/2)});var rW=azimuthalRaw(function(e){return(e=acos(e))&&e/nb(e)});function azimuthalEquidistant(){return projection(rW).scale(79.4188).clipAngle(179.999)}function mercatorRaw(e,t){return[e,ng(nx((ni+t)/2))]}function mercator(){return mercatorProjection(mercatorRaw).scale(961/nc)}function mercatorProjection(e){var t,n,r,o=projection(e),i=o.center,a=o.scale,c=o.translate,u=o.clipExtent,s=null;function reclip(){var i=no*a(),c=o(rotation(o.rotate()).invert([0,0]));return u(null==s?[[c[0]-i,c[1]-i],[c[0]+i,c[1]+i]]:e===mercatorRaw?[[Math.max(c[0]-i,s),t],[Math.min(c[0]+i,n),r]]:[[s,Math.max(c[1]-i,t)],[n,Math.min(c[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),reclip()):a()},o.translate=function(e){return arguments.length?(c(e),reclip()):c()},o.center=function(e){return arguments.length?(i(e),reclip()):i()},o.clipExtent=function(e){return arguments.length?(null==e?s=t=n=r=null:(s=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),reclip()):null==s?null:[[s,t],[n,r]]},reclip()}function tany(e){return nx((ni+e)/2)}function conicConformalRaw(e,t){var n=nh(e),r=e===t?nb(e):ng(n/nh(t))/ng(tany(t)/tany(e)),o=n*nm(tany(e),r)/r;if(!r)return mercatorRaw;function project(e,t){o>0?t<-ni+1e-6&&(t=-ni+1e-6):t>ni-1e-6&&(t=ni-1e-6);var n=o/nm(tany(t),r);return[n*nb(r*e),o-n*nh(r*e)]}return project.invert=function(e,t){var n=o-t,i=ny(r)*nv(e*e+n*n),a=nd(e,nl(n))*ny(n);return n*r<0&&(a-=no*ny(e)*ny(n)),[a/r,2*nf(nm(o/i,1/r))-ni]},project}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(e,t){return[e,t]}function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(e,t){var n=nh(e),r=e===t?nb(e):(n-nh(t))/(t-e),o=n/r+e;if(1e-6>nl(r))return equirectangularRaw;function project(e,t){var n=o-t,i=r*e;return[n*nb(i),o-n*nh(i)]}return project.invert=function(e,t){var n=o-t,i=nd(e,nl(n))*ny(n);return n*r<0&&(i-=no*ny(e)*ny(n)),[i/r,o-ny(r)*nv(e*e+n*n)]},project}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}rW.invert=azimuthalInvert(function(e){return e}),mercatorRaw.invert=function(e,t){return[e,2*nf(n_(t))-ni]},equirectangularRaw.invert=equirectangularRaw;var rX=nv(3)/2;function equalEarthRaw(e,t){var n=asin(rX*nb(t)),r=n*n,o=r*r*r;return[e*nh(n)/(rX*(1.340264+-.24331799999999998*r+o*(.0062510000000000005+.034164*r))),n*(1.340264+-.081106*r+o*(893e-6+.003796*r))]}function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(e,t){var n=nh(t),r=nh(e)*n;return[n*nb(e)/r,nb(t)/r]}function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function projection_identity(){var e,t,n,r,o,i,a,c=1,u=0,s=0,l=1,f=1,d=0,h=null,p=1,_=1,g=transformer({point:function(e,t){var n=projection([e,t]);this.stream.point(n[0],n[1])}}),m=d3_geo_src_identity;function reset(){return p=c*l,_=c*f,i=a=null,projection}function projection(n){var r=n[0]*p,o=n[1]*_;if(d){var i=o*e-r*t;r=r*e+o*t,o=i}return[r+u,o+s]}return projection.invert=function(n){var r=n[0]-u,o=n[1]-s;if(d){var i=o*e+r*t;r=r*e-o*t,o=i}return[r/p,o/_]},projection.stream=function(e){return i&&a===e?i:i=g(m(a=e))},projection.postclip=function(e){return arguments.length?(m=e,h=n=r=o=null,reset()):m},projection.clipExtent=function(e){return arguments.length?(m=null==e?(h=n=r=o=null,d3_geo_src_identity):clipRectangle(h=+e[0][0],n=+e[0][1],r=+e[1][0],o=+e[1][1]),reset()):null==h?null:[[h,n],[r,o]]},projection.scale=function(e){return arguments.length?(c=+e,reset()):c},projection.translate=function(e){return arguments.length?(u=+e[0],s=+e[1],reset()):[u,s]},projection.angle=function(n){return arguments.length?(t=nb(d=n%360*ns),e=nh(d),reset()):d*nu},projection.reflectX=function(e){return arguments.length?(l=e?-1:1,reset()):l<0},projection.reflectY=function(e){return arguments.length?(f=e?-1:1,reset()):f<0},projection.fitExtent=function(e,t){return fitExtent(projection,e,t)},projection.fitSize=function(e,t){return fitSize(projection,e,t)},projection.fitWidth=function(e,t){return fitWidth(projection,e,t)},projection.fitHeight=function(e,t){return fitHeight(projection,e,t)},projection}function naturalEarth1Raw(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(e,t){return[nh(t)*nb(e),nb(t)]}function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90.000001)}function stereographicRaw(e,t){var n=nh(t),r=1+nh(e)*n;return[n*nb(e)/r,nb(t)/r]}function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(e,t){return[ng(nx((ni+t)/2)),-e]}function transverseMercator(){var e=mercatorProjection(transverseMercatorRaw),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}function defaultSeparation(e,t){return e.parent===t.parent?1:2}function meanXReduce(e,t){return e+t.x}function maxYReduce(e,t){return Math.max(e,t.y)}function cluster(){var e=defaultSeparation,t=1,n=1,r=!1;function cluster(o){var i,a=0;o.eachAfter(function(t){var n=t.children;n?(t.x=n.reduce(meanXReduce,0)/n.length,t.y=1+n.reduce(maxYReduce,0)):(t.x=i?a+=e(t,i):0,t.y=0,i=t)});var c=function(e){for(var t;t=e.children;)e=t[0];return e}(o),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),s=c.x-e(c,u)/2,l=u.x+e(u,c)/2;return o.eachAfter(r?function(e){e.x=(e.x-o.x)*t,e.y=(o.y-e.y)*n}:function(e){e.x=(e.x-s)/(l-s)*t,e.y=(1-(o.y?e.y/o.y:1))*n})}return cluster.separation=function(t){return arguments.length?(e=t,cluster):e},cluster.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],cluster):r?null:[t,n]},cluster.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],cluster):r?[t,n]:null},cluster}equalEarthRaw.invert=function(e,t){for(var n,r,o=t,i=o*o,a=i*i*i,c=0;c<12&&(r=o*(1.340264+-.081106*i+a*(893e-6+.003796*i))-t,o-=n=r/(1.340264+-.24331799999999998*i+a*(.0062510000000000005+.034164*i)),a=(i=o*o)*i*i,!(1e-12>nl(n)));++c);return[rX*e*(1.340264+-.24331799999999998*i+a*(.0062510000000000005+.034164*i))/nh(o),asin(nb(o)/rX)]},gnomonicRaw.invert=azimuthalInvert(nf),naturalEarth1Raw.invert=function(e,t){var n,r=t,o=25;do{var i=r*r,a=i*i;r-=n=(r*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-t)/(1.007226+i*(.045255+a*(-.311325+.259866*i-.005916*11*a)))}while(nl(n)>1e-6&&--o>0);return[e/(.8707+(i=r*r)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),r]},orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert(function(e){return 2*nf(e)}),transverseMercatorRaw.invert=function(e,t){return[-t,2*nf(n_(e))-ni]};var r$=n(979466),rK=Array.prototype.slice;function enclose(e){for(var t,n,r=0,o=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(rK.call(e))).length,i=[];r<o;)t=e[r],n&&enclosesWeak(n,t)?++r:(n=function(e){switch(e.length){case 1:var t;return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return encloseBasis2(e[0],e[1]);case 3:return encloseBasis3(e[0],e[1],e[2])}}(i=function(e,t){var n,r;if(enclosesWeakAll(t,e))return[t];for(n=0;n<e.length;++n)if(enclosesNot(t,e[n])&&enclosesWeakAll(encloseBasis2(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(enclosesNot(encloseBasis2(e[n],e[r]),t)&&enclosesNot(encloseBasis2(e[n],t),e[r])&&enclosesNot(encloseBasis2(e[r],t),e[n])&&enclosesWeakAll(encloseBasis3(e[n],e[r],t),e))return[e[n],e[r],t];throw Error()}(i,t)),r=0);return n}function enclosesNot(e,t){var n=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return n<0||n*n<r*r+o*o}function enclosesWeak(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function enclosesWeakAll(e,t){for(var n=0;n<t.length;++n)if(!enclosesWeak(e,t[n]))return!1;return!0}function encloseBasis2(e,t){var n=e.x,r=e.y,o=e.r,i=t.x,a=t.y,c=t.r,u=i-n,s=a-r,l=c-o,f=Math.sqrt(u*u+s*s);return{x:(n+i+u/f*l)/2,y:(r+a+s/f*l)/2,r:(f+o+c)/2}}function encloseBasis3(e,t,n){var r=e.x,o=e.y,i=e.r,a=t.x,c=t.y,u=t.r,s=n.x,l=n.y,f=n.r,d=r-a,h=r-s,p=o-c,_=o-l,g=u-i,m=f-i,b=r*r+o*o-i*i,v=b-a*a-c*c+u*u,w=b-s*s-l*l+f*f,M=h*p-d*_,A=(p*w-_*v)/(2*M)-r,E=(_*g-p*m)/M,C=(h*v-d*w)/(2*M)-o,S=(d*m-h*g)/M,N=E*E+S*S-1,k=2*(i+A*E+C*S),R=A*A+C*C-i*i,T=-(N?(k+Math.sqrt(k*k-4*N*R))/(2*N):R/k);return{x:r+A+E*T,y:o+C+S*T,r:T}}function place(e,t,n){var r,o,i,a,c=e.x-t.x,u=e.y-t.y,s=c*c+u*u;s?(o=t.r+n.r,o*=o,a=e.r+n.r,o>(a*=a)?(r=(s+a-o)/(2*s),i=Math.sqrt(Math.max(0,a/s-r*r)),n.x=e.x-r*c-i*u,n.y=e.y-r*u+i*c):(r=(s+o-a)/(2*s),i=Math.sqrt(Math.max(0,o/s-r*r)),n.x=t.x+r*c-i*u,n.y=t.y+r*u+i*c)):(n.x=t.x+n.r,n.y=t.y)}function intersects(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function score(e){var t=e._,n=e.next._,r=t.r+n.r,o=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return o*o+i*i}function Node(e){this._=e,this.next=null,this.previous=null}function packEnclose(e){var t,n,r,o,i,a,c,u,s,l,f;if(!(o=e.length))return 0;if((t=e[0]).x=0,t.y=0,!(o>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(o>2))return t.r+n.r;place(n,t,r=e[2]),t=new Node(t),n=new Node(n),r=new Node(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(c=3;c<o;++c){place(t._,n._,r=e[c]),r=new Node(r),u=n.next,s=t.previous,l=n._.r,f=t._.r;do if(l<=f){if(intersects(u._,r._)){n=u,t.next=n,n.previous=t,--c;continue e}l+=u._.r,u=u.next}else{if(intersects(s._,r._)){(t=s).next=n,n.previous=t,--c;continue e}f+=s._.r,s=s.previous}while(u!==s.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,i=score(t);(r=r.next)!==n;)(a=score(r))<i&&(t=r,i=a);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(c=0,r=enclose(t);c<o;++c)t=e[c],t.x-=r.x,t.y-=r.y;return r.r}function siblings(e){return packEnclose(e),e}function required(e){if("function"!=typeof e)throw Error();return e}function constantZero(){return 0}function d3_hierarchy_src_constant(e){return function(){return e}}function pack_defaultRadius(e){return Math.sqrt(e.value)}function pack(){var e=null,t=1,n=1,r=constantZero;function pack(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(radiusLeaf(e)).eachAfter(packChildren(r,.5)).eachBefore(translateChild(1)):o.eachBefore(radiusLeaf(pack_defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(r,o.r/Math.min(t,n))).eachBefore(translateChild(Math.min(t,n)/(2*o.r))),o}return pack.radius=function(t){return arguments.length?(e=null==t?null:required(t),pack):e},pack.size=function(e){return arguments.length?(t=+e[0],n=+e[1],pack):[t,n]},pack.padding=function(e){return arguments.length?(r="function"==typeof e?e:d3_hierarchy_src_constant(+e),pack):r},pack}function radiusLeaf(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function packChildren(e,t){return function(n){if(r=n.children){var r,o,i,a=r.length,c=e(n)*t||0;if(c)for(o=0;o<a;++o)r[o].r+=c;if(i=packEnclose(r),c)for(o=0;o<a;++o)r[o].r-=c;n.r=i+c}}}function translateChild(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var rQ=n(123968),rJ={depth:-1},r0={};function defaultId(e){return e.id}function defaultParentId(e){return e.parentId}function stratify(){var e=defaultId,t=defaultParentId;function stratify(n){var r,o,i,a,c,u,s,l=n.length,f=Array(l),d={};for(o=0;o<l;++o)r=n[o],c=f[o]=new r$.NB(r),null!=(u=e(r,o,n))&&(u+="")&&(d[s="$"+(c.id=u)]=s in d?r0:c);for(o=0;o<l;++o)if(c=f[o],null!=(u=t(n[o],o,n))&&(u+="")){if(!(a=d["$"+u]))throw Error("missing: "+u);if(a===r0)throw Error("ambiguous: "+u);a.children?a.children.push(c):a.children=[c],c.parent=a}else{if(i)throw Error("multiple roots");i=c}if(!i)throw Error("no root");if(i.parent=rJ,i.eachBefore(function(e){e.depth=e.parent.depth+1,--l}).eachBefore(r$.le),i.parent=null,l>0)throw Error("cycle");return i}return stratify.id=function(t){return arguments.length?(e=required(t),stratify):e},stratify.parentId=function(e){return arguments.length?(t=required(e),stratify):t},stratify}function tree_defaultSeparation(e,t){return e.parent===t.parent?1:2}function nextLeft(e){var t=e.children;return t?t[0]:e.t}function nextRight(e){var t=e.children;return t?t[t.length-1]:e.t}function TreeNode(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function tree(){var e=tree_defaultSeparation,t=1,n=1,r=null;function tree(o){var i=function(e){for(var t,n,r,o,i,a=new TreeNode(e,0),c=[a];t=c.pop();)if(r=t._.children)for(t.children=Array(i=r.length),o=i-1;o>=0;--o)c.push(n=t.children[o]=new TreeNode(r[o],o)),n.parent=t;return(a.parent=new TreeNode(null,0)).children=[a],a}(o);if(i.eachAfter(firstWalk),i.parent.m=-i.z,i.eachBefore(secondWalk),r)o.eachBefore(sizeNode);else{var a=o,c=o,u=o;o.eachBefore(function(e){e.x<a.x&&(a=e),e.x>c.x&&(c=e),e.depth>u.depth&&(u=e)});var s=a===c?1:e(a,c)/2,l=s-a.x,f=t/(c.x+s+l),d=n/(u.depth||1);o.eachBefore(function(e){e.x=(e.x+l)*f,e.y=e.depth*d})}return o}function firstWalk(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,o=e.children,i=o.length;--i>=0;)t=o[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+e(t._,o._));t.parent.A=function(t,n,r){if(n){for(var o,i,a,c=t,u=t,s=n,l=c.parent.children[0],f=c.m,d=u.m,h=s.m,p=l.m;s=nextRight(s),c=nextLeft(c),s&&c;)l=nextLeft(l),(u=nextRight(u)).a=t,(a=s.z+h-c.z-f+e(s._,c._))>0&&(function(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}((o=s,i=r,o.a.parent===t.parent?o.a:i),t,a),f+=a,d+=a),h+=s.m,f+=c.m,p+=l.m,d+=u.m;s&&!nextRight(u)&&(u.t=s,u.m+=h-d),c&&!nextLeft(l)&&(l.t=c,l.m+=f-p,r=t)}return r}(t,o,t.parent.A||r[0])}function secondWalk(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function sizeNode(e){e.x*=t,e.y=e.depth*n}return tree.separation=function(t){return arguments.length?(e=t,tree):e},tree.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],tree):r?null:[t,n]},tree.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],tree):r?[t,n]:null},tree}TreeNode.prototype=Object.create(r$.NB.prototype);var r1=n(341916),r2=n(198039);function treemap_slice(e,t,n,r,o){for(var i,a=e.children,c=-1,u=a.length,s=e.value&&(o-n)/e.value;++c<u;)(i=a[c]).x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*s}var r3=(1+Math.sqrt(5))/2;function squarifyRatio(e,t,n,r,o,i){for(var a,c,u,s,l,f,d,h,p,_,g,m=[],b=t.children,v=0,w=0,M=b.length,A=t.value;v<M;){u=o-n,s=i-r;do l=b[w++].value;while(!l&&w<M);for(f=d=l,p=Math.max(d/(g=l*l*(_=Math.max(s/u,u/s)/(A*e))),g/f);w<M;++w){if(l+=c=b[w].value,c<f&&(f=c),c>d&&(d=c),(h=Math.max(d/(g=l*l*_),g/f))>p){l-=c;break}p=h}m.push(a={value:l,dice:u<s,children:b.slice(v,w)}),a.dice?(0,r2.Z)(a,n,r,o,A?r+=s*l/A:i):treemap_slice(a,n,r,A?n+=u*l/A:o,i),A-=l,v=w}return m}var r6=function custom(e){function squarify(t,n,r,o,i){squarifyRatio(e,t,n,r,o,i)}return squarify.ratio=function(e){return custom((e=+e)>1?e:1)},squarify}(r3);function treemap(){var e=r6,t=!1,n=1,r=1,o=[0],i=constantZero,a=constantZero,c=constantZero,u=constantZero,s=constantZero;function treemap(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(positionNode),o=[0],t&&e.eachBefore(r1.Z),e}function positionNode(t){var n=o[t.depth],r=t.x0+n,l=t.y0+n,f=t.x1-n,d=t.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),t.x0=r,t.y0=l,t.x1=f,t.y1=d,t.children&&(n=o[t.depth+1]=i(t)/2,r+=s(t)-n,l+=a(t)-n,f-=c(t)-n,d-=u(t)-n,f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),e(t,r,l,f,d))}return treemap.round=function(e){return arguments.length?(t=!!e,treemap):t},treemap.size=function(e){return arguments.length?(n=+e[0],r=+e[1],treemap):[n,r]},treemap.tile=function(t){return arguments.length?(e=required(t),treemap):e},treemap.padding=function(e){return arguments.length?treemap.paddingInner(e).paddingOuter(e):treemap.paddingInner()},treemap.paddingInner=function(e){return arguments.length?(i="function"==typeof e?e:d3_hierarchy_src_constant(+e),treemap):i},treemap.paddingOuter=function(e){return arguments.length?treemap.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):treemap.paddingTop()},treemap.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:d3_hierarchy_src_constant(+e),treemap):a},treemap.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:d3_hierarchy_src_constant(+e),treemap):c},treemap.paddingBottom=function(e){return arguments.length?(u="function"==typeof e?e:d3_hierarchy_src_constant(+e),treemap):u},treemap.paddingLeft=function(e){return arguments.length?(s="function"==typeof e?e:d3_hierarchy_src_constant(+e),treemap):s},treemap}function binary(e,t,n,r,o){var i,a,c=e.children,u=c.length,s=Array(u+1);for(s[0]=a=i=0;i<u;++i)s[i+1]=a+=c[i].value;!function partition(e,t,n,r,o,i,a){if(e>=t-1){var u=c[e];u.x0=r,u.y0=o,u.x1=i,u.y1=a;return}for(var l=s[e],f=n/2+l,d=e+1,h=t-1;d<h;){var p=d+h>>>1;s[p]<f?d=p+1:h=p}f-s[d-1]<s[d]-f&&e+1<d&&--d;var _=s[d]-l,g=n-_;if(i-r>a-o){var m=(r*g+i*_)/n;partition(e,d,_,r,o,m,a),partition(d,t,g,m,o,i,a)}else{var b=(o*g+a*_)/n;partition(e,d,_,r,o,i,b),partition(d,t,g,r,b,i,a)}}(0,u,e.value,t,n,r,o)}function sliceDice(e,t,n,r,o){(1&e.depth?treemap_slice:r2.Z)(e,t,n,r,o)}var r5=function custom(e){function resquarify(t,n,r,o,i){if((a=t._squarify)&&a.ratio===e)for(var a,c,u,s,l,f=-1,d=a.length,h=t.value;++f<d;){for(u=(c=a[f]).children,s=c.value=0,l=u.length;s<l;++s)c.value+=u[s].value;c.dice?(0,r2.Z)(c,n,r,o,r+=(i-r)*c.value/h):treemap_slice(c,n,r,n+=(o-n)*c.value/h,i),h-=c.value}else t._squarify=a=squarifyRatio(e,t,n,r,o,i),a.ratio=e}return resquarify.ratio=function(e){return custom((e=+e)>1?e:1)},resquarify}(r3);function src_basis_basis(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function node_modules_d3_interpolate_src_basis(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,c=r<t-1?e[r+2]:2*i-o;return src_basis_basis((n-r/t)*t,a,o,i,c)}}function d3_interpolate_src_basisClosed(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],c=e[(r+2)%t];return src_basis_basis((n-r/t)*t,o,i,a,c)}}function d3_node_modules_d3_interpolate_src_constant(e){return function(){return e}}function src_color_linear(e,t){return function(n){return e+n*t}}function src_color_hue(e,t){var n=t-e;return n?src_color_linear(e,n>180||n<-180?n-360*Math.round(n/360):n):d3_node_modules_d3_interpolate_src_constant(isNaN(e)?t:e)}function src_color_nogamma(e,t){var n=t-e;return n?src_color_linear(e,n):d3_node_modules_d3_interpolate_src_constant(isNaN(e)?t:e)}var r8=function rgbGamma(e){var t,n=1==(t=+(t=e))?src_color_nogamma:function(e,n){var r,o,i;return n-e?(r=e,o=n,r=Math.pow(r,i=t),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):d3_node_modules_d3_interpolate_src_constant(isNaN(e)?n:e)};function rgb(e,t){var r=n((e=d3_color_src_color_rgb(e)).r,(t=d3_color_src_color_rgb(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=src_color_nogamma(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return rgb.gamma=rgbGamma,rgb}(1);function src_rgb_rgbSpline(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),c=Array(o);for(n=0;n<o;++n)r=d3_color_src_color_rgb(t[n]),i[n]=r.r||0,a[n]=r.g||0,c[n]=r.b||0;return i=e(i),a=e(a),c=e(c),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=c(e),r+""}}}var r7=src_rgb_rgbSpline(node_modules_d3_interpolate_src_basis),r4=src_rgb_rgbSpline(d3_interpolate_src_basisClosed);function d3_interpolate_src_numberArray(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function src_numberArray_isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function d3_interpolate_src_array(e,t){return(src_numberArray_isNumberArray(t)?d3_interpolate_src_numberArray:array_genericArray)(e,t)}function array_genericArray(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=Array(o),a=Array(r);for(n=0;n<o;++n)i[n]=src_value(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function src_date(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function node_modules_d3_interpolate_src_number(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function src_object(e,t){var n,r={},o={};for(n in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)n in e?r[n]=src_value(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var r9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oe=RegExp(r9.source,"g");function d3_interpolate_src_string(e,t){var n,r,o,i,a,c=r9.lastIndex=oe.lastIndex=0,u=-1,s=[],l=[];for(e+="",t+="";(o=r9.exec(e))&&(i=oe.exec(t));)(a=i.index)>c&&(a=t.slice(c,a),s[u]?s[u]+=a:s[++u]=a),(o=o[0])===(i=i[0])?s[u]?s[u]+=i:s[++u]=i:(s[++u]=null,l.push({i:u,x:node_modules_d3_interpolate_src_number(o,i)})),c=oe.lastIndex;return c<t.length&&(a=t.slice(c),s[u]?s[u]+=a:s[++u]=a),s.length<2?l[0]?(n=l[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function src_value(e,t){var n,r=typeof t;return null==t||"boolean"===r?d3_node_modules_d3_interpolate_src_constant(t):("number"===r?node_modules_d3_interpolate_src_number:"string"===r?(n=src_color_color(t))?(t=n,r8):d3_interpolate_src_string:t instanceof src_color_color?r8:t instanceof Date?src_date:src_numberArray_isNumberArray(t)?d3_interpolate_src_numberArray:Array.isArray(t)?array_genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?src_object:node_modules_d3_interpolate_src_number)(e,t)}function discrete(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function src_hue(e,t){var n=src_color_hue(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}function round(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ot=180/Math.PI,on={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function transform_decompose(e,t,n,r,o,i){var a,c,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,u/=c),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*ot,skewX:Math.atan(u)*ot,scaleX:a,scaleY:c}}function transform_interpolateTransform(e,t,n,r){function pop(e){return e.length?e.pop()+" ":""}return function(o,i){var a,c,u,s,l=[],f=[];return o=e(o),i=e(i),!function(e,r,o,i,a,c){if(e!==o||r!==i){var u=a.push("translate(",null,t,null,n);c.push({i:u-4,x:node_modules_d3_interpolate_src_number(e,o)},{i:u-2,x:node_modules_d3_interpolate_src_number(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(o.translateX,o.translateY,i.translateX,i.translateY,l,f),(a=o.rotate)!==(c=i.rotate)?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:l.push(pop(l)+"rotate(",null,r)-2,x:node_modules_d3_interpolate_src_number(a,c)})):c&&l.push(pop(l)+"rotate("+c+r),(u=o.skewX)!==(s=i.skewX)?f.push({i:l.push(pop(l)+"skewX(",null,r)-2,x:node_modules_d3_interpolate_src_number(u,s)}):s&&l.push(pop(l)+"skewX("+s+r),!function(e,t,n,r,o,i){if(e!==n||t!==r){var a=o.push(pop(o)+"scale(",null,",",null,")");i.push({i:a-4,x:node_modules_d3_interpolate_src_number(e,n)},{i:a-2,x:node_modules_d3_interpolate_src_number(t,r)})}else(1!==n||1!==r)&&o.push(pop(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,l,f),o=i=null,function(e){for(var t,n=-1,r=f.length;++n<r;)l[(t=f[n]).i]=t.x(e);return l.join("")}}}var or=transform_interpolateTransform(function(e){return"none"===e?on:(r||(r=document.createElement("DIV"),o=document.documentElement,i=document.defaultView),r.style.transform=e,e=i.getComputedStyle(o.appendChild(r),null).getPropertyValue("transform"),o.removeChild(r),transform_decompose(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),oo=transform_interpolateTransform(function(e){return null==e?on:(a||(a=document.createElementNS("http://www.w3.org/2000/svg","g")),a.setAttribute("transform",e),e=a.transform.baseVal.consolidate())?transform_decompose((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):on},", ",")",")"),oi=Math.SQRT2;function cosh(e){return((e=Math.exp(e))+1/e)/2}function src_zoom(e,t){var n,r,o=e[0],i=e[1],a=e[2],c=t[0],u=t[1],s=t[2],l=c-o,f=u-i,d=l*l+f*f;if(d<1e-12)r=Math.log(s/a)/oi,n=function(e){return[o+e*l,i+e*f,a*Math.exp(oi*e*r)]};else{var h=Math.sqrt(d),p=(s*s-a*a+4*d)/(2*a*2*h),_=(s*s-a*a-4*d)/(2*s*2*h),g=Math.log(Math.sqrt(p*p+1)-p);r=(Math.log(Math.sqrt(_*_+1)-_)-g)/oi,n=function(e){var t,n,c=e*r,u=cosh(g),s=a/(2*h)*(u*(((t=Math.exp(2*(t=oi*c+g)))-1)/(t+1))-((n=Math.exp(n=g))-1/n)/2);return[o+s*l,i+s*f,a*u/cosh(oi*c+g)]}}return n.duration=1e3*r,n}function hsl_hsl(e){return function(t,n){var r=e((t=src_color_hsl(t)).h,(n=src_color_hsl(n)).h),o=src_color_nogamma(t.s,n.s),i=src_color_nogamma(t.l,n.l),a=src_color_nogamma(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=i(e),t.opacity=a(e),t+""}}}var oa=hsl_hsl(src_color_hue),oc=hsl_hsl(src_color_nogamma);function lab_lab(e,t){var n=src_color_nogamma((e=lab(e)).l,(t=lab(t)).l),r=src_color_nogamma(e.a,t.a),o=src_color_nogamma(e.b,t.b),i=src_color_nogamma(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=o(t),e.opacity=i(t),e+""}}function hcl_hcl(e){return function(t,n){var r=e((t=hcl(t)).h,(n=hcl(n)).h),o=src_color_nogamma(t.c,n.c),i=src_color_nogamma(t.l,n.l),a=src_color_nogamma(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}var ou=hcl_hcl(src_color_hue),os=hcl_hcl(src_color_nogamma);function cubehelix(e){return function cubehelixGamma(t){function cubehelix(n,r){var o=e((n=cubehelix_cubehelix(n)).h,(r=cubehelix_cubehelix(r)).h),i=src_color_nogamma(n.s,r.s),a=src_color_nogamma(n.l,r.l),c=src_color_nogamma(n.opacity,r.opacity);return function(e){return n.h=o(e),n.s=i(e),n.l=a(Math.pow(e,t)),n.opacity=c(e),n+""}}return t=+t,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}var ol=cubehelix(src_color_hue),of=cubehelix(src_color_nogamma);function piecewise(e,t){for(var n=0,r=t.length-1,o=t[0],i=Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}function quantize(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function d3_polygon_src_area(e){for(var t,n=-1,r=e.length,o=e[r-1],i=0;++n<r;)t=o,o=e[n],i+=t[1]*o[0]-t[0]*o[1];return i/2}function src_centroid(e){for(var t,n,r=-1,o=e.length,i=0,a=0,c=e[o-1],u=0;++r<o;)t=c,c=e[r],u+=n=t[0]*c[1]-c[0]*t[1],i+=(t[0]+c[0])*n,a+=(t[1]+c[1])*n;return[i/(u*=3),a/u]}function lexicographicOrder(e,t){return e[0]-t[0]||e[1]-t[1]}function computeUpperHullIndexes(e){for(var t,n,r,o=e.length,i=[0,1],a=2,c=2;c<o;++c){for(;a>1&&0>=(t=e[i[a-2]],n=e[i[a-1]],r=e[c],(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]));)--a;i[a++]=c}return i.slice(0,a)}function hull(e){if((n=e.length)<3)return null;var t,n,r=Array(n),o=Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(lexicographicOrder),t=0;t<n;++t)o[t]=[r[t][0],-r[t][1]];var i=computeUpperHullIndexes(r),a=computeUpperHullIndexes(o),c=a[0]===i[0],u=a[a.length-1]===i[i.length-1],s=[];for(t=i.length-1;t>=0;--t)s.push(e[r[i[t]][2]]);for(t=+c;t<a.length-u;++t)s.push(e[r[a[t]][2]]);return s}function d3_polygon_src_contains(e,t){for(var n,r,o=e.length,i=e[o-1],a=t[0],c=t[1],u=i[0],s=i[1],l=!1,f=0;f<o;++f)n=(i=e[f])[0],(r=i[1])>c!=s>c&&a<(u-n)*(c-r)/(s-r)+n&&(l=!l),u=n,s=r;return l}function d3_polygon_src_length(e){for(var t,n,r=-1,o=e.length,i=e[o-1],a=i[0],c=i[1],u=0;++r<o;)t=a,n=c,a=(i=e[r])[0],c=i[1],t-=a,n-=c,u+=Math.sqrt(t*t+n*n);return u}function src_defaultSource(){return Math.random()}var od=function sourceRandomUniform(e){function randomUniform(t,n){return t=null==t?0:+t,n=null==n?1:+n,1==arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return randomUniform.source=sourceRandomUniform,randomUniform}(src_defaultSource),oh=function sourceRandomNormal(e){function randomNormal(t,n){var r,o;return t=null==t?0:+t,n=null==n?1:+n,function(){var i;if(null!=r)i=r,r=null;else do r=2*e()-1,i=2*e()-1,o=r*r+i*i;while(!o||o>1);return t+n*i*Math.sqrt(-2*Math.log(o)/o)}}return randomNormal.source=sourceRandomNormal,randomNormal}(src_defaultSource),op=function sourceRandomLogNormal(e){function randomLogNormal(){var t=oh.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return randomLogNormal.source=sourceRandomLogNormal,randomLogNormal}(src_defaultSource),o_=function sourceRandomIrwinHall(e){function randomIrwinHall(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return randomIrwinHall.source=sourceRandomIrwinHall,randomIrwinHall}(src_defaultSource),og=function sourceRandomBates(e){function randomBates(t){var n=o_.source(e)(t);return function(){return n()/t}}return randomBates.source=sourceRandomBates,randomBates}(src_defaultSource),om=function sourceRandomExponential(e){function randomExponential(t){return function(){return-Math.log(1-e())/t}}return randomExponential.source=sourceRandomExponential,randomExponential}(src_defaultSource);function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var ob=Array.prototype,oy=ob.map,ov=ob.slice,ox={name:"implicit"};function ordinal(){var e=e9(),t=[],n=[],r=ox;function scale(o){var i=o+"",a=e.get(i);if(!a){if(r!==ox)return r;e.set(i,a=t.push(o))}return n[(a-1)%n.length]}return scale.domain=function(n){if(!arguments.length)return t.slice();t=[],e=e9();for(var r,o,i=-1,a=n.length;++i<a;)e.has(o=(r=n[i])+"")||e.set(o,t.push(r));return scale},scale.range=function(e){return arguments.length?(n=ov.call(e),scale):n.slice()},scale.unknown=function(e){return arguments.length?(r=e,scale):r},scale.copy=function(){return ordinal(t,n).unknown(r)},initRange.apply(scale,arguments),scale}function band(){var e,t,n=ordinal().unknown(void 0),r=n.domain,o=n.range,i=[0,1],a=!1,c=0,u=0,s=.5;function rescale(){var n=r().length,l=i[1]<i[0],f=i[l-0],d=i[1-l];e=(d-f)/Math.max(1,n-c+2*u),a&&(e=Math.floor(e)),f+=(d-f-e*(n-c))*s,t=e*(1-c),a&&(f=Math.round(f),t=Math.round(t));var h=src_range(n).map(function(t){return f+e*t});return o(l?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),rescale()):r()},n.range=function(e){return arguments.length?(i=[+e[0],+e[1]],rescale()):i.slice()},n.rangeRound=function(e){return i=[+e[0],+e[1]],a=!0,rescale()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(a=!!e,rescale()):a},n.padding=function(e){return arguments.length?(c=Math.min(1,u=+e),rescale()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),rescale()):c},n.paddingOuter=function(e){return arguments.length?(u=+e,rescale()):u},n.align=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),rescale()):s},n.copy=function(){return band(r(),i).round(a).paddingInner(c).paddingOuter(u).align(s)},initRange.apply(rescale(),arguments)}function band_point(){return function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}(band.apply(null,arguments).paddingInner(1))}function d3_scale_src_number(e){return+e}var ow=[0,1];function continuous_identity(e){return e}function normalize(e,t){var n;return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n})}function clamper(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function bimap(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=normalize(o,r),i=n(a,i)):(r=normalize(r,o),i=n(i,a)),function(e){return i(r(e))}}function polymap(e,t,n){var r=Math.min(e.length,t.length)-1,o=Array(r),i=Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=normalize(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=M(e,t,1,r)-1;return i[n](o[n](t))}}function copy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function continuous_transformer(){var e,t,n,r,o,i,a=ow,c=ow,u=src_value,s=continuous_identity;function rescale(){return r=Math.min(a.length,c.length)>2?polymap:bimap,o=i=null,scale}function scale(t){return isNaN(t=+t)?n:(o||(o=r(a.map(e),c,u)))(e(s(t)))}return scale.invert=function(n){return s(t((i||(i=r(c,a.map(e),node_modules_d3_interpolate_src_number)))(n)))},scale.domain=function(e){return arguments.length?(a=oy.call(e,d3_scale_src_number),s===continuous_identity||(s=clamper(a)),rescale()):a.slice()},scale.range=function(e){return arguments.length?(c=ov.call(e),rescale()):c.slice()},scale.rangeRound=function(e){return c=ov.call(e),u=round,rescale()},scale.clamp=function(e){return arguments.length?(s=e?clamper(a):continuous_identity,scale):s!==continuous_identity},scale.interpolate=function(e){return arguments.length?(u=e,rescale()):u},scale.unknown=function(e){return arguments.length?(n=e,scale):n},function(n,r){return e=n,t=r,rescale()}}function tickFormat(e,t,n,r){var o,i=tickStep(e,t,n);switch((r=(0,nt.Z)(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=precisionPrefix(i,a))||(r.precision=o),(0,t9.jH)(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=precisionRound(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=precisionFixed(i))||(r.precision=o-("%"===r.type)*2)}return(0,t9.WU)(r)}function linearish(e){var t=e.domain;return e.ticks=function(e){var n=t();return ticks(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return tickFormat(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o=t(),i=0,a=o.length-1,c=o[i],u=o[a];return u<c&&(r=c,c=u,u=r,r=i,i=a,a=r),(r=tickIncrement(c,u,n))>0?r=tickIncrement(c=Math.floor(c/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=tickIncrement(c=Math.ceil(c*r)/r,u=Math.floor(u*r)/r,n)),r>0?(o[i]=Math.floor(c/r)*r,o[a]=Math.ceil(u/r)*r,t(o)):r<0&&(o[i]=Math.ceil(c*r)/r,o[a]=Math.floor(u*r)/r,t(o)),e},e}function nice(e,t){e=e.slice();var n,r=0,o=e.length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function reflect(e){return function(t){return-e(-t)}}function loggish(e){var t,n,r=e(transformLog,transformExp),o=r.domain,i=10;function rescale(){var a,c;return t=(a=i)===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(e){return Math.log(e)/a}),n=10===(c=i)?pow10:c===Math.E?Math.exp:function(e){return Math.pow(c,e)},o()[0]<0?(t=reflect(t),n=reflect(n),e(transformLogn,transformExpn)):e(transformLog,transformExp),r}return r.base=function(e){return arguments.length?(i=+e,rescale()):i},r.domain=function(e){return arguments.length?(o(e),rescale()):o()},r.ticks=function(e){var r,a=o(),c=a[0],u=a[a.length-1];(r=u<c)&&(d=c,c=u,u=d);var s,l,f,d=t(c),h=t(u),p=null==e?10:+e,_=[];if(!(i%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,c>0){for(;d<h;++d)for(l=1,s=n(d);l<i;++l)if(!((f=s*l)<c)){if(f>u)break;_.push(f)}}else for(;d<h;++d)for(l=i-1,s=n(d);l>=1;--l)if(!((f=s*l)<c)){if(f>u)break;_.push(f)}}else _=ticks(d,h,Math.min(h-d,p)).map(n);return r?_.reverse():_},r.tickFormat=function(e,o){if(null==o&&(o=10===i?".0e":","),"function"!=typeof o&&(o=(0,t9.WU)(o)),e===1/0)return o;null==e&&(e=10);var a=Math.max(1,i*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*i<i-.5&&(r*=i),r<=a?o(e):""}},r.nice=function(){return o(nice(o(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,n=e(transformSymlog(1),transformSymexp(t));return n.constant=function(n){return arguments.length?e(transformSymlog(t=+n),transformSymexp(t)):t},linearish(n)}function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var t=e(continuous_identity,continuous_identity),n=1;return t.exponent=function(t){return arguments.length?1==(n=+t)?e(continuous_identity,continuous_identity):.5===n?e(transformSqrt,transformSquare):e(transformPow(n),transformPow(1/n)):n},linearish(t)}function pow_pow(){var e=powish(continuous_transformer());return e.copy=function(){return copy(e,pow_pow()).exponent(e.exponent())},initRange.apply(e,arguments),e}function pow_sqrt(){return pow_pow.apply(null,arguments).exponent(.5)}var oM=n(747878),oA=n(243155),oE=n(24645),oC=n(266712),oS=n(245022),oN=(0,oC.Z)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oS.yB)/oS.UD},function(e){return e.getDate()-1}),ok=oN,oR=oN.range,oT=n(775458),oP=n(105957),oL=n(558887),oO=n(817540),oI=n(358169),oq=(0,oC.Z)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/oS.UD},function(e){return e.getUTCDate()-1}),oz=oq,oD=oq.range,oB=n(410555);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,c=e.months,u=e.shortMonths,s=formatRe(o),l=formatLookup(o),f=formatRe(i),d=formatLookup(i),h=formatRe(a),p=formatLookup(a),_=formatRe(c),g=formatLookup(c),m=formatRe(u),b=formatLookup(u),v={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return c[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},M={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=_.exec(t.slice(n));return r?(e.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return parseSpecifier(e,t,n,r)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(e,t,n){var r=s.exec(t.slice(n));return r?(e.p=l[r[0].toLowerCase()],n+r[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(e,t,r){return parseSpecifier(e,n,t,r)},X:function(e,t,n){return parseSpecifier(e,r,t,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(e,t){return function(n){var r,o,i,a=[],c=-1,u=0,s=e.length;for(n instanceof Date||(n=new Date(+n));++c<s;)37===e.charCodeAt(c)&&(a.push(e.slice(u,c)),null!=(o=oj[r=e.charAt(++c)])?r=e.charAt(++c):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),u=c+1);return a.push(e.slice(u,c)),a.join("")}}function newParse(e,t){return function(n){var r,o,i=newDate(1900,void 0,1);if(parseSpecifier(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(!t||"Z"in i||(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(r=(o=(r=utcDate(newDate(i.y,0,1))).getUTCDay())>4||0===o?oI.l6.ceil(r):(0,oI.l6)(r),r=oz.offset(r,(i.V-1)*7),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(r=(o=(r=localDate(newDate(i.y,0,1))).getDay())>4||0===o?oE.wA.ceil(r):(0,oE.wA)(r),r=ok.offset(r,(i.V-1)*7),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?utcDate(newDate(i.y,0,1)).getUTCDay():localDate(newDate(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,utcDate(i)):localDate(i)}}function parseSpecifier(e,t,n,r){for(var o,i,a=0,c=t.length,u=n.length;a<c;){if(r>=u)return -1;if(37===(o=t.charCodeAt(a++))){if(!(i=M[(o=t.charAt(a++))in oj?t.charAt(a++):o])||(r=i(e,n,r))<0)return -1}else if(o!=n.charCodeAt(r++))return -1}return r}return v.x=newFormat(n,v),v.X=newFormat(r,v),v.c=newFormat(t,v),w.x=newFormat(n,w),w.X=newFormat(r,w),w.c=newFormat(t,w),{format:function(e){var t=newFormat(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=newParse(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=newFormat(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=newParse(e+="",!0);return t.toString=function(){return e},t}}}var oj={"-":"",_:" ",0:"0"},oH=/^\s*\d+/,oU=/^%/,oF=/[\\^$*+?|[\]().{}]/g;function pad(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?Array(n-i+1).join(t)+o:o)}function requote(e){return e.replace(oF,"\\$&")}function formatRe(e){return RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function parseWeekdayNumberSunday(e,t,n){var r=oH.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var r=oH.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function parseWeekNumberSunday(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function parseWeekNumberISO(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function parseWeekNumberMonday(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function parseFullYear(e,t,n){var r=oH.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function parseYear(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function parseZone(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function parseQuarter(e,t,n){var r=oH.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function parseMonthNumber(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function parseDayOfMonth(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function parseDayOfYear(e,t,n){var r=oH.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function parseHour24(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function parseMinutes(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function parseSeconds(e,t,n){var r=oH.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function parseMilliseconds(e,t,n){var r=oH.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function parseMicroseconds(e,t,n){var r=oH.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function parseLiteralPercent(e,t,n){var r=oU.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function parseUnixTimestamp(e,t,n){var r=oH.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var r=oH.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+ok.count((0,oM.Z)(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return 0===t?7:t}function formatWeekNumberSunday(e,t){return pad(oE.OM.count((0,oM.Z)(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||0===t?(0,oE.bL)(e):oE.bL.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad(oE.bL.count((0,oM.Z)(e),e)+(4===(0,oM.Z)(e).getDay()),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(oE.wA.count((0,oM.Z)(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return pad((e=dISO(e)).getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var n=e.getDay();return pad((e=n>=4||0===n?(0,oE.bL)(e):oE.bL.ceil(e)).getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+oz.count((0,oB.Z)(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday(e,t){return pad(oI.Ox.count((0,oB.Z)(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||0===t?(0,oI.hB)(e):oI.hB.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad(oI.hB.count((0,oB.Z)(e),e)+(4===(0,oB.Z)(e).getUTCDay()),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(oI.l6.count((0,oB.Z)(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return pad((e=UTCdISO(e)).getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var n=e.getUTCDay();return pad((e=n>=4||0===n?(0,oI.hB)(e):oI.hB.ceil(e)).getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}function defaultLocale_defaultLocale(e){return u=(c=formatLocale(e)).format,s=c.parse,l=c.utcFormat,f=c.utcParse,c}function time_date(e){return new Date(e)}function time_number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,n,r,o,i,a,c,u){var s=continuous_transformer()(continuous_identity,continuous_identity),l=s.invert,f=s.domain,d=u(".%L"),h=u(":%S"),p=u("%I:%M"),_=u("%I %p"),g=u("%a %d"),m=u("%b %d"),b=u("%B"),v=u("%Y"),w=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[i,1,6e4],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function tickFormat(c){return(a(c)<c?d:i(c)<c?h:o(c)<c?p:r(c)<c?_:t(c)<c?n(c)<c?g:m:e(c)<c?b:v)(c)}function tickInterval(t,n,r,o){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(r-n)/t,a=bisector(function(e){return e[2]}).right(w,i);a===w.length?(o=tickStep(n/31536e6,r/31536e6,t),t=e):a?(o=(a=w[i/w[a-1][2]<w[a][2]/i?a-1:a])[1],t=a[0]):(o=Math.max(tickStep(n,r,t),1),t=c)}return null==o?t:t.every(o)}return s.invert=function(e){return new Date(l(e))},s.domain=function(e){return arguments.length?f(oy.call(e,time_number)):f().map(time_date)},s.ticks=function(e,t){var n,r=f(),o=r[0],i=r[r.length-1],a=i<o;return a&&(n=o,o=i,i=n),n=(n=tickInterval(e,o,i,t))?n.range(o,i+1):[],a?n.reverse():n},s.tickFormat=function(e,t){return null==t?tickFormat:u(t)},s.nice=function(e,t){var n=f();return(e=tickInterval(e,n[0],n[n.length-1],t))?f(nice(n,e)):s},s.copy=function(){return copy(s,calendar(e,t,n,r,o,i,a,c,u))},s}function time(){return initRange.apply(calendar(oM.Z,oA.Z,oE.OM,ok,oT.Z,oP.Z,oL.Z,oO.Z,u).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}defaultLocale_defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var oZ=n(617231),oV=n(245319),oY=n(868105);function utcTime(){return initRange.apply(calendar(oB.Z,oZ.Z,oI.Ox,oz,oV.Z,oY.Z,oL.Z,oO.Z,l).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sequential_transformer(){var e,t,n,r,o,i=0,a=1,c=continuous_identity,u=!1;function scale(t){return isNaN(t=+t)?o:c(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}return scale.domain=function(o){return arguments.length?(e=r(i=+o[0]),t=r(a=+o[1]),n=e===t?0:1/(t-e),scale):[i,a]},scale.clamp=function(e){return arguments.length?(u=!!e,scale):u},scale.interpolator=function(e){return arguments.length?(c=e,scale):c},scale.unknown=function(e){return arguments.length?(o=e,scale):o},function(o){return r=o,e=o(i),t=o(a),n=e===t?0:1/(t-e),scale}}function sequential_copy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequentialPow(){var e=powish(sequential_transformer());return e.copy=function(){return sequential_copy(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function diverging_transformer(){var e,t,n,r,o,i,a,c=0,u=.5,s=1,l=continuous_identity,f=!1;function scale(e){return isNaN(e=+e)?a:(e=.5+((e=+i(e))-t)*(e<t?r:o),l(f?Math.max(0,Math.min(1,e)):e))}return scale.domain=function(a){return arguments.length?(e=i(c=+a[0]),t=i(u=+a[1]),n=i(s=+a[2]),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),scale):[c,u,s]},scale.clamp=function(e){return arguments.length?(f=!!e,scale):f},scale.interpolator=function(e){return arguments.length?(l=e,scale):l},scale.unknown=function(e){return arguments.length?(a=e,scale):a},function(a){return i=a,e=a(c),t=a(u),n=a(s),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),scale}}function divergingPow(){var e=powish(diverging_transformer());return e.copy=function(){return sequential_copy(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors(e){for(var t=e.length/6|0,n=Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}var oG=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),oW=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),oX=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),o$=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),oK=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),oQ=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),oJ=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),o0=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),o1=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),o2=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ramp(e){return r7(e[e.length-1])}var o3=[,,,].concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors),o6=ramp(o3),o5=[,,,].concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors),o8=ramp(o5),o7=[,,,].concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors),o4=ramp(o7),o9=[,,,].concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors),ie=ramp(o9),it=[,,,].concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors),ir=ramp(it),io=[,,,].concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors),ii=ramp(io),ia=[,,,].concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors),ic=ramp(ia),iu=[,,,].concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors),is=ramp(iu),il=[,,,].concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors),id=ramp(il),ih=[,,,].concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors),ip=ramp(ih),i_=[,,,].concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors),ig=ramp(i_),im=[,,,].concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors),ib=ramp(im),iy=[,,,].concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors),iv=ramp(iy),ix=[,,,].concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors),iw=ramp(ix),iM=[,,,].concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors),iA=ramp(iM),iE=[,,,].concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors),iC=ramp(iE),iS=[,,,].concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors),iN=ramp(iS),ik=[,,,].concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors),iR=ramp(ik),iT=[,,,].concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors),iP=ramp(iT),iL=[,,,].concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors),iO=ramp(iL),iI=[,,,].concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors),iq=ramp(iI),iz=[,,,].concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors),iD=ramp(iz),iB=[,,,].concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors),ij=ramp(iB),iH=[,,,].concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors),iU=ramp(iH),iF=[,,,].concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors),iZ=ramp(iF),iV=[,,,].concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors),iY=ramp(iV),iG=[,,,].concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors),iW=ramp(iG);function cividis(e){return"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-(e=Math.max(0,Math.min(1,e)))*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var iX=of(cubehelix_cubehelix(300,.5,0),cubehelix_cubehelix(-240,.5,1)),i$=of(cubehelix_cubehelix(-100,.75,.35),cubehelix_cubehelix(80,1.5,.8)),iK=of(cubehelix_cubehelix(260,.75,.35),cubehelix_cubehelix(80,1.5,.8)),iQ=cubehelix_cubehelix();function rainbow(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return iQ.h=360*e-100,iQ.s=1.5-1.5*t,iQ.l=.8-.9*t,iQ+""}var iJ=d3_color_src_color_rgb(),i0=Math.PI/3,i1=2*Math.PI/3;function sinebow(e){var t;return e=(.5-e)*Math.PI,iJ.r=255*(t=Math.sin(e))*t,iJ.g=255*(t=Math.sin(e+i0))*t,iJ.b=255*(t=Math.sin(e+i1))*t,iJ+""}function turbo(e){return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+(e=Math.max(0,Math.min(1,e)))*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function viridis_ramp(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var i2=viridis_ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),i3=viridis_ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),i6=viridis_ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),i5=viridis_ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),i8="http://www.w3.org/1999/xhtml",i7={svg:"http://www.w3.org/2000/svg",xhtml:i8,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function node_modules_d3_selection_src_namespace(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),i7.hasOwnProperty(t)?{space:i7[t],local:e}:e}function node_modules_d3_selection_src_creator(e){var t=node_modules_d3_selection_src_namespace(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===i8&&t.documentElement.namespaceURI===i8?t.createElement(e):t.createElementNS(n,e)}})(t)}function d3_selection_src_selector_none(){}function node_modules_d3_selection_src_selector(e){return null==e?d3_selection_src_selector_none:function(){return this.querySelector(e)}}function d3_selection_src_selectorAll_empty(){return[]}function node_modules_d3_selection_src_selectorAll(e){return null==e?d3_selection_src_selectorAll_empty:function(){return this.querySelectorAll(e)}}function node_modules_d3_selection_src_matcher(e){return function(){return this.matches(e)}}function d3_selection_src_selection_sparse(e){return Array(e.length)}function src_selection_enter_EnterNode(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function src_selection_data_bindIndex(e,t,n,r,o,i){for(var a,c=0,u=t.length,s=i.length;c<s;++c)(a=t[c])?(a.__data__=i[c],r[c]=a):n[c]=new src_selection_enter_EnterNode(e,i[c]);for(;c<u;++c)(a=t[c])&&(o[c]=a)}function src_selection_data_bindKey(e,t,n,r,o,i,a){var c,u,s,l={},f=t.length,d=i.length,h=Array(f);for(c=0;c<f;++c)(u=t[c])&&(h[c]=s="$"+a.call(u,u.__data__,c,t),s in l?o[c]=u:l[s]=u);for(c=0;c<d;++c)(u=l[s="$"+a.call(e,i[c],c,i)])?(r[c]=u,u.__data__=i[c],l[s]=null):n[c]=new src_selection_enter_EnterNode(e,i[c]);for(c=0;c<f;++c)(u=t[c])&&l[h[c]]===u&&(o[c]=u)}function d3_selection_src_selection_sort_ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function d3_node_modules_d3_selection_src_window(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function src_selection_style_styleValue(e,t){return e.style.getPropertyValue(t)||d3_node_modules_d3_selection_src_window(e).getComputedStyle(e,null).getPropertyValue(t)}function src_selection_classed_classArray(e){return e.trim().split(/^|\s+/)}function src_selection_classed_classList(e){return e.classList||new src_selection_classed_ClassList(e)}function src_selection_classed_ClassList(e){this._node=e,this._names=src_selection_classed_classArray(e.getAttribute("class")||"")}function src_selection_classed_classedAdd(e,t){for(var n=src_selection_classed_classList(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function src_selection_classed_classedRemove(e,t){for(var n=src_selection_classed_classList(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function src_selection_text_textRemove(){this.textContent=""}function src_selection_html_htmlRemove(){this.innerHTML=""}function src_selection_raise_raise(){this.nextSibling&&this.parentNode.appendChild(this)}function src_selection_lower_lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function src_selection_insert_constantNull(){return null}function src_selection_remove_remove(){var e=this.parentNode;e&&e.removeChild(this)}function src_selection_clone_selection_cloneShallow(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function src_selection_clone_selection_cloneDeep(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}src_selection_enter_EnterNode.prototype={constructor:src_selection_enter_EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},src_selection_classed_ClassList.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var i4={},i9=null;function src_selection_on_filterContextListener(e,t,n){return e=src_selection_on_contextListener(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function src_selection_on_contextListener(e,t,n){return function(r){var o=i9;i9=r;try{e.call(this,this.__data__,t,n)}finally{i9=o}}}function src_selection_on_onRemove(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function src_selection_on_onAdd(e,t,n){var r=i4.hasOwnProperty(e.type)?src_selection_on_filterContextListener:src_selection_on_contextListener;return function(o,i,a){var c,u=this.__on,s=r(t,i,a);if(u){for(var l=0,f=u.length;l<f;++l)if((c=u[l]).type===e.type&&c.name===e.name){this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=s,c.capture=n),c.value=t;return}}this.addEventListener(e.type,s,n),c={type:e.type,name:e.name,value:t,listener:s,capture:n},u?u.push(c):this.__on=[c]}}function src_selection_on_customEvent(e,t,n,r){var o=i9;e.sourceEvent=i9,i9=e;try{return t.apply(n,r)}finally{i9=o}}function src_selection_dispatch_dispatchEvent(e,t,n){var r=d3_node_modules_d3_selection_src_window(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}"undefined"==typeof document||"onmouseenter"in document.documentElement||(i4={mouseenter:"mouseover",mouseleave:"mouseout"});var ae=[null];function d3_selection_src_selection_Selection(e,t){this._groups=e,this._parents=t}function d3_selection_src_selection_selection(){return new d3_selection_src_selection_Selection([[document.documentElement]],ae)}d3_selection_src_selection_Selection.prototype=d3_selection_src_selection_selection.prototype={constructor:d3_selection_src_selection_Selection,select:function(e){"function"!=typeof e&&(e=node_modules_d3_selection_src_selector(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,c=t[o],u=c.length,s=r[o]=Array(u),l=0;l<u;++l)(i=c[l])&&(a=e.call(i,i.__data__,l,c))&&("__data__"in i&&(a.__data__=i.__data__),s[l]=a);return new d3_selection_src_selection_Selection(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=node_modules_d3_selection_src_selectorAll(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,c=t[i],u=c.length,s=0;s<u;++s)(a=c[s])&&(r.push(e.call(a,a.__data__,s,c)),o.push(a));return new d3_selection_src_selection_Selection(r,o)},filter:function(e){"function"!=typeof e&&(e=node_modules_d3_selection_src_matcher(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],c=a.length,u=r[o]=[],s=0;s<c;++s)(i=a[s])&&e.call(i,i.__data__,s,a)&&u.push(i);return new d3_selection_src_selection_Selection(r,this._parents)},data:function(e,t){if(!e)return h=Array(this.size()),s=-1,this.each(function(e){h[++s]=e}),h;var n=t?src_selection_data_bindKey:src_selection_data_bindIndex,r=this._parents,o=this._groups;"function"!=typeof e&&(m=e,e=function(){return m});for(var i=o.length,a=Array(i),c=Array(i),u=Array(i),s=0;s<i;++s){var l=r[s],f=o[s],d=f.length,h=e.call(l,l&&l.__data__,s,r),p=h.length,_=c[s]=Array(p),g=a[s]=Array(p);n(l,f,_,g,u[s]=Array(d),h,t);for(var m,b,v,w=0,M=0;w<p;++w)if(b=_[w]){for(w>=M&&(M=w+1);!(v=g[M])&&++M<p;);b._next=v||null}}return(a=new d3_selection_src_selection_Selection(a,r))._enter=c,a._exit=u,a},enter:function(){return new d3_selection_src_selection_Selection(this._enter||this._groups.map(d3_selection_src_selection_sparse),this._parents)},exit:function(){return new d3_selection_src_selection_Selection(this._exit||this._groups.map(d3_selection_src_selection_sparse),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),c=0;c<i;++c)for(var u,s=t[c],l=n[c],f=s.length,d=a[c]=Array(f),h=0;h<f;++h)(u=s[h]||l[h])&&(d[h]=u);for(;c<r;++c)a[c]=t[c];return new d3_selection_src_selection_Selection(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function compareNode(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=d3_selection_src_selection_sort_ascending);for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o){for(var i,a=t[o],c=a.length,u=r[o]=Array(c),s=0;s<c;++s)(i=a[s])&&(u[s]=i);u.sort(compareNode)}return new d3_selection_src_selection_Selection(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each(function(){++e}),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,c=i.length;a<c;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=node_modules_d3_selection_src_namespace(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):src_selection_style_styleValue(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=src_selection_classed_classArray(e+"");if(arguments.length<2){for(var r=src_selection_classed_classList(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?src_selection_classed_classedAdd:src_selection_classed_classedRemove)(this,e)}}:t?function(e){return function(){src_selection_classed_classedAdd(this,e)}}:function(e){return function(){src_selection_classed_classedRemove(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?src_selection_text_textRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?src_selection_html_htmlRemove:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(src_selection_raise_raise)},lower:function(){return this.each(src_selection_lower_lower)},append:function(e){var t="function"==typeof e?e:node_modules_d3_selection_src_creator(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:node_modules_d3_selection_src_creator(e),r=null==t?src_selection_insert_constantNull:"function"==typeof t?t:node_modules_d3_selection_src_selector(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(src_selection_remove_remove)},clone:function(e){return this.select(e?src_selection_clone_selection_cloneDeep:src_selection_clone_selection_cloneShallow)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var c=this.node().__on;if(c){for(var u,s=0,l=c.length;s<l;++s)for(r=0,u=c[s];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(c=t?src_selection_on_onAdd:src_selection_on_onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(c(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return src_selection_dispatch_dispatchEvent(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return src_selection_dispatch_dispatchEvent(this,e,t)}})(e,t))}};var at=d3_selection_src_selection_selection;function node_modules_d3_selection_src_select(e){return"string"==typeof e?new d3_selection_src_selection_Selection([[document.querySelector(e)]],[document.documentElement]):new d3_selection_src_selection_Selection([[e]],ae)}function src_create(e){return node_modules_d3_selection_src_select(node_modules_d3_selection_src_creator(e).call(document.documentElement))}var an=0;function local_local(){return new Local}function Local(){this._="@"+(++an).toString(36)}function d3_selection_src_sourceEvent(){for(var e,t=i9;e=t.sourceEvent;)t=e;return t}function d3_selection_src_point(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}function d3_selection_src_mouse(e){var t=d3_selection_src_sourceEvent();return t.changedTouches&&(t=t.changedTouches[0]),d3_selection_src_point(e,t)}function src_selectAll(e){return"string"==typeof e?new d3_selection_src_selection_Selection([document.querySelectorAll(e)],[document.documentElement]):new d3_selection_src_selection_Selection([null==e?[]:e],ae)}function d3_selection_src_touch(e,t,n){arguments.length<3&&(n=t,t=d3_selection_src_sourceEvent().changedTouches);for(var r,o=0,i=t?t.length:0;o<i;++o)if((r=t[o]).identifier===n)return d3_selection_src_point(e,r);return null}function touches(e,t){null==t&&(t=d3_selection_src_sourceEvent().touches);for(var n=0,r=t?t.length:0,o=Array(r);n<r;++n)o[n]=d3_selection_src_point(e,t[n]);return o}Local.prototype=local_local.prototype={constructor:Local,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ar=n(987826),ao=n(708713),ai=n(540652),aa=n(217728);function src_descending(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function d3_shape_src_identity(e){return e}var ac=n(90596);function pie(){var e=d3_shape_src_identity,t=src_descending,n=null,r=(0,aa.Z)(0),o=(0,aa.Z)(ac.BZ),i=(0,aa.Z)(0);function pie(a){var c,u,s,l,f,d=a.length,h=0,p=Array(d),_=Array(d),g=+r.apply(this,arguments),m=Math.min(ac.BZ,Math.max(-ac.BZ,o.apply(this,arguments)-g)),b=Math.min(Math.abs(m)/d,i.apply(this,arguments)),v=b*(m<0?-1:1);for(c=0;c<d;++c)(f=_[p[c]=c]=+e(a[c],c,a))>0&&(h+=f);for(null!=t?p.sort(function(e,n){return t(_[e],_[n])}):null!=n&&p.sort(function(e,t){return n(a[e],a[t])}),c=0,s=h?(m-d*v)/h:0;c<d;++c,g=l)l=g+((f=_[u=p[c]])>0?f*s:0)+v,_[u]={data:a[u],index:c,value:f,startAngle:g,endAngle:l,padAngle:b};return _}return pie.value=function(t){return arguments.length?(e="function"==typeof t?t:(0,aa.Z)(+t),pie):e},pie.sortValues=function(e){return arguments.length?(t=e,n=null,pie):t},pie.sort=function(e){return arguments.length?(n=e,t=null,pie):n},pie.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:(0,aa.Z)(+e),pie):r},pie.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:(0,aa.Z)(+e),pie):o},pie.padAngle=function(e){return arguments.length?(i="function"==typeof e?e:(0,aa.Z)(+e),pie):i},pie}var au=n(404224),as=curveRadial(au.Z);function Radial(e){this._curve=e}function curveRadial(e){function radial(t){return new Radial(e(t))}return radial._curve=e,radial}function lineRadial(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(curveRadial(e)):t()._curve},e}function src_lineRadial(){return lineRadial((0,ai.Z)().curve(as))}function areaRadial(){var e=(0,ao.Z)().curve(as),t=e.curve,n=e.lineX0,r=e.lineX1,o=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return lineRadial(n())},delete e.lineX0,e.lineEndAngle=function(){return lineRadial(r())},delete e.lineX1,e.lineInnerRadius=function(){return lineRadial(o())},delete e.lineY0,e.lineOuterRadius=function(){return lineRadial(i())},delete e.lineY1,e.curve=function(e){return arguments.length?t(curveRadial(e)):t()._curve},e}function pointRadial(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),-(t*Math.cos(e)))}};var al=n(89555),af=n(641221);function linkSource(e){return e.source}function linkTarget(e){return e.target}function link_link(e){var t=linkSource,n=linkTarget,r=af.x,o=af.y,i=null;function link(){var a,c=al.t.call(arguments),u=t.apply(this,c),s=n.apply(this,c);if(i||(i=a=(0,e4.Z)()),e(i,+r.apply(this,(c[0]=u,c)),+o.apply(this,c),+r.apply(this,(c[0]=s,c)),+o.apply(this,c)),a)return i=null,a+""||null}return link.source=function(e){return arguments.length?(t=e,link):t},link.target=function(e){return arguments.length?(n=e,link):n},link.x=function(e){return arguments.length?(r="function"==typeof e?e:(0,aa.Z)(+e),link):r},link.y=function(e){return arguments.length?(o="function"==typeof e?e:(0,aa.Z)(+e),link):o},link.context=function(e){return arguments.length?(i=null==e?null:e,link):i},link}function curveHorizontal(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,o,r,o)}function curveVertical(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+o)/2,r,n,r,o)}function link_curveRadial(e,t,n,r,o){var i=pointRadial(t,n),a=pointRadial(t,n=(n+o)/2),c=pointRadial(r,n),u=pointRadial(r,o);e.moveTo(i[0],i[1]),e.bezierCurveTo(a[0],a[1],c[0],c[1],u[0],u[1])}function linkHorizontal(){return link_link(curveHorizontal)}function linkVertical(){return link_link(curveVertical)}function linkRadial(){var e=link_link(link_curveRadial);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var ad={draw:function(e,t){var n=Math.sqrt(t/ac.pi);e.moveTo(n,0),e.arc(0,0,n,0,ac.BZ)}},ah={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ap=Math.sqrt(1/3),a_=2*ap,ag={draw:function(e,t){var n=Math.sqrt(t/a_),r=n*ap;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},am=Math.sin(ac.pi/10)/Math.sin(7*ac.pi/10),ab=Math.sin(ac.BZ/10)*am,ay=-Math.cos(ac.BZ/10)*am,av={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=ab*n,o=ay*n;e.moveTo(0,-n),e.lineTo(r,o);for(var i=1;i<5;++i){var a=ac.BZ*i/5,c=Math.cos(a),u=Math.sin(a);e.lineTo(u*n,-c*n),e.lineTo(c*r-u*o,u*r+c*o)}e.closePath()}},ax={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},aw=Math.sqrt(3),aM={draw:function(e,t){var n=-Math.sqrt(t/(3*aw));e.moveTo(0,2*n),e.lineTo(-aw*n,-n),e.lineTo(aw*n,-n),e.closePath()}},aA=Math.sqrt(3)/2,aE=1/Math.sqrt(12),aC=(aE/2+1)*3,aS={draw:function(e,t){var n=Math.sqrt(t/aC),r=n/2,o=n*aE,i=n*aE+n,a=-r;e.moveTo(r,o),e.lineTo(r,i),e.lineTo(a,i),e.lineTo(-.5*r-aA*o,aA*r+-.5*o),e.lineTo(-.5*r-aA*i,aA*r+-.5*i),e.lineTo(-.5*a-aA*i,aA*a+-.5*i),e.lineTo(-.5*r+aA*o,-.5*o-aA*r),e.lineTo(-.5*r+aA*i,-.5*i-aA*r),e.lineTo(-.5*a+aA*i,-.5*i-aA*a),e.closePath()}},aN=[ad,ah,ag,ax,av,aM,aS];function symbol(){var e=(0,aa.Z)(ad),t=(0,aa.Z)(64),n=null;function symbol(){var r;if(n||(n=r=(0,e4.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return symbol.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,aa.Z)(t),symbol):e},symbol.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,aa.Z)(+e),symbol):t},symbol.context=function(e){return arguments.length?(n=null==e?null:e,symbol):n},symbol}var ak=n(988973),aR=n(274372),aT=n(473021),aP=n(432830),aL=n(191390),aO=n(141599),aI=n(888800),aq=n(807391),az=n(463703),aD=n(248917),aB=n(929458),aj=n(578509),aH=n(403499),aU=n(521468),aF=n(454058),aZ=n(778113),aV=n(771474),aY=n(214535),aG=n(441904),aW=n(118749),aX=n(444724),a$=n(337035),aK=n(315595),aQ=n(613391),aJ=n(2281),a0=n(283818),a1="%Y-%m-%dT%H:%M:%S.%LZ",a2=Date.prototype.toISOString?function(e){return e.toISOString()}:l(a1),a3=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:f(a1);function d3_timer_src_interval(e,t,n){var r=new Timer,o=t;return null==t?r.restart(e,t,n):(t=+t,n=null==n?now():+n,r.restart(function tick(i){i+=o,r.restart(tick,o+=t,n),e(i)},t,n)),r}function d3_voronoi_src_constant(e){return function(){return e}}function point_x(e){return e[0]}function point_y(e){return e[1]}function RedBlackTree(){this._=null}function RedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function RedBlackRotateLeft(e,t){var n=t.R,r=t.U;r?r.L===t?r.L=n:r.R=n:e._=n,n.U=r,t.U=n,t.R=n.L,t.R&&(t.R.U=t),n.L=t}function RedBlackRotateRight(e,t){var n=t.L,r=t.U;r?r.L===t?r.L=n:r.R=n:e._=n,n.U=r,t.U=n,t.L=n.R,t.L&&(t.L.U=t),n.R=t}function RedBlackFirst(e){for(;e.L;)e=e.L;return e}function createEdge(e,t,n,r){var o=[null,null],i=g.push(o)-1;return o.left=e,o.right=t,n&&setEdgeEnd(o,e,t,n),r&&setEdgeEnd(o,t,e,r),p[e.index].halfedges.push(i),p[t.index].halfedges.push(i),o}function createBorderEdge(e,t,n){var r=[t,n];return r.left=e,r}function setEdgeEnd(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function cellHalfedgeStart(e,t){return t[+(t.left!==e.site)]}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=RedBlackFirst(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(RedBlackRotateLeft(this,n),n=(e=n).U),n.C=!1,r.C=!0,RedBlackRotateRight(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(RedBlackRotateRight(this,n),n=(e=n).U),n.C=!1,r.C=!0,RedBlackRotateLeft(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,a=e.R;if(n=i?a?RedBlackFirst(a):i:a,o?o.L===e?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=a,a.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,RedBlackRotateLeft(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,RedBlackRotateRight(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,RedBlackRotateLeft(this,o),e=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,RedBlackRotateRight(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,RedBlackRotateLeft(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,RedBlackRotateRight(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}};var a6=[];function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o[0],c=o[1],u=r[0]-a,s=r[1]-c,l=i[0]-a,f=i[1]-c,h=2*(u*f-s*l);if(!(h>=-a8)){var p=u*u+s*s,g=l*l+f*f,m=(f*p-s*g)/h,b=(u*g-l*p)/h,v=a6.pop()||new Circle;v.arc=e,v.site=o,v.x=m+a,v.y=(v.cy=b+c)+Math.sqrt(m*m+b*b),e.circle=v;for(var w=null,M=_._;M;)if(v.y<M.y||v.y===M.y&&v.x<=M.x){if(M.L)M=M.L;else{w=M.P;break}}else if(M.R)M=M.R;else{w=M;break}_.insert(w,v),w||(d=v)}}}}function detachCircle(e){var t=e.circle;t&&(t.P||(d=t.N),_.remove(t),a6.push(t),RedBlackNode(t),e.circle=null)}var a5=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(e){var t=a5.pop()||new Beach;return t.site=e,t}function detachBeach(e){detachCircle(e),h.remove(e),a5.push(e),RedBlackNode(e)}function leftBreakPoint(e,t){var n=e.site,r=n[0],o=n[1],i=o-t;if(!i)return r;var a=e.P;if(!a)return-1/0;var c=(n=a.site)[0],u=n[1],s=u-t;if(!s)return c;var l=c-r,f=1/i-1/s,d=l/s;return f?(-d+Math.sqrt(d*d-2*f*(l*l/(-2*s)-u+s/2+o-i/2)))/f+r:(r+c)/2}var a8=1e-12;function lexicographic(e,t){return t[1]-e[1]||t[0]-e[0]}function Diagram(e,t){var n,r,o,i=e.sort(lexicographic).pop();for(g=[],p=Array(e.length),h=new RedBlackTree,_=new RedBlackTree;;)if(o=d,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))(i[0]!==n||i[1]!==r)&&(function(e){for(var t,n,r,o,i=e[0],a=e[1],c=h._;c;)if((r=leftBreakPoint(c,a)-i)>1e-6)c=c.L;else if((o=i-function(e,t){var n=e.N;if(n)return leftBreakPoint(n,t);var r=e.site;return r[1]===t?r[0]:1/0}(c,a))>1e-6){if(!c.R){t=c;break}c=c.R}else{r>-.000001?(t=c.P,n=c):o>-.000001?(t=c,n=c.N):t=n=c;break}p[e.index]={site:e,halfedges:[]};var u=createBeach(e);if(h.insert(t,u),t||n){if(t===n){detachCircle(t),n=createBeach(t.site),h.insert(u,n),u.edge=n.edge=createEdge(t.site,u.site),attachCircle(t),attachCircle(n);return}if(!n){u.edge=createEdge(t.site,u.site);return}detachCircle(t),detachCircle(n);var s=t.site,l=s[0],f=s[1],d=e[0]-l,_=e[1]-f,g=n.site,m=g[0]-l,b=g[1]-f,v=2*(d*b-_*m),w=d*d+_*_,M=m*m+b*b,A=[(b*w-_*M)/v+l,(d*M-m*w)/v+f];setEdgeEnd(n.edge,s,g,A),u.edge=createEdge(s,e,null,A),n.edge=createEdge(e,g,null,A),attachCircle(t),attachCircle(n)}}(i),n=i[0],r=i[1]),i=e.pop();else if(o)!function(e){var t=e.circle,n=t.x,r=t.cy,o=[n,r],i=e.P,a=e.N,c=[e];detachBeach(e);for(var u=i;u.circle&&1e-6>Math.abs(n-u.circle.x)&&1e-6>Math.abs(r-u.circle.cy);)i=u.P,c.unshift(u),detachBeach(u),u=i;c.unshift(u),detachCircle(u);for(var s=a;s.circle&&1e-6>Math.abs(n-s.circle.x)&&1e-6>Math.abs(r-s.circle.cy);)a=s.N,c.push(s),detachBeach(s),s=a;c.push(s),detachCircle(s);var l,f=c.length;for(l=1;l<f;++l)s=c[l],u=c[l-1],setEdgeEnd(s.edge,u.site,s.site,o);u=c[0],(s=c[f-1]).edge=createEdge(u.site,s.site,null,o),attachCircle(u),attachCircle(s)}(o.arc);else break;if(!function(){for(var e,t,n,r,o=0,i=p.length;o<i;++o)if((e=p[o])&&(r=(t=e.halfedges).length)){var a=Array(r),c=Array(r);for(n=0;n<r;++n)a[n]=n,c[n]=function(e,t){var n=e.site,r=t.left,o=t.right;return(n===o&&(o=r,r=n),o)?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}(e,g[t[n]]);for(a.sort(function(e,t){return c[t]-c[e]}),n=0;n<r;++n)c[n]=t[a[n]];for(n=0;n<r;++n)t[n]=c[n]}}(),t){var a=+t[0][0],c=+t[0][1],u=+t[1][0],s=+t[1][1];!function(e,t,n,r){for(var o,i=g.length;i--;)(function(e,t,n,r,o){var i=e[1];if(i)return!0;var a,c,u=e[0],s=e.left,l=e.right,f=s[0],d=s[1],h=l[0],p=l[1],_=(f+h)/2;if(p===d){if(_<t||_>=r)return;if(f>h){if(u){if(u[1]>=o)return}else u=[_,n];i=[_,o]}else{if(u){if(u[1]<n)return}else u=[_,o];i=[_,n]}}else if(a=(f-h)/(p-d),c=(d+p)/2-a*_,a<-1||a>1){if(f>h){if(u){if(u[1]>=o)return}else u=[(n-c)/a,n];i=[(o-c)/a,o]}else{if(u){if(u[1]<n)return}else u=[(o-c)/a,o];i=[(n-c)/a,n]}}else if(d<p){if(u){if(u[0]>=r)return}else u=[t,a*t+c];i=[r,a*r+c]}else{if(u){if(u[0]<t)return}else u=[r,a*r+c];i=[t,a*t+c]}return e[0]=u,e[1]=i,!0})(o=g[i],e,t,n,r)&&function(e,t,n,r,o){var i,a=e[0],c=e[1],u=a[0],s=a[1],l=c[0],f=c[1],d=0,h=1,p=l-u,_=f-s;if(i=t-u,p||!(i>0)){if(i/=p,p<0){if(i<d)return;i<h&&(h=i)}else if(p>0){if(i>h)return;i>d&&(d=i)}if(i=r-u,p||!(i<0)){if(i/=p,p<0){if(i>h)return;i>d&&(d=i)}else if(p>0){if(i<d)return;i<h&&(h=i)}if(i=n-s,_||!(i>0)){if(i/=_,_<0){if(i<d)return;i<h&&(h=i)}else if(_>0){if(i>h)return;i>d&&(d=i)}if(i=o-s,_||!(i<0)){if(i/=_,_<0){if(i>h)return;i>d&&(d=i)}else if(_>0){if(i<d)return;i<h&&(h=i)}return!(d>0)&&!(h<1)||(d>0&&(e[0]=[u+d*p,s+d*_]),h<1&&(e[1]=[u+h*p,s+h*_]),!0)}}}}}(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>1e-6||Math.abs(o[0][1]-o[1][1])>1e-6)||delete g[i]}(a,c,u,s),function(e,t,n,r){var o,i,a,c,u,s,l,f,d,h,_,m,b=p.length,v=!0;for(o=0;o<b;++o)if(i=p[o]){for(a=i.site,c=(u=i.halfedges).length;c--;)g[u[c]]||u.splice(c,1);for(c=0,s=u.length;c<s;)w=i,_=(h=(M=g[u[c]])[+(M.left===w.site)])[0],m=h[1],f=(l=cellHalfedgeStart(i,g[u[++c%s]]))[0],d=l[1],(Math.abs(_-f)>1e-6||Math.abs(m-d)>1e-6)&&(u.splice(c,0,g.push(createBorderEdge(a,h,1e-6>Math.abs(_-e)&&r-m>1e-6?[e,1e-6>Math.abs(f-e)?d:r]:1e-6>Math.abs(m-r)&&n-_>1e-6?[1e-6>Math.abs(d-r)?f:n,r]:1e-6>Math.abs(_-n)&&m-t>1e-6?[n,1e-6>Math.abs(f-n)?d:t]:1e-6>Math.abs(m-t)&&_-e>1e-6?[1e-6>Math.abs(d-t)?f:e,t]:null))-1),++s);s&&(v=!1)}if(v){var w,M,A,E,C,S=1/0;for(o=0,v=null;o<b;++o)(i=p[o])&&(C=(A=(a=i.site)[0]-e)*A+(E=a[1]-t)*E)<S&&(S=C,v=i);if(v){var N=[e,t],k=[e,r],R=[n,r],T=[n,t];v.halfedges.push(g.push(createBorderEdge(a=v.site,N,k))-1,g.push(createBorderEdge(a,k,R))-1,g.push(createBorderEdge(a,R,T))-1,g.push(createBorderEdge(a,T,N))-1)}}for(o=0;o<b;++o)(i=p[o])&&!i.halfedges.length&&delete p[o]}(a,c,u,s)}this.edges=g,this.cells=p,h=_=g=p=null}function voronoi(){var e=point_x,t=point_y,n=null;function voronoi(r){return new Diagram(r.map(function(n,o){var i=[1e-6*Math.round(e(n,o,r)/1e-6),1e-6*Math.round(t(n,o,r)/1e-6)];return i.index=o,i.data=n,i}),n)}return voronoi.polygons=function(e){return voronoi(e).polygons()},voronoi.links=function(e){return voronoi(e).links()},voronoi.triangles=function(e){return voronoi(e).triangles()},voronoi.x=function(t){return arguments.length?(e="function"==typeof t?t:d3_voronoi_src_constant(+t),voronoi):e},voronoi.y=function(e){return arguments.length?(t="function"==typeof e?e:d3_voronoi_src_constant(+e),voronoi):t},voronoi.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],voronoi):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},voronoi.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],voronoi):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},voronoi}function d3_zoom_src_constant(e){return function(){return e}}function ZoomEvent(e,t,n){this.target=e,this.type=t,this.transform=n}function Transform(e,t,n){this.k=e,this.x=t,this.y=n}Diagram.prototype={constructor:Diagram,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return cellHalfedgeStart(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(a=(i=n.halfedges).length)for(var o,i,a,c,u=n.site,s=-1,l=t[i[a-1]],f=l.left===u?l.right:l.left;++s<a;)c=f,f=(l=t[i[s]]).left===u?l.right:l.left,c&&f&&r<c.index&&r<f.index&&0>(o=f,(u[0]-o[0])*(c[1]-u[1])-(u[0]-c[0])*(o[1]-u[1]))&&e.push([u.data,c.data,f.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,o,i=this,a=i._found||0,c=i.cells.length;!(o=i.cells[a]);)if(++a>=c)return null;var u=e-o.site[0],s=t-o.site[1],l=u*u+s*s;do o=i.cells[r=a],a=null,o.halfedges.forEach(function(n){var r=i.edges[n],c=r.left;if(c!==o.site&&c||(c=r.right)){var u=e-c[0],s=t-c[1],f=u*u+s*s;f<l&&(l=f,a=c.index)}});while(null!==a);return i._found=r,null==n||l<=n*n?o.site:null}},Transform.prototype={constructor:Transform,scale:function(e){return 1===e?this:new Transform(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Transform(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var a7=new Transform(1,0,0);function transform_transform(e){for(;!e.__zoom;)if(!(e=e.parentNode))return a7;return e.__zoom}function src_noevent_nopropagation(){i9.stopImmediatePropagation()}function d3_zoom_src_noevent(){i9.preventDefault(),i9.stopImmediatePropagation()}function zoom_defaultFilter(){return!i9.ctrlKey&&!i9.button}function zoom_defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||a7}function defaultWheelDelta(){return-i9.deltaY*(1===i9.deltaMode?.05:i9.deltaMode?1:.002)}function zoom_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function zoom(){var e,t,n=zoom_defaultFilter,r=zoom_defaultExtent,o=defaultConstrain,i=defaultWheelDelta,a=zoom_defaultTouchable,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],s=250,l=src_zoom,f=P("start","zoom","end"),d=0;function zoom(e){e.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(a).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new Transform(t,e.x,e.y)}function translate(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new Transform(e.k,r,o)}function centroid(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function schedule(e,t,n){e.on("start.zoom",function(){gesture(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){gesture(this,arguments).end()}).tween("zoom",function(){var e=arguments,o=gesture(this,e),i=r.apply(this,e),a=null==n?centroid(i):"function"==typeof n?n.apply(this,e):n,c=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=this.__zoom,s="function"==typeof t?t.apply(this,e):t,f=l(u.invert(a).concat(c/u.k),s.invert(a).concat(c/s.k));return function(e){if(1===e)e=s;else{var t=f(e),n=c/t[2];e=new Transform(n,a[0]-t[0]*n,a[1]-t[1]*n)}o.zoom(null,e)}})}function gesture(e,t,n){return!n&&e.__zooming||new Gesture(e,t)}function Gesture(e,t){this.that=e,this.args=t,this.active=0,this.extent=r.apply(e,t),this.taps=0}function wheeled(){if(n.apply(this,arguments)){var e=gesture(this,arguments),t=this.__zoom,r=Math.max(c[0],Math.min(c[1],t.k*Math.pow(2,i.apply(this,arguments)))),a=d3_selection_src_mouse(this);if(e.wheel)(e.mouse[0][0]!==a[0]||e.mouse[0][1]!==a[1])&&(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[a,t.invert(a)],interrupt(this),e.start()}d3_zoom_src_noevent(),e.wheel=setTimeout(function(){e.wheel=null,e.end()},150),e.zoom("mouse",o(translate(scale(t,r),e.mouse[0],e.mouse[1]),e.extent,u))}}function mousedowned(){if(!t&&n.apply(this,arguments)){var e=gesture(this,arguments,!0),r=node_modules_d3_selection_src_select(i9.view).on("mousemove.zoom",function(){if(d3_zoom_src_noevent(),!e.moved){var t=i9.clientX-a,n=i9.clientY-c;e.moved=t*t+n*n>d}e.zoom("mouse",o(translate(e.that.__zoom,e.mouse[0]=d3_selection_src_mouse(e.that),e.mouse[1]),e.extent,u))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),yesdrag(i9.view,e.moved),d3_zoom_src_noevent(),e.end()},!0),i=d3_selection_src_mouse(this),a=i9.clientX,c=i9.clientY;nodrag(i9.view),src_noevent_nopropagation(),e.mouse=[i,this.__zoom.invert(i)],interrupt(this),e.start()}}function dblclicked(){if(n.apply(this,arguments)){var e=this.__zoom,t=d3_selection_src_mouse(this),i=e.invert(t),a=e.k*(i9.shiftKey?.5:2),c=o(translate(scale(e,a),t,i),r.apply(this,arguments),u);d3_zoom_src_noevent(),s>0?node_modules_d3_selection_src_select(this).transition().duration(s).call(schedule,c,t):node_modules_d3_selection_src_select(this).call(zoom.transform,c)}}function touchstarted(){if(n.apply(this,arguments)){var t,r,o,i,a=i9.touches,c=a.length,u=gesture(this,arguments,i9.changedTouches.length===c);for(src_noevent_nopropagation(),r=0;r<c;++r)o=a[r],i=[i=d3_selection_src_touch(this,a,o.identifier),this.__zoom.invert(i),o.identifier],u.touch0?u.touch1||u.touch0[2]===i[2]||(u.touch1=i,u.taps=0):(u.touch0=i,t=!0,u.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(u.taps<2&&(e=setTimeout(function(){e=null},500)),interrupt(this),u.start())}}function touchmoved(){if(this.__zooming){var t,n,r,i,a=gesture(this,arguments),c=i9.changedTouches,s=c.length;for(d3_zoom_src_noevent(),e&&(e=clearTimeout(e)),a.taps=0,t=0;t<s;++t)n=c[t],r=d3_selection_src_touch(this,c,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var l=a.touch0[0],f=a.touch0[1],d=a.touch1[0],h=a.touch1[1],p=(p=d[0]-l[0])*p+(p=d[1]-l[1])*p,_=(_=h[0]-f[0])*_+(_=h[1]-f[1])*_;n=scale(n,Math.sqrt(p/_)),r=[(l[0]+d[0])/2,(l[1]+d[1])/2],i=[(f[0]+h[0])/2,(f[1]+h[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",o(translate(n,r,i),a.extent,u))}}function touchended(){if(this.__zooming){var e,n,r=gesture(this,arguments),o=i9.changedTouches,i=o.length;for(src_noevent_nopropagation(),t&&clearTimeout(t),t=setTimeout(function(){t=null},500),e=0;e<i;++e)n=o[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=node_modules_d3_selection_src_select(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return zoom.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property("__zoom",defaultTransform),e!==r?schedule(e,t,n):r.interrupt().each(function(){gesture(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},zoom.scaleBy=function(e,t,n){zoom.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n)},zoom.scaleTo=function(e,t,n){zoom.transform(e,function(){var e=r.apply(this,arguments),i=this.__zoom,a=null==n?centroid(e):"function"==typeof n?n.apply(this,arguments):n,c=i.invert(a),s="function"==typeof t?t.apply(this,arguments):t;return o(translate(scale(i,s),a,c),e,u)},n)},zoom.translateBy=function(e,t,n){zoom.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)})},zoom.translateTo=function(e,t,n,i){zoom.transform(e,function(){var e=r.apply(this,arguments),a=this.__zoom,c=null==i?centroid(e):"function"==typeof i?i.apply(this,arguments):i;return o(a7.translate(c[0],c[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,u)},i)},Gesture.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){src_selection_on_customEvent(new ZoomEvent(zoom,e,this.that.__zoom),f.apply,f,[e,this.that,this.args])}},zoom.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:d3_zoom_src_constant(+e),zoom):i},zoom.filter=function(e){return arguments.length?(n="function"==typeof e?e:d3_zoom_src_constant(!!e),zoom):n},zoom.touchable=function(e){return arguments.length?(a="function"==typeof e?e:d3_zoom_src_constant(!!e),zoom):a},zoom.extent=function(e){return arguments.length?(r="function"==typeof e?e:d3_zoom_src_constant([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),zoom):r},zoom.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],zoom):[c[0],c[1]]},zoom.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],zoom):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},zoom.constrain=function(e){return arguments.length?(o=e,zoom):o},zoom.duration=function(e){return arguments.length?(s=+e,zoom):s},zoom.interpolate=function(e){return arguments.length?(l=e,zoom):l},zoom.on=function(){var e=f.on.apply(f,arguments);return e===f?zoom:e},zoom.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,zoom):Math.sqrt(d)},zoom}transform_transform.prototype=Transform.prototype}}]);