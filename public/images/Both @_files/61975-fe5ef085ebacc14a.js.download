"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61975],{290408:function(e,t,i){i.d(t,{L:function(){return isBonusEarned},e:function(){return getAttemptsRequiredForBonus}});var s=i(599789);let getAttemptsRequiredForBonus=e=>e.target-e.progress,isBonusEarned=e=>e.status===s.BonusStatus.Resolved&&e.amountHundredthsOfCents>0},902167:function(e,t,i){var s,r=i(824246),n=i(827378),o=i(674721),c=i.n(o),a=i(298784),l=i.n(a),d=i(138944),u=i(792739),p=i(163543),m=i(50682),h=i.n(m),g=i(362838),x=i(924364),b=i(955532),f=i(107873),v=i(293030),j=i(268232),y=i(663307),S=i(291499),k=i(433536),C=i(347785),w=i(161320),E=i.n(w),R=i(60042),T=i.n(R),I=i(320280),_=i(436878),N=i(336235),A=i(908194),P=i(795115),O=i(599789),L=i(835913);let z=(0,k.ZL)({courseHeader:{marginBottom:"32px",paddingInlineStart:"32px"},courseHeaderResponsive:{["@media (max-width: ".concat(_.Et,")")]:{display:"none"}},logo:{width:"120px",display:"inline-block"}}),GlobalCourseHeader=e=>{let t=z();return(0,r.jsx)("div",{className:T()(t.courseHeader,{[t.courseHeaderResponsive]:e.responsive}),children:(0,r.jsx)(p.ZP,{href:"/dashboard",children:(0,r.jsx)("a",{children:(0,r.jsx)("div",{className:t.logo,children:(0,r.jsx)(j.Z,{fill:"black"})})})})})},F=(0,k.ZL)({bar:{height:16,width:360,display:"flex"},barResponsive:{["@media (max-width: ".concat(_.Et,")")]:{width:"100%"}},segment:e=>{let{dir:t}=e;return{height:"100%",margin:0,width:"auto",flexGrow:1,background:"rgba(255, 255, 255, 0.1)",pointerEvents:"none","&.filled, &.halfFilled":{pointerEvents:"all",background:"rgba(255, 255, 255, 1)",cursor:"pointer",transition:"all 0.2s","&:hover":{boxShadow:"0px 0px 12px rgba(255, 255, 255, 0.5)"}},"&.halfFilled":{opacity:.5},"&:first-child":{borderTopLeftRadius:"rtl"===t?0:100,borderBottomLeftRadius:"rtl"===t?0:100,borderTopRightRadius:"rtl"===t?100:0,borderBottomRightRadius:"rtl"===t?100:0},"&:nth-last-child(2)":{borderTopLeftRadius:"rtl"===t?100:0,borderBottomLeftRadius:"rtl"===t?100:0,borderTopRightRadius:"rtl"===t?0:100,borderBottomRightRadius:"rtl"===t?0:100}}},courseHeader:{padding:"32px",backgroundColor:"var(--color-RemoGreen)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},courseHeaderResponsive:{["@media (max-width: ".concat(_.Et,")")]:{padding:"16px",flexDirection:"column",maxHeight:"87px",alignItems:"flex-start"}},courseTitle:{marginInlineEnd:"32px",fontSize:"18px",fontWeight:500,display:"flex"},courseTitleResponsive:{["@media (max-width: ".concat(_.Et,")")]:{marginInlineEnd:"0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},courseProgress:{flexShrink:0},courseProgressResponsive:{["@media (max-width: ".concat(_.Et,")")]:{width:"100%",marginTop:"16px"}},certificationTimeRemaining:{fontSize:"18px"}}),CourseHeader=e=>{let{t,i18n:i}=(0,C.$G)("course"),s=F({dir:i.dir()}),n=getLocalizedValue("title",i.language,e.course);return(0,r.jsxs)("div",{className:T()(s.courseHeader,{[s.courseHeaderResponsive]:e.responsive}),children:[(0,r.jsxs)("div",{className:T()(s.courseTitle,{[s.courseTitleResponsive]:e.responsive}),children:[!l().isEmpty(e.course.instruction)&&(0,r.jsx)(InstructionLauncher,{instruction:e.course.instruction,responsive:e.responsive}),n]}),(0,r.jsx)("div",{className:T()(s.courseProgress,{[s.courseProgressResponsive]:e.responsive}),children:(()=>{let t=getLocalizedValue("sections",i.language,e.course),n=t.length,o=l().map(t,"title");return o.push("Review"),(0,r.jsxs)("div",{className:T()(s.bar,{[s.barResponsive]:e.responsive}),children:[l().map(l().range(n+1),(t,i)=>{let n,c;return t<=e.courseProgress.currentSection&&(e.currentSection===e.courseProgress.currentSection||t===e.currentSection?c=!0:n=!0),(0,r.jsx)("div",{onClick:e.course.isCertification?l().noop:()=>e.handleSectionNavigate(t),"data-tip":o[t],"data-for":"header-tooltip",className:(0,d.default)(s.segment,{filled:c,halfFilled:n})},i)}),(0,r.jsx)(h(),{id:"header-tooltip"})]})})()}),e.course.isCertification&&void 0!==e.certificationTimeRemainingSecs&&e.courseProgress.currentSection!==e.course.sections.length&&(0,r.jsxs)("div",{className:s.certificationTimeRemaining,children:[t("certification-time-remaining"),":"," ",E().utc(E().duration(e.certificationTimeRemainingSecs,"seconds").asMilliseconds()).format("HH:mm:ss")]})]})},InstructionLauncher=e=>{let{instruction:t,responsive:i}=e,[s,o]=(0,n.useState)(!1),c=(0,N.Z)("(max-width: ".concat(_.Et,")")),a='<iframe src="'.concat(t,'"></iframe>');return(0,r.jsxs)("div",{className:"launcher",onClick:()=>{if(null==t?void 0:t.includes("instruction")){window.open(t,"_blank");return}if(i&&c){let e=document.createElement("div");e.innerHTML=a||"";let t=e.querySelector("iframe");if(t&&t.attributes.getNamedItem("src")){let e=t.attributes.getNamedItem("src").value;if((0,A.i)(e)){window.open(e,"_blank");return}}}o(!s)},children:[(0,r.jsx)("span",{className:"cta",children:(0,r.jsx)(u.FontAwesomeIcon,{icon:"info-circle"})}),(0,r.jsx)(S.d,{isOpen:s,instruction:a,instructionsURL:t,onClose:()=>o(!1)}),(0,r.jsx)("style",{children:"\n        .launcher {\n          margin: 0 24px 0 0;\n          display: flex;\n          cursor: pointer;\n        }\n\n        .launcher .cta {\n          color: white;\n        }\n      "})]})},CourseRequirements=e=>{let{course:t}=e,i=t.permissionsRequired;return(0,r.jsxs)("div",{className:"jsx-10081c135d9e78b2 requirements-list",children:[(0,r.jsxs)("div",{className:"jsx-10081c135d9e78b2 requirement",children:[(0,r.jsx)("em",{className:"jsx-10081c135d9e78b2",children:(0,r.jsx)(u.FontAwesomeIcon,{icon:"check"})}),"Willingness to learn!"]},"first"),l().map(i,e=>(0,r.jsxs)("div",{className:"jsx-10081c135d9e78b2 requirement",children:[(0,r.jsx)("em",{className:"jsx-10081c135d9e78b2",children:(0,r.jsx)(u.FontAwesomeIcon,{icon:"check"})}),"Enabled on ",(0,r.jsx)("strong",{className:"jsx-10081c135d9e78b2",children:e.name||e.title})," tasks"]},e.title)),(0,r.jsx)(c(),{id:"10081c135d9e78b2",children:".requirements-list.jsx-10081c135d9e78b2{margin-top:32px}.requirement.jsx-10081c135d9e78b2{margin-bottom:24px;font-weight:bold}em.jsx-10081c135d9e78b2{-webkit-padding-end:8px;-moz-padding-end:8px;padding-inline-end:8px;color:var(--color-RemoGreen)}"})]})},CourseIntro=e=>{let{isInQueue:t,query:i,course:s,actions:n,onCourseStart:o}=e,{t:a,i18n:d}=(0,C.$G)("course"),u=getLocalizedValue("title",d.language,e.course),p=getLocalizedValue("description",d.language,e.course),m=l().round(s.totalRewardHundredthsOfCents/1e4,2);return(0,r.jsxs)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" course-intro",children:[t&&(0,r.jsx)(SupplementalCourseHeader,{course:s}),l().round(s.totalRewardHundredthsOfCents/100)>0&&(0,r.jsx)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" reward",children:a("intro-pay",{pay:"$".concat(m)})}),(0,r.jsxs)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" title",children:[a("intro-welcome")," ",(0,r.jsx)("strong",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]]),children:u})]}),(0,r.jsxs)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" body",children:[p&&(0,r.jsxs)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" description",children:[(0,r.jsx)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" label",children:a("intro-curriculum")}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:x.ZP.render(p||"")},className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])})]}),!l().isEmpty(s.permissionsRequired)&&(0,r.jsxs)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" requirements",children:[(0,r.jsx)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" label",children:a("requirements")}),(0,r.jsx)(CourseRequirements,{course:s})]})]}),(0,r.jsxs)("div",{className:c().dynamic([["e11e18ddbb38c137",[_.Et,_.Et,_.Et]]])+" footer",children:[(0,r.jsx)(f.zx,{style:{width:"100%"},type:"primary",onClick:o,children:a("start")}),s.canSkip&&(0,r.jsx)(f.zx,{onClick:()=>n.skipCourse(i,s._id),children:"Skip (Corp only)"})]}),(0,r.jsx)(c(),{id:"e11e18ddbb38c137",dynamic:[_.Et,_.Et,_.Et],children:".course-intro.__jsx-style-dynamic-selector{color:black}.title.__jsx-style-dynamic-selector{border-bottom:1px solid var(--color-RemoGray10);font-size:20px;padding:32px}@media(max-width:".concat(_.Et,"){.title.__jsx-style-dynamic-selector{font-size:18px;padding:32px}}.body.__jsx-style-dynamic-selector{margin-bottom:32px;display:grid;grid-template-columns:auto auto;grid-column-gap:96px;font-size:18px;padding:32px}@media(max-width:").concat(_.Et,"){.body.__jsx-style-dynamic-selector{grid-column-gap:initial;font-size:12px}}.footer.__jsx-style-dynamic-selector{background:var(--color-RemoGray01);width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:16px}@media(max-width:").concat(_.Et,"){.footer.__jsx-style-dynamic-selector{position:absolute;bottom:0;background:var(--color-RemoGray01);width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:16px}}.requirements.__jsx-style-dynamic-selector{width:360px;-webkit-padding-start:48px;-moz-padding-start:48px;padding-inline-start:48px;-webkit-border-start:1px solid var(--color-RemoGray01);-moz-border-start:1px solid var(--color-RemoGray01);border-inline-start:1px solid var(--color-RemoGray01)}.label.__jsx-style-dynamic-selector{margin-bottom:1em;font-weight:600;font-size:18px;color:var(--color-RemoGreen)}.reward.__jsx-style-dynamic-selector{margin:32px 32px 0;padding:8px 16px!important;-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);background:var(--color-RemoGreen);color:white;font-weight:500}")})]})},G=(0,k.ZL)({courseSummary:{padding:"32px"},courseSummaryResponsive:{["@media (max-width: ".concat(_.Et,")")]:{height:"calc(100% - 87px)",overflowY:"scroll"}},courseSummaryActions:{marginTop:"64px",display:"flex",alignItems:"center"},courseSummaryActionsResponsive:{["@media (max-width: ".concat(_.Et,")")]:{flexDirection:"column",marginTop:"0"}},courseSummaryIntro:{lineHeight:"2em"},courseSummaryList:{margin:"32px 0"}}),CourseSummary=e=>{var t,i,s,n;let o;let c=G(),{course:a,handleReviewCourse:d,handleCompleteSupplementalCourse:u,returnUrl:p,query:m}=e,{t:h,i18n:g}=(0,C.$G)("course"),b=getLocalizedValue("title",g.language,a),f=getLocalizedValue("sections",g.language,a);return e.course.isCertification&&(o=((null===(n=e.courseProgress.certificationInfo)||void 0===n?void 0:null===(s=n.certificationPassedSections)||void 0===s?void 0:s.length)||0)/e.course.sections.filter(e=>y.Z0.includes(e.type)).length),(0,r.jsxs)("div",{className:T()(c.courseSummary,{[c.courseSummaryResponsive]:e.responsive}),children:[!e.course.isCertification&&(0,r.jsx)("div",{className:c.courseSummaryIntro,children:l().isEmpty(a.summaryMessageOnCompletionOrCertificationPass)?(0,r.jsxs)("div",{children:[h("done-great-job")," ",(0,r.jsx)("strong",{children:b}),"."]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:x.ZP.render(a.summaryMessageOnCompletionOrCertificationPass||"")}})}),e.course.isCertification?(null===(i=e.courseProgress)||void 0===i?void 0:null===(t=i.certificationInfo)||void 0===t?void 0:t.certificationPassed)?(0,r.jsx)("div",{children:l().isEmpty(a.summaryMessageOnCompletionOrCertificationPass)?(0,r.jsxs)("div",{children:[h("passed-the-certification")," ",(0,r.jsx)("strong",{children:b}),".",!e.course.useCertificationScoreSumThreshold&&(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),h("certification-accuracy")," ",(0,r.jsxs)("strong",{children:[Math.floor((null!=o?o:0)*100),"%"]}),"."]})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:x.ZP.render(a.summaryMessageOnCompletionOrCertificationPass||"")}})}):(0,r.jsx)("div",{children:l().isEmpty(a.summaryMessageOnCertificationFail)?(0,r.jsxs)("div",{children:[h("failed-the-certification")," ",(0,r.jsx)("strong",{children:b}),".",!e.course.useCertificationScoreSumThreshold&&(0,r.jsxs)("div",{children:[(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),h("certification-accuracy")," ",(0,r.jsxs)("strong",{children:[Math.floor((null!=o?o:0)*100),"%"]}),"."]})]}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:x.ZP.render(a.summaryMessageOnCertificationFail||"")}})}):null,!e.course.isCertification&&(0,r.jsx)("div",{className:c.courseSummaryList,children:l().map(f,(e,t)=>(0,r.jsx)(CourseSummaryTitle,{section:e},t))}),(0,r.jsx)("div",{className:T()(c.courseSummaryActions,{[c.courseSummaryActionsResponsive]:e.responsive}),children:(0,r.jsx)(CourseSummaryActions,{query:m,returnUrl:p,onContinueTasking:u,disableReview:!!e.course.isCertification,onReviewCourse:d,responsive:e.responsive,redirectURLUponCourseCompletion:e.course.redirectURLUponCourseCompletion})})]})},CourseSummaryTitle=e=>{let{section:t}=e;return(0,r.jsxs)("div",{className:"jsx-82a33bba39b72bc7 section",children:[(0,r.jsx)("strong",{className:"jsx-82a33bba39b72bc7",children:(0,r.jsx)(u.FontAwesomeIcon,{icon:"check"})}),t.title,(0,r.jsx)(c(),{id:"82a33bba39b72bc7",children:".section.jsx-82a33bba39b72bc7{margin:24px 0}.section.jsx-82a33bba39b72bc7 strong.jsx-82a33bba39b72bc7{-webkit-padding-end:12px;-moz-padding-end:12px;padding-inline-end:12px;color:var(--color-RemoGreen)}"})]})},M=(0,k.ZL)({divider:{width:"16px"},dividerResponsive:{["@media (max-width: ".concat(_.Et,")")]:{height:"16px"}}}),CourseSummaryActions=e=>{let t=M(),{query:i,returnUrl:s,disableReview:o,onContinueTasking:c,onReviewCourse:a,redirectURLUponCourseCompletion:l}=e,{t:d}=(0,C.$G)("course"),u=null;if(s){let e=s.replace(/[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]/gi,""),t=i.redirect_url?i.redirect_url.replace(/[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]/gi,""):"";u=(0,r.jsx)(f.zx,{type:"primary",href:t?"".concat(e,"?redirect_url=").concat(t):e,onClick:()=>{P.c.track("Training - Completes course")},children:"Continue"})}else u=l?(0,r.jsx)(f.zx,{type:"primary",href:l,onClick:()=>{P.c.track("Training - Completes course")},children:"Continue"}):c?(0,r.jsx)(f.zx,{type:"primary",onClick:()=>{P.c.track("Training - Completes course"),c()},children:"Continue Tasking"}):(0,r.jsx)(f.zx,{type:"primary",href:"/tasks",onClick:()=>{P.c.track("Training - Completes course")},children:d("start-tasking")});return(0,r.jsxs)(n.Fragment,{children:[u,(0,r.jsx)("div",{className:T()(t.divider,{[t.dividerResponsive]:e.responsive})}),!o&&(0,r.jsx)(f.zx,{onClick:a,children:d("review-course")})]})},SupplementalCourseHeader=e=>{let{t}=(0,C.$G)("course"),{course:i}=e;return(0,r.jsxs)("div",{className:"jsx-9e0ecbc44965fbe4 queue-course-title",children:[(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:"".concat(t("intro-top")," <strong>").concat(l().join(i.permissionGroupsBlocked,", "),"</strong> project.")},className:"jsx-9e0ecbc44965fbe4"}),(0,r.jsx)("a",{href:"https://remotasks.zendesk.com/hc/articles/360022619273-Courses-Will-Now-Appear-While-Tasking",target:"_blank",rel:"noopener noreferrer",className:"jsx-9e0ecbc44965fbe4 btn-clear",children:t("intro-learn-more")}),(0,r.jsx)(c(),{id:"9e0ecbc44965fbe4",children:".queue-course-title.jsx-9e0ecbc44965fbe4{padding:16px 32px;background-color:var(--color-RemoGreen);color:white;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.btn-clear.jsx-9e0ecbc44965fbe4{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:block;-webkit-padding-start:16px;-moz-padding-start:16px;padding-inline-start:16px;padding:8px 16px;-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);background:rgba(255,255,255,.1);color:white;font-weight:500;cursor:pointer}"})]})};let Course=class Course extends n.Component{componentDidMount(){this.props.userFromGetInitialProps&&this.props.actions.fetchCurrentUser(this.props.userFromGetInitialProps),this.props.query.id&&this.props.actions.fetchCourse(this.props.query.id,this.props.query.tag),window.addEventListener("beforeunload",this.handleUnmount)}async componentDidUpdate(e){let{course:t,courseProgress:i}=this.props.training;if(!l().isEmpty(t)&&!l().isEmpty(i)){var s;if(this.state.currentSection===t.sections.length&&this.timerID){clearInterval(this.timerID),this.state.certificationTimeRemainingSecs&&this.setState({certificationTimeRemainingSecs:void 0});return}(null===(s=i.certificationInfo)||void 0===s?void 0:s.certificationTimeRemainingSecs)&&(void 0===this.state.certificationTimeRemainingSecs&&this.setState({certificationTimeRemainingSecs:i.certificationInfo.certificationTimeRemainingSecs}),null===this.timerID&&-1!==this.state.currentSection&&this.state.currentSection!==t.sections.length&&void 0!==this.state.certificationTimeRemainingSecs&&(this.timerID=setInterval(()=>{let e=this.state.certificationTimeRemainingSecs;e>0?this.setState({certificationTimeRemainingSecs:e-1}):this.props.actions.certificationTimeRemainingSecsSync(i._id,0)},1e3)))}let r=l().get(e,["training","courseProgress","currentSection"]),n=l().get(this.props,["training","courseProgress","currentSection"]);if(void 0!==n&&n!==r){this.setState({currentSection:n});return}}componentWillUnmount(){this.handleUnmount()}handleUnmount(){void 0!==this.state.certificationTimeRemainingSecs&&this.props.actions.certificationTimeRemainingSecsSync(this.props.training.courseProgress._id,this.state.certificationTimeRemainingSecs),clearInterval(this.timerID)}handleStart(){var e;this.props.actions.beginCourse(this.props.training.course._id,this.props.permissionId),P.c.track("Course Started",{user:null===(e=this.props.user)||void 0===e?void 0:e._id,courseId:this.props.training.course._id})}handlePrevious(){this.state.currentSection>0&&this.setState({currentSection:this.state.currentSection-1})}handleContinue(e){var t,i;this.props.actions.continueCourse(this.props.training.courseProgress._id,{...e,certificationTimeRemainingSecs:this.state.certificationTimeRemainingSecs,currentSectionState:this.state.currentSection});let s=this.state.isReviewing?this.state.currentSection:null!==(i=null===(t=this.props.training.courseProgress)||void 0===t?void 0:t.currentSection)&&void 0!==i?i:this.state.currentSection;this.setState({currentSection:s+1})}handleSectionNavigate(e){var t;let i=!!(null===(t=this.props.training.course.initialTestInfo)||void 0===t?void 0:t.isInitialTest);i||this.setState({currentSection:e})}handleReviewCourse(){this.setState({currentSection:0,isReviewing:!0})}renderCourseSection(){var e;let{course:t,courseProgress:i}=this.props.training;if(this.state.currentSection>=t.sections.length)return(0,r.jsx)(CourseSummary,{query:this.props.query,responsive:this.props.mobile,course:t,courseProgress:i,returnUrl:this.props.returnUrl,handleReviewCourse:()=>this.handleReviewCourse(),handleCompleteSupplementalCourse:this.props.handleCompleteSupplementalCourse});let s=getLocalizedValue("sections",this.props.i18n.language,t),o=s[this.state.currentSection];return(0,n.createElement)(b.ZP,{responsive:this.props.mobile,...o,sectionIndex:this.state.currentSection,course:t,actions:this.props.actions,handlePrevious:this.handlePrevious,canAlwaysContinue:this.state.currentSection<i.currentSection||t.isCertification&&![O.CourseSectionType.Scenario,O.CourseSectionType.AccountVerification,O.CourseSectionType.Video].includes(o.type),handleContinue:this.handleContinue,key:this.state.currentSection,userFlags:null===(e=this.props.user)||void 0===e?void 0:e.featureFlags,user:this.props.user})}renderCourse(){let{training:e,isInQueue:t,assignments:i,courseId:s}=this.props;if(e.isLoading)return(0,r.jsxs)("div",{className:"jsx-8d3b96866fe1f577 loading",children:[(0,r.jsx)(v.Z,{}),(0,r.jsx)(c(),{id:"8d3b96866fe1f577",children:".loading.jsx-8d3b96866fe1f577{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:100px}"})]});if(this.props.training.courseError)return(0,r.jsxs)("div",{className:"jsx-5b15d25ab31919c5 content",children:[(0,r.jsxs)("h2",{className:"jsx-5b15d25ab31919c5",children:[(0,r.jsx)(u.FontAwesomeIcon,{icon:"exclamation-circle",color:"var(--color-RemoRed)"}),"\xa0 There was an error loading this course"]}),(0,r.jsx)("p",{className:"jsx-5b15d25ab31919c5",children:this.props.training.courseError}),(0,r.jsx)(c(),{id:"5b15d25ab31919c5",children:".content.jsx-5b15d25ab31919c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:100px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}"})]});let n=l().get(i,[0,"courseList"],[]),o=n.indexOf(s);if(-1===this.state.currentSection)return(0,r.jsx)(CourseIntro,{...e,actions:this.props.actions,isInQueue:t,numCourses:n.length-o,query:this.props.query,permissionId:this.props.permissionId,onCourseStart:this.handleStart.bind(this)});let a=l().get(this.props,["training","courseProgress","certificationInfo","certificationAttemptsSections"],[]),d=e.courseProgress.currentSection===this.state.currentSection&&(a[this.state.currentSection]||0)>=1;return(0,r.jsxs)("div",{className:T()({[this.props.classes.courseWrapperResponsive]:this.props.mobile}),children:[(0,r.jsx)(CourseHeader,{...e,currentSection:this.state.currentSection,handleSectionNavigate:this.handleSectionNavigate,isInQueue:t,certificationTimeRemainingSecs:this.state.certificationTimeRemainingSecs,responsive:this.props.mobile}),d&&(0,r.jsx)(I.bZ,{severity:"warning",style:{margin:"1rem"},children:"Ooops! That doesn't seem right. Please try again."}),this.renderCourseSection()]})}render(){return(0,r.jsx)("div",{className:this.props.classes.coursePage,children:(0,r.jsxs)("div",{className:this.props.classes.courseContainer,children:[!this.props.isInQueue&&(0,r.jsx)(GlobalCourseHeader,{responsive:this.props.mobile,...this.props.training}),(0,r.jsx)("div",{className:T()(this.props.classes.courseCard,{[this.props.classes.courseCardResponsive]:this.props.mobile}),children:this.renderCourse()})]})})}constructor(e){super(e),this.timerID=null,this.state={currentSection:-1,isReviewing:!1},(0,g.Z)(this,"handlePrevious","handleContinue","handleSectionNavigate","handleUnmount")}};let getLocalizedValue=(e,t,i)=>t===y._J.English||!y.V2.includes(e)||l().isEmpty((i.localizedContent||{})[t])?l().get(i,e):l().get(i.localizedContent,[t,e]),D=(0,I.kc)({coursePage:{height:"100%",width:"100vw",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",background:"var(--color-RemoGray01)"},courseContainer:{width:"80vw",maxWidth:"1080px",padding:"64px 0",["@media (max-width: ".concat(_.Et,")")]:{padding:0,width:"100vw",height:"100vh"}},courseContainerResponsive:{["@media (max-width: ".concat(_.Et,")")]:{height:"100%",padding:"32px",width:"100%"}},courseCard:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.05)",borderRadius:"var(--border-radius)",background:"white",overflow:"hidden"},courseCardResponsive:{["@media (max-width: ".concat(_.Et,")")]:{height:"100%",overflow:"scroll"}},courseWrapperResponsive:{["@media (max-width: ".concat(_.Et,")")]:{height:"100%"}}});t.Z=(0,C.Zh)("course")((0,I.D2)(D)((s=(0,L.ZP)(Course),e=>{let t=(0,N.Z)("(max-width: ".concat(_.Et,")"));return(0,r.jsx)(s,{mobile:t,...e})})))},644470:function(e,t,i){i.d(t,{K:function(){return mapStateToProps},ZP:function(){return LegacyTasksReduxRoot},ZS:function(){return mapDispatchToProps}});var s=i(824246),r=i(298784),n=i.n(r),o=i(827378),c=i(232463),a=i(935870),l=i(25207),d=i(580149),u=i(120019),p=i(43616),m=i(242095),h=i(793589),g=i(483717),x=i(809366);let extractFunctions=e=>n().pickBy(e,n().isFunction),extractActions=e=>extractFunctions(e);function mapStateToProps(e){var t,i,s,r;return{user:e.user,batch:e.batch,batchStatus:e.batch.status,assignments:e.batch.assignments,claims:e.batch.claims,training:e.training,forceFixAssignment:e.batch.forceFixAssignment,postCompletionFeedback:e.batch.postCompletionFeedback,previousInstructiveAttemptResponse:e.batch.previousInstructiveAttemptResponse,previousInstructiveAttemptId:e.batch.previousInstructiveAttemptId,perProjectAccuracies:e.batch.perProjectAccuracies,perProjectTopMistakes:e.batch.perProjectTopMistakes,perProjectInstructionItemAccuracies:e.batch.perProjectInstructionItemAccuracies,perProjectInstructionItemLastSeen:e.batch.perProjectInstructionItemLastSeen,perProjectPassRate:e.batch.perProjectPassRate,currentProjectAccuracyBucket:e.batch.currentProjectAccuracyBucket,readyForTasking:null===(t=e.batch.readyForTasking)||void 0===t||t,skippedTask:null!==(i=e.batch.skippedTask)&&void 0!==i&&i,precalculatedPay:null!==(s=e.batch.precalculatedPay)&&void 0!==s?s:null,isExitingTask:null!==(r=e.batch.isExitingTask)&&void 0!==r&&r}}function mapDispatchToProps(e){let t=extractActions(m);return{actions:(0,l.DE)(t,e)}}let b=(0,l.UY)(extractFunctions(h)),f=(0,l.md)(a.Z),v=(0,l.MT)(b,f);let LegacyTasksReduxRoot=class LegacyTasksReduxRoot extends o.Component{componentDidMount(){g.Z.flushExpired(),m.fetchApi("/scaler/ping"),setInterval(()=>m.fetchApi("/scaler/ping"),3e5)}render(){let{children:e}=this.props;return(0,s.jsxs)("div",{style:{height:"100%"},children:[this.props.isExpert?(0,s.jsx)(x.Z,{}):(0,s.jsx)(d.Z,{}),(0,s.jsx)(u.Z,{}),(0,s.jsx)(p.Z,{}),(0,s.jsx)(c.zt,{store:v,children:e})]})}}},793589:function(e,t,i){i.r(t),i.d(t,{ACTIVE:function(){return d},ENDED:function(){return u},PENDING:function(){return l},batch:function(){return batch},training:function(){return training},user:function(){return user}});var s=i(298784),r=i.n(s),n=i(791257),o=i(599789),c=i(242095),a=i(290408);let l="PENDING",d="ACTIVE",u="ENDED",p={assignments:[],claims:{},status:l},getAssignmentId=e=>e.assignmentType!==o.AssignmentType.Course&&(0,n.isLegacyReviewAssignment)(e)?e.attemptId:e._id;function batch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.EXTEND_BATCH:{let i=new Set(r().keys(e.claims)),s=e.assignments?e.assignments.slice():[];s=s.concat(t.assignments.filter(e=>!i.has(getAssignmentId(e))));let n=Object.assign({},function(e){let t={};for(let i of e){let e=new Date,s=getAssignmentId(i);t[s]={claimed:!0,claimedUntil:e,checkedAtClientTime:e,checkedAt:e,idleMinutes:1,maxClaim:new Date(Date.now()+864e5)}}return t}(s),e.claims);return Object.assign({},e,{assignments:s,claims:n,status:s.length?d:u})}case c.UPDATE_CLAIMS:{let{currentPageHasEditLock:i,otherUserHasLock:s,canOverride:n}=t,o=Object.assign(e.claims,t.claims);return Object.assign({},e,{claims:o,otherUserHasLock:s,canOverrideEditLock:n},r().isBoolean(i)?{currentPageHasEditLock:i}:{})}case c.UPDATE_PROJECT_BENCHMARK_METRICS:{let i=t.perProjectBenchmarkMetrics;return Object.assign({},e,i)}case c.CONFIRM_READY_FOR_NEXT_TASK:return Object.assign({},e,{readyForTasking:!0,skippedTask:!1,precalculatedPay:null});case c.AWAIT_CONFIRMATION_FOR_TASKING:return Object.assign({},e,{readyForTasking:!1});case c.AWAIT_CONFIRMATION_FOR_SKIP_TASK:return Object.assign({},e,{readyForTasking:!1,skippedTask:!0});case c.NEXT_ASSIGNMENT:case c.SKIP_ASSIGNMENT:case c.REPORT_ASSIGNMENT:case c.FLAG_ASSIGNMENT:{let t=e.assignments.length>1;if(t)return Object.assign({},e,{assignments:e.assignments.slice(1),forceFixAssignment:null});return Object.assign({},e,{assignments:[],status:l,forceFixAssignment:null})}case c.COMPLETE_ASSIGNMENTS:{let i=e.assignments.length-t.assignments.length>1;if(i)return Object.assign({},e,{assignments:r().difference(e.assignments,t.assignments),forceFixAssignment:null});return Object.assign({},e,{assignments:[],status:l,forceFixAssignment:null})}case c.SHOW_CORRUPTION_FEEDBACK:{let i=Object.assign({},e);return r().get(i,["claims",t.corruptionFeedbackAttempt,"corruptionFeedback"])&&(i.claims[t.corruptionFeedbackAttempt].corruptionFeedback=Object.assign(t.corruptionFeedback,{postReviewSubmission:!0,confidenceAction:t.confidenceAction,reviewTimeSecs:t.reviewTimeSecs})),i}case c.SHOW_POST_COMPLETION_FEEDBACK:return Object.assign({},e,{postCompletionFeedback:t.postCompletionFeedback});case c.COMPLETE_INSTRUCTIVE:if(!r().isEmpty(t.instructiveResponse)){let i=r().last(t.instructiveResponse.newInstructiveAttempts),s=r().get(i,"response")||r().get(t.instructiveResponse,"response"),n=!t.instructiveResponse.submitted;return Object.assign({},e,{forceFixAssignment:n,previousInstructiveAttemptResponse:s,previousInstructiveAttemptId:t.instructiveResponse._id.toString()})}return e;case c.SET_PRECALCULATED_PAY:return Object.assign({},e,{precalculatedPay:t.precalculatedPay});case c.SET_BONUSES:{let i=r().groupBy(e.bonuses,"_id"),s=r().map(e.newBonuses,"_id"),n=[];return t.first||(n=r().filter(t.bonuses,e=>(0,a.L)(e)&&(!r().has(i,e._id)||!(0,a.L)(i[e._id][0]))&&!r().includes(s,e._id))),Object.assign({},e,{bonuses:t.bonuses,newBonuses:r().concat(e.newBonuses||[],n)})}case c.DISPLAY_NEW_BONUS:{let i=r().filter(e.newBonuses,e=>e._id!==t.bonus._id);return Object.assign({},e,{newBonuses:i})}default:return e}}function user(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===c.SET_CURRENT_USER?t.user:e}let m={isLoading:!0,course:{},courseProgress:{},courseError:null};function training(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.TRAINING_ACTIONS.SET_LOADING:return Object.assign({},e,{isLoading:t.isLoading});case c.TRAINING_ACTIONS.SET_COURSE:return!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r().find(r().get(e,"sections"),e=>e.type===o.CourseSectionType.InstructionList);e.instructionList=r().get(t,"contents.instructionList")}(t.course),Object.assign({},e,{course:t.course});case c.TRAINING_ACTIONS.SET_COURSE_PROGRESS:return Object.assign({},e,{courseProgress:t.courseProgress});case c.TRAINING_ACTIONS.SET_COURSE_ERROR:return Object.assign({},e,{courseError:t.courseError});default:return e}}}}]);