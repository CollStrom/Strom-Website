"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61512],{879150:function(e,t,s){var i=s(824246),n=s(827378),a=s(663307),o=s(398450),r=s(230257),c=s(352991);t.Z=e=>{let{user:t,setCanContinue:s,courseId:l,contents:d}=e,[h,u]=(0,n.useState)(),[p,m]=(0,n.useState)(),[x,f]=(0,n.useState)({blocked:!1,reason:void 0}),[g,b]=(0,n.useState)(!1),{continueCriteria:y}=d,v=(0,n.useCallback)(e=>{let t=new Date(e.startTime);u(t),(y===a.K2.SCHEDULED||y===a.K2.COMPLETED&&e.endTime&&new Date>new Date(e.endTime))&&s(!0)},[y,s]),j=(0,n.useCallback)(async()=>{try{let e=await (0,c.ZP)(null,"/internal/courses/".concat(l,"/interviewBlocked"));f(e)}catch(e){(0,c.cF)(e,"Failed to check interviewee status.");return}},[f,l]),w=(0,n.useCallback)(async()=>{let e;try{e=await (0,c.ZP)(null,"/internal/courses/".concat(l,"/scheduledInterviews"))}catch(e){(0,c.cF)(e,"Failed to fetch scheduled interviews for user."),u(void 0);return}e.scheduledInterviews.length?v(e.scheduledInterviews[0]):u(null)},[v,l]),k=(0,n.useCallback)(async()=>{try{let e=await (0,c.ZP)(null,"/internal/courses/".concat(l,"/interviewLink"));m(e.calendlySchedulingLink)}catch(e){(0,c.cF)(e,"Failed to fetch booking link for user."),m(void 0);return}},[m,l]);if((0,r.pv)({onEventScheduled:async()=>{y===a.K2.SCHEDULED&&s(!0)}}),(0,n.useEffect)(()=>{let fetchState=async()=>{b(!0),await Promise.all([j(),w(),k()]),b(!1)};t.banReason||fetchState()},[w,t.banReason,k,j]),g)return(0,i.jsx)(o.Z,{});if(t.banReason||x.blocked)return(0,i.jsxs)("div",{children:["You are ineligible to schedule an interview at this time. ",x.reason||""]});if(h){let e=h.toLocaleString();return new Date>h?(0,i.jsxs)("div",{children:["You interviewed with Scale at ",e,". You should hear from the team shortly."]}):(0,i.jsxs)("div",{children:["You are scheduled to interview with Scale on ",e,". See you then!"]})}if(!p)return(0,i.jsx)("div",{children:"There was an issue loading the Calendly widget. Please try again."});let C=t.email.replace("+outlier","");return(0,i.jsx)(r.KS,{url:p,prefill:{email:C,firstName:t.firstName,lastName:t.lastName,name:t.firstName+" "+t.lastName,smsReminderNumber:t.phoneNumber}})}},631913:function(e,t,s){var i=s(824246),n=s(674721),a=s.n(n);s(827378),t.Z=()=>(0,i.jsx)("div",{className:"jsx-ef428a7cc429b7a2",children:(0,i.jsx)(a(),{id:"ef428a7cc429b7a2",children:".social-button{color:white;font-size:14px;text-align:start;background:#333;margin-bottom:14px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;overflow:hidden;-webkit-transition:all 100ms ease-out;-moz-transition:all 100ms ease-out;-o-transition:all 100ms ease-out;transition:all 100ms ease-out}.social-button:hover{-webkit-filter:brightness(95%);filter:brightness(95%)}.social-button:active{-webkit-filter:brightness(95%);filter:brightness(95%)}.social-button .social-button-icon{width:46px;height:46px;background-position:center;background-repeat:no-repeat;-webkit-background-size:18px 18px;-moz-background-size:18px 18px;-o-background-size:18px 18px;background-size:18px 18px;display:inline-block;vertical-align:middle;-webkit-box-flex:0;-webkit-flex-grow:0;-moz-box-flex:0;-ms-flex-positive:0;flex-grow:0}.social-button .social-button-icon.github-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOSAxOCI+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTkuNSAwQTkuMzcgOS4zNyAwIDAgMCAwIDkuMjNhOS4yNiA5LjI2IDAgMCAwIDYuNSA4Ljc1Yy40Ny4wOS42NS0uMi42NS0uNDRsLS4wMi0xLjcyYy0yLjY0LjU2LTMuMi0xLjA5LTMuMi0xLjA5LS40My0xLjA2LTEuMDUtMS4zNS0xLjA1LTEuMzUtLjg3LS41Ny4wNi0uNTYuMDYtLjU2Ljk2LjA3IDEuNDYuOTUgMS40Ni45NS44NSAxLjQxIDIuMjIgMSAyLjc2Ljc3LjA5LS42LjM0LTEgLjYtMS4yMy0yLjEtLjI0LTQuMzItMS4wMy00LjMyLTQuNTYgMC0xLjAxLjM3LTEuODMuOTgtMi40OC0uMS0uMjMtLjQzLTEuMTcuMDktMi40NCAwIDAgLjgtLjI1IDIuNjEuOTRhOS4zIDkuMyAwIDAgMSA0Ljc2IDBjMS44MS0xLjIgMi42LS45NCAyLjYtLjk0LjUzIDEuMjcuMiAyLjIuMSAyLjQ0LjYxLjY1Ljk4IDEuNDcuOTggMi40OCAwIDMuNTQtMi4yMiA0LjMyLTQuMzQgNC41NS4zNC4yOS42NS44NS42NSAxLjdsLS4wMiAyLjU0YzAgLjI1LjE4LjUzLjY2LjQ0QTkuMjYgOS4yNiAwIDAgMCAxOSA5LjIzQzE5IDQuMTMgMTQuNzUgMCA5LjUgMHoiLz48L3N2Zz4=)}.social-button .social-button-icon.google-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOCAxOCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjNDI4NUY0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNy42NCA5LjJjMC0uNjMtLjA2LTEuMjUtLjE2LTEuODRIOXYzLjQ5aDQuODRhNC4xNCA0LjE0IDAgMCAxLTEuOCAyLjcxdjIuMjZoMi45MmE4Ljc4IDguNzggMCAwIDAgMi42OC02LjYyeiIvPjxwYXRoIGZpbGw9IiMzNEE4NTMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTkgMThhOC42IDguNiAwIDAgMCA1Ljk2LTIuMThsLTIuOTEtMi4yNmE1LjQgNS40IDAgMCAxLTguMDktMi44NWgtM3YyLjMzQTkgOSAwIDAgMCA5IDE4eiIvPjxwYXRoIGZpbGw9IiNGQkJDMDUiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTMuOTYgMTAuNzFhNS40MSA1LjQxIDAgMCAxIDAtMy40MlY0Ljk2aC0zYTkgOSAwIDAgMCAwIDguMDhsMy0yLjMzeiIvPjxwYXRoIGZpbGw9IiNFQTQzMzUiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTkgMy41OGMxLjMyIDAgMi41LjQ1IDMuNDQgMS4zNWwyLjU4LTIuNTlBOSA5IDAgMCAwIC45NiA0Ljk1bDMgMi4zNEE1LjM2IDUuMzYgMCAwIDEgOSAzLjU4eiIvPjxwb2x5Z29uIHBvaW50cz0iMCAwIDE4IDAgMTggMTggMCAxOCIvPjwvZz48L3N2Zz4=)}.social-button .social-button-icon.linkedin-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNNC45OCAzLjVjMCAxLjM4MS0xLjExIDIuNS0yLjQ4IDIuNXMtMi40OC0xLjExOS0yLjQ4LTIuNWMwLTEuMzggMS4xMS0yLjUgMi40OC0yLjVzMi40OCAxLjEyIDIuNDggMi41em0uMDIgNC41aC01djE2aDV2LTE2em03Ljk4MiAwaC00Ljk2OHYxNmg0Ljk2OXYtOC4zOTljMC00LjY3IDYuMDI5LTUuMDUyIDYuMDI5IDB2OC4zOTloNC45ODh2LTEwLjEzMWMwLTcuODgtOC45MjItNy41OTMtMTEuMDE4LTMuNzE0di0yLjE1NXoiLz48L3N2Zz4=)}.social-button .social-button-text{letter-spacing:.5px;font-weight:bold;line-height:46px;height:46px;-webkit-padding-start:12px;-moz-padding-start:12px;padding-inline-start:12px;position:relative;-webkit-box-flex:2;-webkit-flex-grow:2;-moz-box-flex:2;-ms-flex-positive:2;flex-grow:2}.social-button.google-button{-webkit-padding-start:4px;-moz-padding-start:4px;padding-inline-start:4px;background:#f5f5f5}.social-button.google-button .social-button-text{color:#404040;background-color:#f5f5f5}.social-button.github-button{background:#222}.social-button.github-button .social-button-text{background-color:#333}.social-button.saml-button{background:#3c2697}.social-button.saml-button .social-button-text{color:white;background-color:#116}.social-button.linkedin-button{-webkit-padding-start:4px;-moz-padding-start:4px;padding-inline-start:4px;background:#f5f5f5}.social-button.linkedin-button .social-button-text{color:#404040;background-color:#f5f5f5}"})})},127643:function(e,t,s){var i=s(824246),n=s(827378),a=s(122826),o=s(99562);let r=(0,o.ZL)(e=>({container:t=>{let{fullWidth:s}=t;return{border:"1px solid",borderColor:e.colors.gray20,borderRadius:e.spacing(1),padding:"16px",margin:s?"16px 0px 16px 0px":"16px",width:s?"100%":"90%"}},title:{color:"#000000",fontWeight:500,fontSize:"14px",lineHeight:"20px",marginTop:"4px",marginBottom:"12px",display:"inline-block"}}));t.Z=e=>{let{title:t,fullWidth:s,originalText:o,originalTextColor:c,addedDiffColor:l,newText:d,className:h,alwaysShowOriginalText:u}=e,p=r({fullWidth:s}),m=(0,n.useMemo)(()=>{if(o&&(d||u)){let e=new a.diff_match_patch,t=e.diff_main(o,d||"");e.diff_cleanupSemantic(t);let s=t.map((e,t)=>{let s=1===e[0]?l||"#bfb":void 0,n=-1===e[0]?"line-through":void 0,a=1===e[0]||-1===e[0]?"black":c||"#888";return(0,i.jsx)("span",{style:{backgroundColor:s,color:a,textDecoration:n,textDecorationColor:"maroon"},children:e[1]},"diff_".concat(t))});return s}},[o,d]);return(0,i.jsx)("div",{className:h||"",children:(0,i.jsxs)("div",{className:p.container,children:[t&&(0,i.jsxs)("span",{className:p.title,children:[t," (diff)"]}),(0,i.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:m})]})})}},955532:function(e,t,s){s.d(t,{eH:function(){return ea},vx:function(){return en},sw:function(){return AccountVerificationWrapper},vC:function(){return TaxonomyPreview},ZP:function(){return eI}});var i=s(824246),n=s(674721),a=s.n(n),o=s(298784),r=s.n(o),c=s(161320),l=s.n(c),d=s(827378),h=s(107873),u=s(792739),p=s(242095),m=s(924364),x=s(608139),f=s.n(x),g=s(106860),b=s(599789),y=s(663307),v=s(751024),j=s(165168),w=s(163543),k=s(119875),C=s(156075),S=s(436878),T=s(64499),A=s(347785),I=s(60042),N=s.n(I),L=s(320280),E=s(220373),_=s(265136),M=s(336235),D=s(271351),R=s(450755),P=s(753332),z=s(557299);let PreviousAttemptsList=e=>{let{previousAttempts:t,browseAttempt:s}=e;return(0,i.jsx)(R.Z,{children:t.map(e=>{let{_id:t,createdAt:n,accuracy:a,passedBar:o,submitted:r}=e,c=l()(n).format("LL"),d=t?t.toString():"";return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(P.Z,{alignItems:"flex-start",children:[(0,i.jsx)(z.Z,{primary:c,secondary:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("b",{children:"Status:"})," ",o?"Passed":r?"Failed":"Pending",", ",(0,i.jsx)("b",{children:"Accuracy:"})," ",a?"".concat(100*a,"%"):"0%",","," ",(0,i.jsx)("b",{children:"Submitted:"})," ",r?"Yes":"No"]})}),(0,i.jsx)(h.zx,{type:"secondary",style:{alignSelf:"center"},onClick:()=>s(d),children:"Browse Attempt"})]})})})})};var training_PreviousAttemptsDialog=e=>{let{open:t,onClose:s,previousAttempts:n,newAttemptURL:a}=e,browseAttempt=e=>{window.open("".concat(a,"/").concat(e),"_blank")};return(0,i.jsxs)(L.Vq,{open:t,onClose:s,children:[(0,i.jsx)(L.$N,{children:"Hello again!"}),(0,i.jsxs)(L.cZ,{children:[(0,i.jsx)(L.H3,{children:"It looks like you have already tried this scenario."}),(0,i.jsx)("br",{}),(0,i.jsx)(L.xv,{children:"Here is a list of all your previous attempts. Feel free to access them and continue from there!"}),(0,i.jsx)("br",{}),(0,i.jsx)(PreviousAttemptsList,{previousAttempts:n,browseAttempt:browseAttempt})]}),(0,i.jsxs)(L.kX,{children:[(0,i.jsx)(h.zx,{type:"primary",onClick:s,children:"Cancel"}),(0,i.jsx)(h.zx,{type:"primary",onClick:()=>browseAttempt(a),children:"Create new attempt"})]})]})},O=s(596956),V=s(496728),B=s(252708),F=s.n(B),U=s(512325),q=s(127643),Z=s(795115),H=s(692975),Y=s(44468);let CustomReactPlayer=e=>{let t;let s=G(),[n,a]=(0,d.useState)(1),[o,r]=(0,d.useState)(0),[c,l]=(0,d.useState)(!1),[h,p]=(0,d.useState)(!0),[m,x]=(0,d.useState)(!1),[f,g]=(0,d.useState)(.5),[b,y]=(0,d.useState)(0),[v,j]=(0,d.useState)(0);return(0,d.useEffect)(()=>{let e=document.getElementById("reactVideoPlayerRef");e&&e.addEventListener("contextmenu",e=>e.preventDefault())},[t]),(0,i.jsxs)("div",{className:s.videoWrapper,children:[(0,i.jsx)(H.Z,{width:"100%",id:"reactVideoPlayerRef",ref:e=>{t=e},controls:!e.displayCustomControls,url:e.url,playing:c,playbackRate:n,volume:e.displayCustomControls?m?0:f:void 0,onPlay:()=>{l(!0),p(!1)},onPause:()=>{l(!1),p(!0)},onEnded:e.onEnded,onDuration:r,progressInterval:2.5,onProgress:e=>{y(e.playedSeconds),e.playedSeconds>v&&j(e.playedSeconds)},config:e.config}),e.displayCustomControls&&(0,i.jsxs)("div",{className:s.customControls,children:[(0,i.jsx)(Y.Z,{onClick:()=>{p(!h),l(!c)},children:(0,i.jsx)(u.FontAwesomeIcon,{color:"white",size:"sm",icon:c?"pause":"play"})}),(0,i.jsx)(Y.Z,{onClick:()=>{a(Math.max(n-.25,.25))},children:(0,i.jsx)(u.FontAwesomeIcon,{color:"white",size:"sm",icon:"backward"})}),n,"x",(0,i.jsx)(Y.Z,{onClick:()=>{a(Math.min(n+.25,2))},children:(0,i.jsx)(u.FontAwesomeIcon,{color:"white",size:"sm",icon:"forward"})}),(0,i.jsx)("div",{className:s.progressBar,children:(0,i.jsx)(L.iR,{position:b,onAdjust:s=>{t&&(e.allowSkimming||s<=v?t.seekTo(s,"seconds"):t.seekTo(v,"seconds"))},minVal:0,maxVal:o})}),(0,i.jsx)(Y.Z,{onClick:()=>{x(!m)},children:(0,i.jsx)(u.FontAwesomeIcon,{color:"white",size:"sm",icon:m?"volume-mute":"volume-up"})}),(0,i.jsx)("div",{className:s.volumeProgressBar,children:(0,i.jsx)(L.iR,{onAdjust:e=>{g(e),e>0?x(!1):x(!0)},position:f,minVal:0,maxVal:1,disabled:!1})})]})]})},G=(0,E.Z)(()=>({videoWrapper:{position:"relative",width:"100%"},customControls:{position:"absolute",bottom:0,left:0,width:"100%",color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",padding:8,display:"flex",justifyContent:"space-between",alignItems:"center"},playButton:{background:"none",border:"none",color:"white",cursor:"pointer"},pauseButton:{background:"none",border:"none",color:"white",cursor:"pointer"},progressBar:{flex:1,height:4,backgroundColor:"rgba(255, 255, 255, 0.3)",margin:"0 8px"},volumeProgressBar:{flex:.2,height:4,backgroundColor:"rgba(255, 255, 255, 0.3)",margin:"0 8px"}}));var W=s(572111),Q=s.n(W),K=s(711719),J=s.n(K),X=s(642830),$=s(681098),ee=s(879150),et=s(352991),es=s(635376);let ei=d.lazy(()=>Promise.all([s.e(68143),s.e(11642),s.e(82178),s.e(16732),s.e(53362),s.e(26263),s.e(24292),s.e(95023),s.e(8704),s.e(33548),s.e(80389),s.e(19010),s.e(79913),s.e(13959),s.e(90321),s.e(54402),s.e(36407),s.e(53830),s.e(51505),s.e(29582),s.e(74470),s.e(49529),s.e(35045),s.e(63778),s.e(82746),s.e(94087),s.e(8960),s.e(92222),s.e(63791),s.e(57381),s.e(10961),s.e(42279),s.e(23387),s.e(33956),s.e(23698),s.e(64769),s.e(87734),s.e(42419),s.e(16693),s.e(62279),s.e(33703),s.e(79624)]).then(s.bind(s,986153))),en=50,ea=2e3;function renderedMarkdown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.jsx)("div",{dangerouslySetInnerHTML:{__html:m.ZP.render(e)}})}let CourseSectionTitle=e=>(0,i.jsxs)("div",{className:"jsx-4cf1a3abb6fb16c5 course-title",children:[(0,i.jsx)("em",{className:"jsx-4cf1a3abb6fb16c5",children:e.displayType}),(0,i.jsx)("strong",{className:"jsx-4cf1a3abb6fb16c5",children:e.title}),(0,i.jsx)(a(),{id:"4cf1a3abb6fb16c5",children:".course-title.jsx-4cf1a3abb6fb16c5{margin-bottom:32px}.course-title.jsx-4cf1a3abb6fb16c5 em.jsx-4cf1a3abb6fb16c5{display:block;margin-bottom:4px;font-style:normal;font-weight:bold;font-size:14px;text-transform:uppercase;letter-spacing:1px;opacity:.5}.course-title.jsx-4cf1a3abb6fb16c5 strong.jsx-4cf1a3abb6fb16c5{display:block;font-size:24px;font-weight:normal}"})]}),CourseSectionDescription=e=>{let{description:t}=e;return t?(0,i.jsxs)("div",{className:"jsx-5a3505bf495e118a course-description ql-editor",children:[renderedMarkdown(t),(0,i.jsx)(a(),{id:"5a3505bf495e118a",children:".course-description.jsx-5a3505bf495e118a{margin:32px 0}"})]}):null},eo=(0,E.Z)({courseFooter:{marginTop:"32px",["@media (max-width: ".concat(S.Et,")")]:{marginTop:0,background:"var(--color-RemoGray01)",position:"absolute",bottom:0,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",padding:16}},continue:{borderTop:"1px dashed var(--color-RemoGray01)",height:"120px",display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:16,padding:"0 32px"},continueResponsive:{["@media (max-width: ".concat(S.Et,")")]:{height:"initial",width:"100%",padding:0}},actions:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:16,alignItems:"center",marginBottom:16,padding:"0 32px",["@media (max-width: ".concat(S.Et,")")]:{padding:0}}}),CourseSectionFooter=e=>{var t;let s=eo(),{t:n}=(0,A.$G)("course"),a=e.canContinue||e.canAlwaysContinue,o=void 0!==e.isLoading&&e.isLoading,c=!!(null===(t=e.course.initialTestInfo)||void 0===t?void 0:t.isInitialTest),l=(0,d.useMemo)(()=>Object.values(f().parse(location.search))[0],[location.search]),[u,p]=(0,d.useState)("640023663ddb13b7c690cc7e"===l);(0,d.useEffect)(()=>{if(u){let e=10,t=setInterval(function(){0===e&&p(!1),e-=1},1e3);return()=>{clearInterval(t)}}},[u]);let m=(r().isNil(e.isPrevEnabled)||e.isPrevEnabled)&&e.sectionIndex>0&&!e.isCertification&&!c;return(0,i.jsxs)("div",{className:s.courseFooter,children:[e.sectionActions&&(0,i.jsxs)("div",{className:s.actions,children:[e.sectionActions,e.sectionMessage]}),(0,i.jsxs)("div",{className:N()(s.continue,{[s.continueResponsive]:e.responsive}),children:[(0,i.jsx)(h.zx,{style:{width:"100%"},onClick:e.handlePrevious,disabled:!m,children:n("back")}),(0,i.jsx)(h.zx,{style:{width:"100%"},type:"primary",onClick:()=>{e.handleContinue()},disabled:!a||o||u,children:n("continue")})]})]})},er={courseSectionResponsive:{["@media (max-width: ".concat(S.Et,")")]:{height:"calc(100vh - 87px)",overflowY:"scroll",marginBottom:112}},courseSectionMain:{padding:"32px"}},ec=(0,L.D2)(er)(e=>(0,i.jsxs)("div",{className:N()({[e.classes.courseSectionResponsive]:e.responsive}),children:[(0,i.jsxs)("div",{className:e.classes.courseSectionMain,children:[(0,i.jsx)(CourseSectionTitle,{displayType:e.displayType,title:e.title}),(0,i.jsx)(CourseSectionDescription,{description:e.contents.description}),e.children||e.content]}),(0,i.jsx)(CourseSectionFooter,{...e})]})),withMediaQuery=e=>t=>s=>{let n=(0,M.Z)(e);return(0,i.jsx)(t,{isMobile:n,...s})},el=b.VISUAL_DISTANCE_URLS.length;let TaxonomyPreview=class TaxonomyPreview extends d.Component{render(){if(!r().isEmpty(this.props.instructionList)){let e=this.props.labels||[],t=this.props.instructionItemIds||[],s=!r().isEmpty(e)||!r().isEmpty(t);return(0,i.jsx)(v.Z,{instructionList:this.props.instructionList,bringGlobalToBottom:s,filter:i=>!!(!s||i.global||r().some(i.labels,t=>e.includes(t)))||t.includes(i._id),isFullInstructions:!s,emitMetrics:!!this.props.emitMetrics})}return null}};let InstructionObjectPreview=class InstructionObjectPreview extends d.Component{render(){return this.props.instructionObjectId?(0,i.jsx)("div",{children:(0,i.jsx)(k.Z,{instructionObjectId:this.props.instructionObjectId})}):null}};let AccountVerificationWrapper=e=>{let t=[b.VerificationInquiryStatus.Approved,b.VerificationInquiryStatus.Declined,b.VerificationInquiryStatus.Failed,b.VerificationInquiryStatus.MarkedForReview];let AccountVerification=class AccountVerification extends d.Component{async componentDidMount(){this.checkAccountVerificationStatus(!1),this.checkFraud(),this.checkLinkedInVerification()}async componentDidUpdate(e,t){(e.user!==this.props.user||t.loadingFingerprintingScript!==this.state.loadingFingerprintingScript)&&this.checkFraud()}renderContent(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"jsx-657b77ad5a5695d1 container",children:[(0,i.jsxs)("div",{className:"jsx-657b77ad5a5695d1 row",children:[(0,i.jsx)("span",{className:"jsx-657b77ad5a5695d1 required-verifications",children:(0,i.jsx)("strong",{className:"jsx-657b77ad5a5695d1",children:"Required Verifications"})}),(0,i.jsx)("span",{className:"jsx-657b77ad5a5695d1",children:(0,i.jsxs)(h.zx,{disabled:0===this.state.numRemainingVerificationsRequired||this.state.loading,onClick:this.checkAccountVerificationStatus,children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"sync-alt"})," \xa0 Refresh Status"]})})]}),(0,i.jsx)(a(),{id:"657b77ad5a5695d1",children:".container.jsx-657b77ad5a5695d1{margin-bottom:10px;max-width:700px}.row.jsx-657b77ad5a5695d1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.row.jsx-657b77ad5a5695d1 span.required-verifications.jsx-657b77ad5a5695d1{margin-top:2px;display:block;font-size:20px;font-weight:normal}.row.jsx-657b77ad5a5695d1 span.jsx-657b77ad5a5695d1{width:50%;max-width:50%}.row.jsx-657b77ad5a5695d1 span.jsx-657b77ad5a5695d1:last-of-type{text-align:right}"})]}),!this.state.numVerificationsFailed&&(0,i.jsxs)("div",{children:["You have ",this.state.numRemainingVerificationsRequired," more verification(s) to complete before continuing."]}),(0,i.jsxs)("div",{children:["Please visit our ",(0,i.jsx)("a",{href:"/support",children:"Support Center"})," if you need help."]}),(0,i.jsx)("div",{className:"verifications",style:{marginBottom:50},children:this.props.contents.templates.map(e=>(0,i.jsx)("div",{className:"template-verification-unit",children:(0,i.jsx)(U.j,{userVerifications:this.state.verifications,templateId:e,user:this.props.user,loading:this.state.loading,onVerificationCompleted:this.onVerificationCompleted,onVerificationEvent:this.onVerificationEvent})},e))}),this.props.contents.enableLinkedInVerification&&(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{marginTop:"2px",display:"block",fontSize:"20px",fontWeight:"normal"},children:(0,i.jsx)("strong",{children:"Connect your LinkedIn account"})}),(0,i.jsx)("div",{style:{marginTop:"2px"},children:"Connect your LinkedIn account to verify your identity. You can unlink your account at any time."}),(0,i.jsx)("div",{children:"Clicking the button below will redirect you to LinkedIn to authorize Remotasks to access your account, and then back to Remotasks."}),this.props.contents.isLinkedInVerificationRequired&&!this.state.isLinkedInVerified&&(0,i.jsx)("div",{children:(0,i.jsx)("strong",{children:"You must connect your LinkedIn account to continue."})}),(0,i.jsx)("div",{style:{paddingTop:"8px"},children:(0,i.jsx)($.Z,{verified:this.state.isLinkedInVerified,userId:this.props.user._id,redirectUrl:window.location.href})})]})]})}renderSectionMessage(){return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"jsx-2c7e3dacc715f201 message",children:[this.props.contents.templates.length>0&&(0,i.jsx)("div",{className:"jsx-2c7e3dacc715f201",children:this.props.user.personaVerificationCourseBypass?(0,i.jsxs)("span",{className:"jsx-2c7e3dacc715f201 done",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"check"})," You don","'","t need to complete Persona verification. You can continue now."]}):this.state.numVerificationsFailed?(0,i.jsxs)("span",{className:"jsx-2c7e3dacc715f201 disabled",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"times"})," Your verification has been declined. Please continue the course to proceed tasking on other projects."]}):0!==this.state.numRemainingVerificationsRequired||this.state.fraudCheckFailed?this.state.loading?(0,i.jsx)("span",{className:"jsx-2c7e3dacc715f201 pending",children:(0,i.jsx)(L.D8,{size:"14px",color:"inherit"})}):this.state.numRemainingVerificationsRequired>0?(0,i.jsx)("span",{className:"jsx-2c7e3dacc715f201 pending",children:"You have not yet completed all required verifications."}):this.state.fraudCheckFailed?(0,i.jsxs)("span",{className:"jsx-2c7e3dacc715f201 disabled",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"times"})," Unfortunately, we failed to verify your account. While we review your account, please file a ticket with our support team if you believe there was an error. You can file tickets"," ",(0,i.jsx)("a",{href:"https://support.remotasks.com/hc/en-us/requests/new",className:"jsx-2c7e3dacc715f201",children:"here"}),"."]}):(0,i.jsx)("span",{className:"jsx-2c7e3dacc715f201 pending",children:"You have not yet completed all required verifications."}):(0,i.jsxs)("span",{className:"jsx-2c7e3dacc715f201 done",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"check"})," All verifications complete!"]})}),(0,i.jsx)("div",{className:"jsx-2c7e3dacc715f201",children:this.props.contents.isLinkedInVerificationRequired&&(this.state.isLinkedInVerified?(0,i.jsxs)("span",{className:"jsx-2c7e3dacc715f201 done",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"check"})," Your LinkedIn is connected!"]}):(0,i.jsx)("span",{className:"jsx-2c7e3dacc715f201 pending",children:"You must connect your LinkedIn account to continue."}))}),(0,i.jsx)(a(),{id:"2c7e3dacc715f201",children:".message.jsx-2c7e3dacc715f201{text-align:center;margin-bottom:8px;font-weight:bold}.message.jsx-2c7e3dacc715f201 .done.jsx-2c7e3dacc715f201{color:var(--color-RemoGreen)}.message.jsx-2c7e3dacc715f201 .disabled.jsx-2c7e3dacc715f201{color:var(--color-RemoRed)}"})]})})}render(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Q(),{url:b.SEON_DEVICE_FINGERPRINTING_URL,onLoad:()=>{this.setState({loadingFingerprintingScript:!1})},onError:()=>{this.setState({loadingFingerprintingScript:!1,errorFingerprintingScript:!0})}}),(0,i.jsx)(e,{...this.props,displayType:"Account Verification",content:this.renderContent(),sectionMessage:this.renderSectionMessage(),sectionActions:(0,i.jsx)("div",{}),canContinue:this.props.user.personaVerificationCourseBypass||(0===this.state.numRemainingVerificationsRequired||this.state.numVerificationsFailed>0)&&(!this.props.contents.isLinkedInVerificationRequired||this.state.isLinkedInVerified)&&!1===this.state.fraudCheckFailed})]})}constructor(e){var s;super(e),s=this,this.runGoldCheckIfEnabled=async()=>{if(this.props.contents.enablePersonaGoldCheck)try{await (0,p.fetchApi)("/fraud/run_gold_check",{method:"POST",parseAndHandle:!0})}catch(e){X.Z.warn("Failed to run gold check",e)}},this.checkFraud=async()=>{if(this.state.loadingFingerprintingScript||this.state.errorFingerprintingScript||!this.props.contents.enableFraudCheck)(this.state.errorFingerprintingScript||!this.props.contents.enableFraudCheck)&&this.setState({checkedFraud:!0});else{this.setState({loading:!0}),seon.config({host:"seondf.com",session_id:J().v4(),audio_fingerprint:!0,canvas_fingerprint:!0,webgl_fingerprint:!0});let e=await seon.getBase64Session();await (0,p.fetchApi)("/fraud/transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:{actionType:"remotasks_signup",sessionPayload:e}}).then(p.handleErrorsAndJsonify),this.setState({loading:!1,checkedFraud:!0})}},this.checkLinkedInVerification=async()=>{let e=await (0,p.fetchApi)("/worker/profile/has_linkedin_vanity_name",{method:"GET"}).then(p.handleErrorsAndJsonify);this.setState({isLinkedInVerified:e})},this.getNumRemainingVerificationsRequired=async(e,t,s)=>{let i=s.length,n=0,a=Object.entries(b.equivalentPersonaTemplates),o=[];for(let r of s){if(o.includes(r))continue;let s=r===b.VerificationTemplate.UserVerificationBestFit?(0,es.d6)(e):r,c=a.find(e=>e.includes(s))||[s],l=t.filter(e=>e.status===b.VerificationInquiryStatus.Approved&&c.includes(e.templateId)),d=t.filter(e=>e.status===b.VerificationInquiryStatus.Declined&&c.includes(e.templateId));l.length?i--:!l.length&&d.length>=b.MAX_VERIFICATION_ATTEMPTS_PER_TEMPLATE&&(await (0,p.fetchApi)("/worker/verifications/decline",{method:"POST",parseAndHandle:!0,body:{userId:e._id}}),n++),o.push(...c)}return{numRemainingVerificationsRequired:i,numVerificationsFailed:n}},this.checkAccountVerificationStatus=async function(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];s.setState({loading:!0});let{userVerifications:i}=await (0,p.fetchApi)("/worker/real_verifications",{method:"GET",parseAndHandle:!0,query:{templatesToInclude:s.props.contents.templates,maxVerificationsPerTemplate:b.DEFAULT_MAX_INQUIRIES_PER_TEMPLATE}}),n=s.props.user,a=[...i],o=null===(e=n.reverificationInfo)||void 0===e?void 0:e.lastTriggeredAt;o&&(a=i.filter(e=>!b.reverificationTemplates.includes(e.templateId)||e.createdAt>o));let{numRemainingVerificationsRequired:r,numVerificationsFailed:c}=await s.getNumRemainingVerificationsRequired(s.props.user,a,s.props.contents.templates);s.setState({verifications:a,numRemainingVerificationsRequired:r,numVerificationsFailed:c,loading:!1}),t&&await new Promise(e=>setTimeout(e,1e3))},this.updateVerificationSource=async e=>{let t=await (0,p.fetchApi)("/worker/verifications/updateSource",{method:"POST",parseAndHandle:!0,body:{inquiryId:e,source:this.props.contents.source||b.VerificationSource.Course}});t||X.Z.warn("Failed to update source for inquiry ".concat(e,", source should be ").concat(this.props.contents.source||b.VerificationSource.Course))},this.onVerificationCompleted=e=>async s=>{var i,n;let{inquiryId:a,status:o,fields:r}=s;this.setState({loading:!0});let c=null===(i=null===(n=this.props.user)||void 0===n?void 0:n.tags)||void 0===i?void 0:i.includes(b.TEST_ACCOUNT_TAG_ID);c&&await (0,p.fetchApi)("/worker/verifications",{method:"POST",body:{inquiryId:a,templateId:e,status:o}});let l=0,d=setInterval(async()=>{await this.checkAccountVerificationStatus(),l+=1;let e=4===l,s=this.state.verifications.find(e=>e.inquiryId===a&&t.includes(e.status)),i=this.props.contents.source||b.VerificationSource.Course;s&&s.source!==i&&await this.updateVerificationSource(a),(e||s)&&(this.setState({loading:!1}),clearInterval(d))},3e3);this.runGoldCheckIfEnabled(),this.setState({loading:!1})},this.onVerificationEvent=async(e,t)=>{if(this.setState({loading:!0}),"start"===e){let e=0,s=setInterval(async()=>{await this.checkAccountVerificationStatus(),e+=1;let i=3===e,n=this.state.verifications.find(e=>e.inquiryId===(null==t?void 0:t.inquiryId));n&&await this.updateVerificationSource(null==t?void 0:t.inquiryId),(i||n)&&(this.setState({loading:!1}),clearInterval(s))},3e3)}this.setState({loading:!1})},this.state={numRemainingVerificationsRequired:e.contents.templates.length,numVerificationsFailed:0,loading:!1,verifications:[],loadingFingerprintingScript:!0,errorFingerprintingScript:!1,fraudCheckFailed:!1,checkedFraud:!1,isLinkedInVerified:!1}}};return AccountVerification},ScheduleInterviewWrapper=e=>{let[t,s]=(0,d.useState)(!1);return(0,i.jsx)(ec,{...e,content:null,canContinue:t,children:(0,i.jsx)(ee.Z,{user:e.user,setCanContinue:s,type:b.CourseSectionType.ScheduleInterview,title:e.title,contents:e.contents,courseId:e.course._id})})},ed=(e=>{let MultipleChoice=class MultipleChoice extends d.Component{get canCheckAnswer(){return!this.state.isLastAttemptCorrect&&(!this.state.lastAttemptTime||this.checkAnswerCooldownSeconds<0)}get checkAnswerCooldownSeconds(){return this.state.lastAttemptTime?7-l()().diff(this.state.lastAttemptTime)/1e3:0}renderInstructions(){let close=()=>this.setState({showInstructionHint:!1});return(0,i.jsxs)(j.u_,{isOpen:this.state.showInstructionHint,onRequestClose:close,contentLabel:"Instructions",maxWidth:"80vw",children:[(0,i.jsx)(j.xB,{onRequestClose:close,children:this.props.t("instructions")}),(0,i.jsx)(j.fe,{children:(0,i.jsx)(v.Z,{instructionList:this.props.course.instructionList,isFullInstructions:!1})})]})}async componentDidMount(){let e=await this.checkCourseAnswers()||[],t=e.length>0?[]:await this.checkLocalAnswers();this.setState({selectedChoices:e.length>0?e:t||[]})}componentWillUnmount(){this.saveResponseLocal()}renderContent(){let{choices:e,explanation:t,hint:s}=this.props.contents,{isLastAttemptCorrect:n,showFeedback:o}=this.state,c=!n&&r().get(this.props.course,"instructionList")&&!this.props.course.instructionList.refreshersOnly;return(0,i.jsxs)(d.Fragment,{children:[(0,i.jsx)("div",{className:"jsx-cf2985a28295e61b "+(N()(this.props.classes.choices,{[this.props.classes.choicesResponsive]:this.props.responsive})||""),children:r().map(e,this.renderChoice)}),t&&o&&n&&(0,i.jsxs)("div",{className:"jsx-cf2985a28295e61b feedback-section",children:[(0,i.jsx)("span",{style:{marginRight:16,flexShrink:0},className:"jsx-cf2985a28295e61b",children:(0,i.jsx)(g.Z,{emoji:"\uD83C\uDF1F",size:"24px"})}),(0,i.jsx)("span",{className:"jsx-cf2985a28295e61b",children:t})]}),s&&o&&!n&&(0,i.jsxs)("div",{className:"jsx-cf2985a28295e61b feedback-section",children:[(0,i.jsx)("span",{style:{marginRight:16,flexShrink:0},className:"jsx-cf2985a28295e61b",children:(0,i.jsx)(g.Z,{emoji:"⚠️",size:"24px"})}),(0,i.jsx)("span",{className:"jsx-cf2985a28295e61b",children:s})]}),c&&(0,i.jsxs)("div",{className:"jsx-cf2985a28295e61b feedback-section",children:[(0,i.jsx)("span",{style:{marginRight:16,flexShrink:0},className:"jsx-cf2985a28295e61b",children:(0,i.jsx)(g.Z,{emoji:"\uD83D\uDCD6",size:"24px"})}),(0,i.jsxs)("span",{className:"jsx-cf2985a28295e61b",children:["Feel free to"," ",(0,i.jsx)("a",{onClick:()=>this.setState({showInstructionHint:!0}),className:"jsx-cf2985a28295e61b",children:"double check the instructions!"})]}),this.renderInstructions()]}),(0,i.jsx)(a(),{id:"cf2985a28295e61b",children:".feedback-section.jsx-cf2985a28295e61b{background:var(--color-RemoGray01);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);padding:16px;margin-top:16px;font-size:16px;font-weight:bold;margin-bottom:16px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]})}renderSectionActions(){return this.props.course.isCertification&&!this.props.skipGrading||!this.props.course.isCertification&&this.props.skipGrading||this.props.contents.noCorrectAnswerRequired?null:(0,i.jsx)("div",{children:(0,i.jsx)(h.zx,{style:{width:"100%"},type:"primary",onClick:this.handleCheckAnswer,disabled:!this.canCheckAnswer,children:this.props.t("check-answer")})})}renderSectionMessage(){return void 0===this.state.isLastAttemptCorrect?null:this.state.isLastAttemptCorrect?(0,i.jsxs)("div",{style:{color:C.w.RemoGreen,fontWeight:500},children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"check"})," \xa0 ",this.props.t("correct")]}):(0,i.jsxs)("div",{style:{fontWeight:"bold"},children:[this.props.t("try-again-timer")," ",(0,i.jsxs)("span",{style:{opacity:.5},children:[Math.round(this.checkAnswerCooldownSeconds)," ",this.props.t("seconds")]})]})}canContinue(){return(!!this.state.isLastAttemptCorrect||this.props.course.isCertification)&&!!this.state.selectedChoices.length}render(){return(0,i.jsx)(e,{...r().omit(this.props,["classes"]),handleContinue:()=>{this.saveResponseLocal(),this.props.handleContinue({selectedChoices:this.state.selectedChoices})},content:this.renderContent(),sectionActions:this.renderSectionActions(),sectionMessage:this.renderSectionMessage(),canContinue:this.canContinue()||!!this.props.skipGrading,isCertification:this.props.course.isCertification,isLoading:this.state.selectedChoices.length<1})}constructor(e){super(e),this.handleTick=()=>{this.checkAnswerCooldownSeconds>0?this.forceUpdate():(this.setState({lastAttemptTime:null,isLastAttemptCorrect:void 0}),clearInterval(this.intervalId))},this.handleToggleChoice=e=>{if(this.props.contents.noCorrectAnswerRequired&&this.setState({isLastAttemptCorrect:!0}),this.props.contents.singleSelect)return this.setState({selectedChoices:[e]});let t=r().cloneDeep(this.state.selectedChoices);r().includes(t,e)?r().pull(t,e):t.push(e),this.setState({selectedChoices:t})},this.handleCheckAnswer=async()=>{let e=await (0,p.fetchApi)("/courses/checkAnswer",{method:"POST",body:{name:this.props.course.name,selectedChoices:this.state.selectedChoices,sectionIndex:this.props.sectionIndex}}).then(p.handleErrorsAndJsonify);e.isCorrect?this.setState({isLastAttemptCorrect:!0,showFeedback:!0}):(this.setState({isLastAttemptCorrect:!1,lastAttemptTime:l()(),showFeedback:!0}),this.intervalId=window.setInterval(this.handleTick,1e3))},this.renderChoice=(e,t)=>(0,i.jsx)("div",{className:N()(this.props.classes.choice,{[this.props.classes.choiceResponsive]:this.props.responsive,isSelected:r().includes(this.state.selectedChoices,t)}),onClick:()=>this.handleToggleChoice(t),children:renderedMarkdown(e)},"".concat(e,"+").concat(t)),this.checkLocalAnswers=async()=>{let{sectionIndex:e}=this.props,t=this.props.title+"_"+e,s=JSON.parse(sessionStorage.getItem(t)||"[]").filter(e=>-1!==e);return s},this.checkCourseAnswers=async()=>{try{var e;let{course:t,sectionIndex:s}=this.props,i=await (0,p.fetchApi)("/courses/getSectionRecent",{method:"POST",body:{id:t._id,sectionIndex:s}}).then(p.handleErrorsAndJsonify),n=(null==i?void 0:null===(e=i.answers)||void 0===e?void 0:e.length)>0?i.answers:[];return n}catch(e){return[]}},this.saveResponseLocal=async()=>{let{sectionIndex:e}=this.props,{selectedChoices:t}=this.state;if(t.length<1)return;let s=this.props.title+"_"+e;sessionStorage.setItem(s,JSON.stringify(this.state.selectedChoices))},this.state={lastAttemptTime:null,selectedChoices:[],showFeedback:!1,showInstructionHint:!1}}};let t=(0,_.Z)({choice:{border:"1px solid var(--border-gray-light)",borderRadius:"var(--border-radius)",padding:"16px",margin:"16px 0",cursor:"pointer",transition:"all 0.1s",userSelect:"none","&:hover":{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.05)"},"&.isSelected":{border:"1px solid var(--color-RemoBlue)",boxShadow:"0px 0px 0px 1px var(--color-RemoBlue)"},img:{maxWidth:"200px",maxHeight:"200px"}},choiceResponsive:{["@media (max-width: ".concat(S.Et,")")]:{margin:"8px 0",padding:"0 16px"}},choices:{display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:"32px"},choicesResponsive:{["@media (max-width: ".concat(S.Et,")")]:{display:"flex",flexDirection:"column"}}});return(0,A.Zh)("course")((0,L.D2)(t)(MultipleChoice))})(ec),eh=(e=>{let Scenario=class Scenario extends d.Component{async componentDidMount(){var e;this.checkScenarioStatus(),this.loadPreviousAttempts(),window.addEventListener("focus",this.checkScenarioStatus);let t=null===(e=this.props.course.grantedPermissions[0])||void 0===e?void 0:e.permissionGroup;if(t){let e=await (0,D.V3)({feature:"use-new-gis-training-tool",querystring:f().stringify(r().pickBy({permissionGroupId:t}))});this.setState({useNewTrainingPage:e})}}componentWillUnmount(){window.removeEventListener("focus",this.checkScenarioStatus)}renderContent(){if(this.state.throttleTimeMs)return null;let e=r().get(this.props.course,"sections",[]).length-1!==this.props.sectionIndex,t=e?"".concat("&course_url="+encodeURIComponent(window.location.href)):"",s=this.props.contents.scenarioId.trim(),n=this.props.contents.reviewLevel?"&reviewLevel=".concat(this.props.contents.reviewLevel):"",o=this.state.useNewTrainingPage?"/gis/training/".concat(s):"/training?trainingId=".concat(s).concat(n).concat(t),c=(0,w.Gb)(o),openScenarioOrAttempts=()=>{this.state.useNewTrainingPage&&this.state.previousAttempts.length?this.setState({showAttemptsDialog:!0}):window.open(c,"_blank")};return(0,i.jsxs)("div",{className:a().dynamic([["2432c7bf31bc76d4",[S.Et,S.Et]]]),children:[(0,i.jsx)("p",{className:a().dynamic([["2432c7bf31bc76d4",[S.Et,S.Et]]]),children:this.props.t("keep-tab-open")}),this.state.loadingScenario?(0,i.jsx)("div",{className:a().dynamic([["2432c7bf31bc76d4",[S.Et,S.Et]]])+" scenario-box",children:(0,i.jsx)("p",{className:a().dynamic([["2432c7bf31bc76d4",[S.Et,S.Et]]]),children:"'Loading'"})}):(0,i.jsx)("div",{onClick:()=>openScenarioOrAttempts(),className:a().dynamic([["2432c7bf31bc76d4",[S.Et,S.Et]]])+" scenario-box",children:(0,i.jsx)("p",{className:a().dynamic([["2432c7bf31bc76d4",[S.Et,S.Et]]]),children:(0,i.jsxs)("span",{onClick:()=>{Z.c.track("Training - Opens BM")},className:a().dynamic([["2432c7bf31bc76d4",[S.Et,S.Et]]]),children:[this.props.t("open-scenario")," \xa0 ",(0,i.jsx)(u.FontAwesomeIcon,{icon:"bullseye"})]})})}),(0,i.jsx)(training_PreviousAttemptsDialog,{open:this.state.showAttemptsDialog,onClose:()=>{this.setState({showAttemptsDialog:!1})},previousAttempts:this.state.previousAttempts,newAttemptURL:c}),(0,i.jsx)(a(),{id:"2432c7bf31bc76d4",dynamic:[S.Et,S.Et],children:'.scenario-box.__jsx-style-dynamic-selector{padding:100px;background:var(--color-RemoGray01);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;font-family:"Monaco",monospace;font-size:16px;color:rgba(0,0,0,.5);cursor:pointer;opacity:.7}.scenario-box.__jsx-style-dynamic-selector:hover{opacity:1}@media(max-width:'.concat(S.Et,"){.scenario-box.__jsx-style-dynamic-selector{padding:0 16px;margin:-8px 0}.scenario-box.__jsx-style-dynamic-selector p.__jsx-style-dynamic-selector{margin:8px 0}}.scenario-box.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector:hover{text-decoration:underline}@media(max-width:").concat(S.Et,"){.scenario-box.__jsx-style-dynamic-selector span.__jsx-style-dynamic-selector{font-size:12px}}")})]})}renderSectionActions(){return this.state.hasValidAttempt||this.state.loading?(0,i.jsx)("div",{}):(0,i.jsx)("div",{children:(0,i.jsxs)(h.zx,{onClick:this.checkScenarioStatus,children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"sync-alt"})," \xa0 ",this.props.t("refresh-scenario-status")]})})}renderSectionMessage(){return(0,i.jsxs)("div",{className:"jsx-d6a3c6c4bb477aaa message",children:[this.state.hasValidAttempt?(0,i.jsxs)("span",{className:"jsx-d6a3c6c4bb477aaa done",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"check"})," \xa0 ",this.props.t("scenario-done")]}):(0,i.jsx)(i.Fragment,{children:this.state.throttleTimeMs?(0,i.jsx)("span",{className:"jsx-d6a3c6c4bb477aaa disabled",children:(0,T._W)(this.state.throttleTimeMs)}):(0,i.jsx)("span",{className:"jsx-d6a3c6c4bb477aaa pending",children:this.props.t("scenario-not-done")})}),(0,i.jsx)(a(),{id:"d6a3c6c4bb477aaa",children:".message.jsx-d6a3c6c4bb477aaa{text-align:center;margin-bottom:8px;font-weight:bold}.message.jsx-d6a3c6c4bb477aaa .done.jsx-d6a3c6c4bb477aaa{color:var(--color-RemoGreen)}.message.jsx-d6a3c6c4bb477aaa .disabled.jsx-d6a3c6c4bb477aaa{color:var(--color-RemoRed)}"})]})}render(){return(0,i.jsx)(e,{...this.props,handleContinue:()=>this.props.handleContinue({scenarioAccuracy:this.state.scenarioAccuracy}),displayType:this.props.t("training-scenario"),content:this.renderContent(),sectionActions:this.renderSectionActions(),sectionMessage:this.renderSectionMessage(),canContinue:this.state.hasValidAttempt})}constructor(e){super(e),this.checkScenarioStatus=async()=>{var e;this.setState({loading:!0});let t=!!(null===(e=this.props.course.initialTestInfo)||void 0===e?void 0:e.isInitialTest),s=await (0,p.fetchApi)("/training/status/".concat(this.props.contents.scenarioId),{parseAndHandle:!0,query:{findAnyGraded:t}});this.setState({hasValidAttempt:t?s.foundAttempt:s.passedBar,throttleTimeMs:s.throttleTimeMs,loading:!1,scenarioAccuracy:s.scenarioAccuracy})},this.loadPreviousAttempts=async()=>{this.setState({loadingScenario:!0});let e=this.props.user.id,t=await (0,p.fetchApi)("/training/training_attempts/".concat(this.props.contents.scenarioId,"/").concat(e),{parseAndHandle:!0});this.setState({previousAttempts:t.trainingAttempts,loadingScenario:!1})},this.state={hasValidAttempt:!1,loading:!1,throttleTimeMs:null,useNewTrainingPage:!1,showAttemptsDialog:!1,loadingScenario:!1,previousAttempts:[]}}};return(0,A.Zh)("course")(Scenario)})(ec),eu=(e=>{let RichText=class RichText extends d.Component{renderContent(){return(0,i.jsx)(L.vC,{content:m.ZP.render(this.props.contents.body)})}isLoading(){let e;if(r().isNil(this.props.contents.requireInputs)||!this.props.contents.requireInputs)return!1;let t=document.querySelectorAll(".ql-editor > div > input");if(!t||!t.length)return!1;let s=!0;for(let i of t)if(("checkbox"!==i.type||i.checked)&&i.value)"radio"===i.type&&(i.checked||r().isNil(e))&&(e=i.checked);else{s=!1;break}return!(s&&(r().isNil(e)||e))}render(){return(0,i.jsx)(e,{...this.props,content:this.renderContent(),canContinue:!0,isLoading:this.isLoading()})}};return RichText})(ec),ep=(e=>{let HardwareCalibration=class HardwareCalibration extends d.Component{componentDidMount(){let checkResolution=()=>{let e=Math.floor(window.screen.width*window.devicePixelRatio),t=Math.floor(window.screen.height*window.devicePixelRatio);this.setState({resolutionWidth:e,resolutionHeight:t})},getScreenRefreshRate=e=>{let t,s=null,i=!1;window.requestAnimationFrame||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);let n=0,triggerAnimation=a=>{if(t||(t=a),(n+=1)>50){let o=Math.floor(1e3*n/(a-t));i||(e.call(void 0,o),i=!0,window.cancelAnimationFrame(s),s=null)}else s=window.requestAnimationFrame(triggerAnimation)};window.requestAnimationFrame(triggerAnimation)},startNetworkTest=()=>{let loadVideosToStorage=e=>{let t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.onload=()=>{if(200===t.status){let e=t.getResponseHeader("content-length");this.setState({videoSizeMB:this.state.videoSizeMB+ +e/1024/1024})}},t.send()},canPlay=e=>{let t=e.src,s=r().cloneDeep(this.state.pendingVideos);r().remove(s,e=>e===t),this.setState({pendingVideos:s})};b.HARDWARE_CALIBRATION_VIDEO_URLS.map((e,t)=>{let s=document.getElementById("video-root"),i=document.createElement("video");i.id=t.toString(),i.width=1,i.poster=b.HARDWARE_CALIBRATION_DISPLAY_URL,i.src=e,i.oncanplaythrough=()=>canPlay(i),s.appendChild(i),loadVideosToStorage(e)})};this.setState({isCalibrating:!0,pageLoadedTime:new Date}),(()=>{startNetworkTest(),getScreenRefreshRate(this.handleSetRefreshRate),checkResolution()})()}componentDidUpdate(){this.state.isCalibrating&&void 0===this.state.speedMB&&!this.state.pendingVideos.length&&this.recordVideoLoadingTime(),!this.state.isCalibrationDone&&this.state.speedMB&&this.state.refreshRate&&this.state.resolutionWidth&&this.state.resolutionHeight&&this.setState({isCalibrationDone:!0,isCalibrating:!1})}renderContent(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{id:"video-root",className:"jsx-80d033fc145726c"}),(0,i.jsxs)("div",{className:"jsx-80d033fc145726c info-container",children:[(0,i.jsxs)("div",{className:"jsx-80d033fc145726c info",children:[this.state.resolutionWidth&&this.state.resolutionHeight?(0,i.jsx)("span",{className:"jsx-80d033fc145726c",children:"✅"}):(0,i.jsx)(L.$j,{style:{width:"12px"},size:"sssm"}),(0,i.jsx)("div",{className:"jsx-80d033fc145726c hsp__1"}),(0,i.jsxs)("label",{className:"jsx-80d033fc145726c",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"desktop"})," Display resolution check"]})]}),(0,i.jsxs)("div",{className:"jsx-80d033fc145726c info",children:[this.state.refreshRate?(0,i.jsx)("span",{className:"jsx-80d033fc145726c",children:"✅"}):(0,i.jsx)(L.$j,{style:{width:"12px"},size:"sssm"}),(0,i.jsx)("div",{className:"jsx-80d033fc145726c hsp__1"}),(0,i.jsxs)("label",{className:"jsx-80d033fc145726c",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"browser"})," ","  "," Screen refresh rate check"]})]}),(0,i.jsxs)("div",{className:"jsx-80d033fc145726c info",children:[this.state.speedMB?(0,i.jsx)("span",{className:"jsx-80d033fc145726c",children:"✅"}):(0,i.jsx)(L.$j,{style:{width:"12px"},size:"sssm"}),(0,i.jsx)("div",{className:"jsx-80d033fc145726c hsp__1"}),(0,i.jsxs)("label",{className:"jsx-80d033fc145726c",children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"wifi"})," Network speed check"]})]})]}),(0,i.jsx)(a(),{id:"80d033fc145726c",children:".info-container.jsx-80d033fc145726c{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.info.jsx-80d033fc145726c{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;width:280px}"})]})}render(){return(0,i.jsx)(e,{...this.props,handleContinue:()=>this.props.handleContinue({calibrationResult:{refreshRate:this.state.refreshRate,resolutionWidth:this.state.resolutionWidth,resolutionHeight:this.state.resolutionHeight,speedMB:this.state.speedMB}}),content:this.renderContent(),isLoading:!this.state.isCalibrationDone,canContinue:!1})}constructor(e){super(e),this.recordVideoLoadingTime=()=>{let e=Date.now()-this.state.pageLoadedTime.getTime(),t=this.state.videoSizeMB/(e/1e3);this.setState({speedMB:t})},this.handleSetRefreshRate=e=>{this.setState({refreshRate:e})},this.handleCalibrationDone=()=>{this.setState({isCalibrationDone:!0,isCalibrating:!1})},this.state={isCalibrationDone:!1,isCalibrating:!1,refreshRate:0,resolutionWidth:0,resolutionHeight:0,pageLoadedTime:void 0,speedMB:void 0,pendingVideos:r().cloneDeep(b.HARDWARE_CALIBRATION_VIDEO_URLS),videoSizeMB:0}}};return HardwareCalibration})(ec),em=(e=>{let Video=class Video extends d.Component{renderContent(){var e,t;let s=this.props.i18n.language,n=(null===(e=r().get(this.props,"contents.videoSubtitles",[]).find(e=>{let{srcLang:t}=e;return t===s}))||void 0===e?void 0:e.srcLang)||"en",a=(null===(t=this.props.userFlags)||void 0===t?void 0:t["quality-AB-course-subtitles"])?r().get(this.props,"contents.videoSubtitles",[]).map(e=>{let{srcLang:t,src:s}=e;return{kind:"subtitles",src:s,srcLang:t,default:t===n}}):[];return(0,i.jsx)(CustomReactPlayer,{displayCustomControls:!0,url:this.props.contents.videoUrl,onEnded:this.handleVideoDone,config:{file:{attributes:{crossOrigin:"true"},tracks:a}},allowSkimming:this.props.contents.allowSkimming})}render(){return(0,i.jsx)(e,{...this.props,displayType:this.props.t("video"),content:this.renderContent(),canContinue:this.state.isVideoDone})}constructor(e){var t;super(e),this.handleVideoDone=()=>{this.setState({isVideoDone:!0})},this.state={isVideoDone:null!==(t=e.contents.allowSkimming)&&void 0!==t&&t}}};return(0,A.Zh)("course")(Video)})(ec),ex=(e=>{let Iframe=class Iframe extends d.Component{renderContent(){return(0,i.jsxs)("div",{className:"jsx-fc9a386f62234d32",children:[(0,i.jsx)("iframe",{width:"100%",src:this.props.contents.iframeUrl,className:"jsx-fc9a386f62234d32"}),(0,i.jsx)(a(),{id:"fc9a386f62234d32",children:"iframe.jsx-fc9a386f62234d32{height:80vh}"})]})}render(){return(0,i.jsx)(e,{...this.props,content:this.renderContent(),canContinue:!0})}};return Iframe})(ec),ef=(e=>{let Taxonomy=class Taxonomy extends d.Component{renderContent(){return r().isEmpty(r().get(this.props.contents,"instructionList"))?null:(0,i.jsx)(TaxonomyPreview,{...this.props.contents,emitMetrics:!0})}render(){return(0,i.jsx)(e,{...this.props,content:this.renderContent(),canContinue:!0})}};return Taxonomy})(ec),eg=(e=>{let Taxonomy=class Taxonomy extends d.Component{renderContent(){return r().get(this.props.contents,"instructionObjectId")?(0,i.jsx)(InstructionObjectPreview,{...this.props.contents}):null}render(){return(0,i.jsx)(e,{...this.props,content:this.renderContent(),canContinue:!0})}};return Taxonomy})(ec),eb=(e=>{let TextResponse=class TextResponse extends d.Component{async componentDidMount(){let e=await this.checkCourseAnswers()||[],t=e.length>0?[]:await this.checkLocalAnswers();this.setState({responses:e.length>0?e:t||this.state.responses}),document.addEventListener("copy",this.handleCopyTextEvent),document.addEventListener("paste",this.handlePasteEvent)}componentWillUnmount(){this.saveResponseLocal(),document.removeEventListener("copy",this.handleCopyTextEvent),document.removeEventListener("paste",this.handlePasteEvent)}get canCheckAnswer(){return!this.state.isLastAttemptCorrect&&(!this.state.lastAttemptTime||this.checkAnswerCooldownSeconds<0)}get checkAnswerCooldownSeconds(){return this.state.lastAttemptTime?7-l()().diff(this.state.lastAttemptTime)/1e3:0}renderInstructions(){let close=()=>this.setState({showInstructionHint:!1});return(0,i.jsxs)(j.u_,{isOpen:this.state.showInstructionHint,onRequestClose:close,contentLabel:"Instructions",maxWidth:"80vw",children:[(0,i.jsx)(j.xB,{onRequestClose:close,children:this.props.t("instructions")}),(0,i.jsx)(j.fe,{children:(0,i.jsx)(v.Z,{instructionList:this.props.course.instructionList,isFullInstructions:!1})})]})}renderContent(){let{explanation:e,hint:t,questions:s,isFreeform:n,allowFreeformCopyPaste:o}=this.props.contents,{isLastAttemptCorrect:c,showFeedback:l}=this.state,h=!c&&r().get(this.props.course,"instructionList")&&!this.props.course.instructionList.refreshersOnly,onPasteBlock=e=>(e.preventDefault(),!1);return(0,i.jsxs)(d.Fragment,{children:[(0,i.jsx)("div",{className:"jsx-ea49c705d6d38fef questions",children:r().map(s,(e,t)=>{var s,a;return(0,i.jsxs)("div",{style:{margin:"12px",width:n?"800px":"200px"},className:"jsx-ea49c705d6d38fef",children:[(0,i.jsx)("label",{className:"jsx-ea49c705d6d38fef",children:(0,i.jsx)("strong",{className:"jsx-ea49c705d6d38fef",children:e.label})}),(0,i.jsx)("div",{className:"jsx-ea49c705d6d38fef sp__1"}),(0,i.jsx)(L.oi,{placeholder:"Answer",multiline:!!n,rows:n?8:2,value:null!==(a=null===(s=this.state.responses[+t])||void 0===s?void 0:s.response)&&void 0!==a?a:"",fullWidth:!0,onPaste:n&&!o?onPasteBlock:void 0,onMouseLeave:()=>this.onMouseLeave(e.label,n),onChange:s=>{let i={label:e.label,response:s.target.value};this.handleResponseEdit(+t,i,n&&!o),n&&!o&&this.detectAutotyper(+t,e.label,s.nativeEvent.timeStamp),n&&(this.props.qualificationId||this.props.workerSkillId)&&this.handleUpdateBehaviourLog(+t,i,s)}})]},t)})}),e&&l&&c&&(0,i.jsxs)("div",{className:"jsx-ea49c705d6d38fef feedback-section",children:[(0,i.jsx)("span",{style:{marginRight:16,flexShrink:0},className:"jsx-ea49c705d6d38fef",children:(0,i.jsx)(g.Z,{emoji:"\uD83C\uDF1F",size:"24px"})}),(0,i.jsx)("span",{className:"jsx-ea49c705d6d38fef",children:e})]}),t&&l&&!c&&(0,i.jsxs)("div",{className:"jsx-ea49c705d6d38fef feedback-section",children:[(0,i.jsx)("span",{style:{marginRight:16,flexShrink:0},className:"jsx-ea49c705d6d38fef",children:(0,i.jsx)(g.Z,{emoji:"⚠️",size:"24px"})}),(0,i.jsx)("span",{className:"jsx-ea49c705d6d38fef",children:t})]}),h&&(0,i.jsxs)("div",{className:"jsx-ea49c705d6d38fef feedback-section",children:[(0,i.jsx)("span",{style:{marginRight:16,flexShrink:0},className:"jsx-ea49c705d6d38fef",children:(0,i.jsx)(g.Z,{emoji:"\uD83D\uDCD6",size:"24px"})}),(0,i.jsxs)("span",{className:"jsx-ea49c705d6d38fef",children:["Feel free to"," ",(0,i.jsx)("a",{onClick:()=>this.setState({showInstructionHint:!0}),className:"jsx-ea49c705d6d38fef",children:"double check the instructions!"})]}),this.renderInstructions()]}),(0,i.jsx)(a(),{id:"ea49c705d6d38fef",children:".questions.jsx-ea49c705d6d38fef{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.feedback-section.jsx-ea49c705d6d38fef{background:var(--color-RemoGray01);-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);padding:16px;margin-top:16px;font-size:16px;font-weight:bold;margin-bottom:16px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}"})]})}renderSectionActions(){return this.props.course.isCertification&&!this.props.skipGrading||!this.props.course.isCertification&&this.props.skipGrading?null:(0,i.jsx)("div",{children:(0,i.jsx)(h.zx,{style:{width:"100%"},type:"primary",onClick:this.handleCheckAnswer,disabled:!this.canCheckAnswer,children:this.props.t("check-answer")})})}renderSectionMessage(){return void 0===this.state.isLastAttemptCorrect?null:this.state.isLastAttemptCorrect?(0,i.jsxs)("div",{style:{color:C.w.RemoGreen,fontWeight:500},children:[(0,i.jsx)(u.FontAwesomeIcon,{icon:"check"})," \xa0 ",this.props.t("correct")]}):(0,i.jsxs)("div",{style:{fontWeight:"bold"},children:[this.props.t("try-again-timer")," ",(0,i.jsxs)("span",{style:{opacity:.5},children:[Math.round(this.checkAnswerCooldownSeconds)," ",this.props.t("seconds")]})]})}isLoading(){return this.state.responses.filter(e=>null==e?void 0:e.response).length<this.props.contents.questions.length}render(){return(0,i.jsx)(e,{...this.props,handleContinue:()=>{let{isFreeform:e}=this.props.contents;if(this.saveResponseLocal(),!e||!this.props.qualificationId&&!this.props.workerSkillId)return this.props.handleContinue({textResponses:this.state.responses});{let e=this.getAttemptBehaviourLog();return this.props.handleContinue({textResponses:this.state.responses,attemptBehaviourLog:e})}},displayType:this.props.t("pop-quiz"),content:this.renderContent(),sectionActions:this.renderSectionActions(),sectionMessage:this.renderSectionMessage(),canContinue:!!this.state.isLastAttemptCorrect||!!this.props.skipGrading,isLoading:this.isLoading(),isCertification:this.props.course.isCertification})}constructor(e){super(e),this.checkLocalAnswers=async()=>{let{sectionIndex:e}=this.props,t=this.props.title+"_"+e,s=JSON.parse(sessionStorage.getItem(t)||"[]");return s},this.checkCourseAnswers=async()=>{try{var e,t;let{course:s,sectionIndex:i}=this.props,n=await (0,p.fetchApi)("/courses/getSectionRecent",{method:"POST",body:{id:s._id,sectionIndex:i}}).then(p.handleErrorsAndJsonify),a=(null==n?void 0:null===(t=n.answers)||void 0===t?void 0:null===(e=t.answers)||void 0===e?void 0:e.map((e,t)=>({label:n.answers.questions[t],response:e})))||[];return a}catch(e){return[]}},this.saveResponseLocal=async()=>{let{sectionIndex:e}=this.props,{responses:t}=this.state,s=this.props.title+"_"+e;sessionStorage.setItem(s,JSON.stringify(t))},this.handleTick=()=>{this.checkAnswerCooldownSeconds>0?this.forceUpdate():(this.setState({lastAttemptTime:null,isLastAttemptCorrect:void 0}),clearInterval(this.intervalId))},this.debouncedUpdateBehaviourLog=r().debounce((e,t,s)=>{var i,n,a,o;if(!s||!s.length)return;let c=(null!==(a=null===(i=r().last(s))||void 0===i?void 0:i.timestamp)&&void 0!==a?a:0)-(null!==(o=null===(n=r().first(s))||void 0===n?void 0:n.timestamp)&&void 0!==o?o:0),l=r().cloneDeep(this.state.activeTimeTyping);l[t]=(this.state.activeTimeTyping[t]||0)+c,this.setState({activeTimeTyping:l});let d=s.map(e=>e.lengthDiff),h=r().cloneDeep(this.state.lengthDiffLog);h[t]=[...this.state.lengthDiffLog[t]||[],...d],this.setState({lengthDiffLog:h});let u=r().cloneDeep(this.state.typingEvents);u[t]=[],this.setState({typingEvents:u})},800),this.handleCopyTextEvent=e=>{var t;let s=null===(t=window.getSelection())||void 0===t?void 0:t.toString();if(s&&e.target instanceof Element&&!["textarea","input"].includes(e.target.tagName.toLowerCase())){let e=Date.now();this.setState({copyEventsLog:[...this.state.copyEventsLog,{text:s,timestamp:e}]})}},this.handlePasteEvent=e=>{if(e.clipboardData){let t=e.clipboardData.getData("text/plain"),s=Date.now();this.setState({pasteEventsLog:[...this.state.pasteEventsLog,{text:t,timestamp:s}]})}},this.getAttemptBehaviourLog=()=>{var e,t,s,i,n,a,o,c,l,d,h,u;let p,m;let x=r().uniq([...Object.keys(this.state.activeTimeTyping),...Object.keys(this.state.numAutotyperDetected),...Object.keys(this.state.lengthDiffLog),...Object.keys(this.state.numMouseLeaves)]),f={};for(let n of x){let a=r().first(this.state.responses.filter(e=>e.label===n));if(!a||!a.response)continue;let o=a.response,c=this.state.lengthDiffLog[n]||[],l=c.filter(e=>e<0).map(e=>-e),d=c.filter(e=>e>1);f[n]={numBackspaces:l.length,avgBackspaceLength:r().mean(l),maxBackspaceLength:r().max(l),numOfCopyPaste:d.length,avgCopyPasteLength:r().mean(d),maxCopyPasteLength:r().max(d),activeTimeTyping:this.state.activeTimeTyping[n],numAutotyperDetected:null!==(t=this.state.numAutotyperDetected[n])&&void 0!==t?t:0,totalChanges:null!==(s=c.length)&&void 0!==s?s:0,numMouseLeaves:null!==(i=this.state.numMouseLeaves[n])&&void 0!==i?i:0,lengthDiffLog:c,charCount:null==o?void 0:o.length,wordCount:o?null===(e=r().words(o))||void 0===e?void 0:e.length:void 0}}let g=this.state.copyEventsLog;if(g&&g.length>0){let e=g.map(e=>e.text),t=g.map(e=>e.timestamp);p={copyTextLog:e,copyTimestampLog:t,maxCopyTextLength:null!==(o=null===(n=r().maxBy(e,e=>e.length))||void 0===n?void 0:n.length)&&void 0!==o?o:0,minCopyTextLength:null!==(c=null===(a=r().minBy(e,e=>e.length))||void 0===a?void 0:a.length)&&void 0!==c?c:0,avgCopyTextLength:r().meanBy(e,e=>{var t;return null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0}),numCopyEvents:e.length}}let b=this.state.pasteEventsLog;if(b&&b.length>0){let e=b.map(e=>e.text),t=b.map(e=>e.timestamp);m={pasteTextLog:e,pasteTimestampLog:t,maxPasteTextLength:null!==(h=null===(l=r().maxBy(e,e=>e.length))||void 0===l?void 0:l.length)&&void 0!==h?h:0,minPasteTextLength:null!==(u=null===(d=r().minBy(e,e=>e.length))||void 0===d?void 0:d.length)&&void 0!==u?u:0,avgPasteTextLength:r().meanBy(e,e=>{var t;return null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0}),numPasteEvents:e.length}}return{textFields:f,copyTextEvents:p,pasteTextEvents:m}},this.handleUpdateBehaviourLog=(e,t,s)=>{var i,n,a;let o=t.response.length-(null!==(a=null===(n=this.state.responses[e])||void 0===n?void 0:null===(i=n.response)||void 0===i?void 0:i.length)&&void 0!==a?a:0),c=s.nativeEvent.timeStamp,l=r().cloneDeep(this.state.typingEvents);l[t.label]=[...this.state.typingEvents[t.label]||[],{timestamp:c,lengthDiff:o}],this.setState({typingEvents:l}),this.debouncedUpdateBehaviourLog(e,t.label,l[t.label])},this.onMouseLeave=(e,t)=>{if(t&&(this.props.qualificationId||this.props.workerSkillId)){let t=r().cloneDeep(this.state.numMouseLeaves);t[e]=(this.state.numMouseLeaves[e]||0)+1,this.setState({numMouseLeaves:t})}},this.handleResponseEdit=(e,t,s)=>{var i,n,a;if(s&&t.response.length-(null!==(a=null===(n=this.state.responses[e])||void 0===n?void 0:null===(i=n.response)||void 0===i?void 0:i.length)&&void 0!==a?a:0)>10)return;let o=r().cloneDeep(this.state.responses);o[e]=t,this.setState({responses:o})},this.detectAutotyper=(e,t,s)=>{var i,n;if(!this.state.lastKeystrokeTimestamp){this.setState({lastKeystrokeTimestamp:s});return}let a=s-this.state.lastKeystrokeTimestamp,o=a<ea?[...this.state.keystrokeIntervals,a].slice(-en):[];if(o.length===en&&r().mean(o)>(null!==(i=r().max(o))&&void 0!==i?i:0)-(null!==(n=r().min(o))&&void 0!==n?n:0)){if(this.setState({keystrokeIntervals:[],lastKeystrokeTimestamp:s}),this.props.qualificationId||this.props.workerSkillId){let e=r().cloneDeep(this.state.numAutotyperDetected);e[t]=(this.state.numAutotyperDetected[t]||0)+1,this.setState({numAutotyperDetected:e})}}else this.setState({keystrokeIntervals:o,lastKeystrokeTimestamp:s})},this.handleCheckAnswer=async()=>{let e=await (0,p.fetchApi)("/courses/checkAnswer",{method:"POST",body:{name:this.props.course.name,textResponses:this.state.responses,sectionIndex:this.props.sectionIndex}}).then(p.handleErrorsAndJsonify);e.isCorrect?this.setState({isLastAttemptCorrect:!0,showFeedback:!0}):(this.setState({isLastAttemptCorrect:!1,lastAttemptTime:l()(),showFeedback:!0}),this.intervalId=window.setInterval(this.handleTick,1e3))},this.state={lastAttemptTime:null,responses:[],showFeedback:!1,showInstructionHint:!1,keystrokeIntervals:[],lastKeystrokeTimestamp:null,typingEvents:{},lengthDiffLog:{},activeTimeTyping:{},numMouseLeaves:{},numAutotyperDetected:{},copyEventsLog:[],pasteEventsLog:[]}}};return(0,A.Zh)("course")(TextResponse)})(ec),ey=(e=>{let TextResponseRewrite=class TextResponseRewrite extends d.Component{async componentDidMount(){let e=await this.checkCourseAnswers()||[],t=e.length>0?[]:await this.checkLocalAnswers();this.setState({responses:e.length>0?e:t.length>0?t:this.state.responses}),document.addEventListener("copy",this.handleCopyTextEvent),document.addEventListener("paste",this.handlePasteEvent)}componentWillUnmount(){this.saveResponseLocal(),document.removeEventListener("copy",this.handleCopyTextEvent),document.removeEventListener("paste",this.handlePasteEvent)}renderContent(){let{questions:e}=this.props.contents,onPasteBlock=e=>(e.preventDefault(),!1);return(0,i.jsxs)(d.Fragment,{children:[(0,i.jsx)("div",{className:"jsx-8828f208206b5a8f questions",children:r().map(e,(e,t)=>{var s,n,a;return(0,i.jsxs)("div",{style:{margin:"12px",width:"800px"},className:"jsx-8828f208206b5a8f",children:[(0,i.jsx)("label",{className:"jsx-8828f208206b5a8f",children:(0,i.jsx)("strong",{className:"jsx-8828f208206b5a8f",children:e.label})}),(0,i.jsx)("div",{className:"jsx-8828f208206b5a8f sp__1"}),(0,i.jsx)(q.Z,{fullWidth:!0,originalText:e.answer,newText:null===(s=this.state.responses[+t])||void 0===s?void 0:s.response}),(0,i.jsx)(L.oi,{placeholder:"Answer",multiline:!0,rows:12,value:null!==(a=null===(n=this.state.responses[+t])||void 0===n?void 0:n.response)&&void 0!==a?a:"",fullWidth:!0,onPaste:onPasteBlock,onMouseLeave:()=>this.onMouseLeave(e.label),onChange:s=>{let i={label:e.label,response:s.target.value};this.handleResponseEdit(+t,i),this.detectAutotyper(+t,e.label,s.nativeEvent.timeStamp),this.handleUpdateBehaviourLog(+t,i,s)}})]},t)})}),(0,i.jsx)(a(),{id:"8828f208206b5a8f",children:".questions.jsx-8828f208206b5a8f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}"})]})}isLoading(){return this.state.responses.filter(e=>null==e?void 0:e.response).length<this.props.contents.questions.length}render(){return(0,i.jsx)(e,{...this.props,handleContinue:()=>{this.saveResponseLocal();let e=this.getAttemptBehaviourLog();return this.props.handleContinue({textResponses:this.state.responses,attemptBehaviourLog:e})},displayType:this.props.t("pop-quiz"),content:this.renderContent(),isLoading:this.isLoading(),canContinue:!0,isCertification:this.props.course.isCertification})}constructor(e){super(e),this.checkLocalAnswers=async()=>{let{sectionIndex:e}=this.props,t=this.props.title+"_"+e,s=JSON.parse(sessionStorage.getItem(t)||"[]");return s},this.checkCourseAnswers=async()=>{try{var e;let{course:t,sectionIndex:s}=this.props,i=await (0,p.fetchApi)("/courses/getSectionRecent",{method:"POST",body:{id:t._id,sectionIndex:s}}).then(p.handleErrorsAndJsonify),n=(null==i?void 0:null===(e=i.questions)||void 0===e?void 0:e.map((e,t)=>({label:e,response:i.questions[t].answers})))||[];return n}catch(e){return[]}},this.saveResponseLocal=async()=>{let{sectionIndex:e}=this.props,{responses:t}=this.state;if(t.length<1)return;let s=this.props.title+"_"+e;sessionStorage.setItem(s,JSON.stringify(t))},this.debouncedUpdateBehaviourLog=r().debounce((e,t,s)=>{var i,n,a,o;if(!s||!s.length)return;let c=(null!==(a=null===(i=r().last(s))||void 0===i?void 0:i.timestamp)&&void 0!==a?a:0)-(null!==(o=null===(n=r().first(s))||void 0===n?void 0:n.timestamp)&&void 0!==o?o:0),l=r().cloneDeep(this.state.activeTimeTyping);l[t]=(this.state.activeTimeTyping[t]||0)+c,this.setState({activeTimeTyping:l});let d=s.map(e=>e.lengthDiff),h=r().cloneDeep(this.state.lengthDiffLog);h[t]=[...this.state.lengthDiffLog[t]||[],...d],this.setState({lengthDiffLog:h});let u=r().cloneDeep(this.state.typingEvents);u[t]=[],this.setState({typingEvents:u})},800),this.handleCopyTextEvent=e=>{var t;let s=null===(t=window.getSelection())||void 0===t?void 0:t.toString();if(s&&e.target instanceof Element&&!["textarea","input"].includes(e.target.tagName.toLowerCase())){let e=Date.now();this.setState({copyEventsLog:[...this.state.copyEventsLog,{text:s,timestamp:e}]})}},this.handlePasteEvent=e=>{if(e.clipboardData){let t=e.clipboardData.getData("text/plain"),s=Date.now();this.setState({pasteEventsLog:[...this.state.pasteEventsLog,{text:t,timestamp:s}]})}},this.getAttemptBehaviourLog=()=>{var e,t,s,i,n,a,o,c,l,d,h,u;let p,m;let x=r().uniq([...Object.keys(this.state.activeTimeTyping),...Object.keys(this.state.numAutotyperDetected),...Object.keys(this.state.lengthDiffLog),...Object.keys(this.state.numMouseLeaves)]),f={};for(let n of x){let a=r().first(this.state.responses.filter(e=>e.label===n));if(!a||!a.response)continue;let o=a.response,c=this.state.lengthDiffLog[n]||[],l=c.filter(e=>e<0).map(e=>-e),d=c.filter(e=>e>1);f[n]={numBackspaces:l.length,avgBackspaceLength:r().mean(l),maxBackspaceLength:r().max(l),numOfCopyPaste:d.length,avgCopyPasteLength:r().mean(d),maxCopyPasteLength:r().max(d),activeTimeTyping:this.state.activeTimeTyping[n],numAutotyperDetected:null!==(t=this.state.numAutotyperDetected[n])&&void 0!==t?t:0,totalChanges:null!==(s=c.length)&&void 0!==s?s:0,numMouseLeaves:null!==(i=this.state.numMouseLeaves[n])&&void 0!==i?i:0,lengthDiffLog:c,charCount:null==o?void 0:o.length,wordCount:o?null===(e=r().words(o))||void 0===e?void 0:e.length:void 0}}let g=this.state.copyEventsLog;if(g&&g.length>0){let e=g.map(e=>e.text),t=g.map(e=>e.timestamp);p={copyTextLog:e,copyTimestampLog:t,maxCopyTextLength:null!==(o=null===(n=r().maxBy(e,e=>e.length))||void 0===n?void 0:n.length)&&void 0!==o?o:0,minCopyTextLength:null!==(c=null===(a=r().minBy(e,e=>e.length))||void 0===a?void 0:a.length)&&void 0!==c?c:0,avgCopyTextLength:r().meanBy(e,e=>{var t;return null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0}),numCopyEvents:e.length}}let b=this.state.pasteEventsLog;if(b&&b.length>0){let e=b.map(e=>e.text),t=b.map(e=>e.timestamp);m={pasteTextLog:e,pasteTimestampLog:t,maxPasteTextLength:null!==(h=null===(l=r().maxBy(e,e=>e.length))||void 0===l?void 0:l.length)&&void 0!==h?h:0,minPasteTextLength:null!==(u=null===(d=r().minBy(e,e=>e.length))||void 0===d?void 0:d.length)&&void 0!==u?u:0,avgPasteTextLength:r().meanBy(e,e=>{var t;return null!==(t=null==e?void 0:e.length)&&void 0!==t?t:0}),numPasteEvents:e.length}}return{textFields:f,copyTextEvents:p,pasteTextEvents:m}},this.handleUpdateBehaviourLog=(e,t,s)=>{var i,n,a;let o=t.response.length-(null!==(a=null===(n=this.state.responses[e])||void 0===n?void 0:null===(i=n.response)||void 0===i?void 0:i.length)&&void 0!==a?a:0),c=s.nativeEvent.timeStamp,l=r().cloneDeep(this.state.typingEvents);l[t.label]=[...this.state.typingEvents[t.label]||[],{timestamp:c,lengthDiff:o}],this.setState({typingEvents:l}),this.debouncedUpdateBehaviourLog(e,t.label,l[t.label])},this.onMouseLeave=e=>{if(this.props.qualificationId||this.props.workerSkillId){let t=r().cloneDeep(this.state.numMouseLeaves);t[e]=(this.state.numMouseLeaves[e]||0)+1,this.setState({numMouseLeaves:t})}},this.handleResponseEdit=(e,t)=>{var s,i,n;if(t.response.length-(null!==(n=null===(i=this.state.responses[e])||void 0===i?void 0:null===(s=i.response)||void 0===s?void 0:s.length)&&void 0!==n?n:0)>10)return;let a=r().cloneDeep(this.state.responses);a[e]=t,this.setState({responses:a})},this.detectAutotyper=(e,t,s)=>{var i,n;if(!this.state.lastKeystrokeTimestamp){this.setState({lastKeystrokeTimestamp:s});return}let a=s-this.state.lastKeystrokeTimestamp,o=a<ea?[...this.state.keystrokeIntervals,a].slice(-en):[];if(o.length===en&&r().mean(o)>(null!==(i=r().max(o))&&void 0!==i?i:0)-(null!==(n=r().min(o))&&void 0!==n?n:0)){if(this.setState({keystrokeIntervals:[],lastKeystrokeTimestamp:s}),this.props.qualificationId||this.props.workerSkillId){let e=r().cloneDeep(this.state.numAutotyperDetected);e[t]=(this.state.numAutotyperDetected[t]||0)+1,this.setState({numAutotyperDetected:e})}}else this.setState({keystrokeIntervals:o,lastKeystrokeTimestamp:s})},this.state={responses:e.contents.questions.map(e=>({label:e.label,response:e.answer})),keystrokeIntervals:[],lastKeystrokeTimestamp:null,typingEvents:{},lengthDiffLog:{},activeTimeTyping:{},numMouseLeaves:{},numAutotyperDetected:{},copyEventsLog:[],pasteEventsLog:[]}}};return(0,A.Zh)("course")(TextResponseRewrite)})(ec),ev=(e=>{let SampleTask=class SampleTask extends d.Component{handleChange(e,t){let s=[...this.state.labels];s[e]=t,this.setState({labels:s})}renderContent(){let e=r().get(this.props,"contents.questions",[]),{labels:t}=this.state,s=e.map((e,s)=>{let{name:n,description:a,choices:o,freeform:r}=e;return(0,i.jsxs)("div",{style:{marginBottom:24},children:[(0,i.jsx)("strong",{children:n}),(0,i.jsx)("p",{children:a}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[o&&o.map(e=>(0,i.jsx)(L.Y8,{value:e,label:e,labelPlacement:"end",checked:t[s]===e,onChange:t=>t.target.checked&&this.handleChange(s,e)},e)),r&&(0,i.jsx)(L.oi,{value:t[s],onChange:e=>this.handleChange(s,e.target.value)})]})]},s)}),n=(0,i.jsx)(h.zx,{onClick:()=>{this.setState({submitted:!0}),F().success("Congrats, you've submitted your first task! Complete this course to see your payout!")},disabled:!r().every(this.state.labels,e=>e.length)||this.state.submitted,style:{marginLeft:"auto",marginBottom:"-10vh"},type:"primary",children:"Submit Task"});return this.props.isMobile?(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"-10vh"},children:[(0,i.jsx)("div",{style:{height:"35vh",overflow:"auto",marginBottom:24},children:s}),(0,i.jsx)("div",{style:{borderTop:"1px solid gray"}}),(0,i.jsx)("div",{style:{height:"38vh",overflow:"auto"},dangerouslySetInnerHTML:{__html:m.ZP.render(this.props.contents.attachment)}}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:n})]}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"-10vh"},children:[(0,i.jsx)("div",{style:{width:"67vw",height:"65vh",overflow:"auto",marginRight:"3vw"},dangerouslySetInnerHTML:{__html:m.ZP.render(this.props.contents.attachment)}}),(0,i.jsx)("div",{style:{width:"30vw",height:"65vh",overflow:"auto"},children:s})]}),(0,i.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:n})]})}render(){let t=this.state.submitted;return(0,i.jsx)(e,{...this.props,content:this.renderContent(),canContinue:t,isLoading:!t})}constructor(e){super(e);let{contents:t}=e;this.state={labels:t.questions.map(()=>""),submitted:!1}}};return(0,A.Zh)("course")(withMediaQuery("(max-width: ".concat(S.Et,")"))(SampleTask))})(ec),ej=(e=>{var t;let s;(t=s||(s={}))[t.Setup=0]="Setup",t[t.AcuityCheck=1]="AcuityCheck",t[t.Complete=2]="Complete";let n=["↖","↑","↗","←","","→","↙","↓","↘"],o=[0,45,90,-45,135,-90,-135,-180];let VisualAcuity=class VisualAcuity extends d.Component{componentDidUpdate(){2!==this.state.step&&this.state.responses.length>=this.state.answers.length&&this.setState({step:2})}handleCardPlus(){this.setState(e=>({adjustmentComplete:!0,cardWidth:e.cardWidth+2}))}handleCardMinus(){this.setState(e=>({adjustmentComplete:!0,cardWidth:e.cardWidth-2}))}handleNextStep(){let e=0;0===this.state.step&&(e=1),this.setState({step:e})}handleArrowClick(e){this.setState({responses:[...this.state.responses,e]})}handleContinue(){if(2!==this.state.step)return this.handleNextStep();let e=0;this.state.responses.map((t,s)=>{t===this.state.answers[s]&&(e+=1)});let t=5.4/(.9357*this.state.cardWidth);return this.props.handleContinue({visualTestResult:{visualAcuityAccuracy:e/this.state.answers.length},screenPhysicalSize:{widthCM:window.screen.width*t,heightCM:window.screen.height*t}})}renderSetup(){return(0,i.jsxs)("div",{id:"setup-visual-acuity",style:{visibility:0!==this.state.step?"hidden":"visible",height:0!==this.state.step?"0px":"100%"},className:"jsx-155ad479adcf24d3",children:[(0,i.jsxs)("div",{className:"jsx-155ad479adcf24d3 row",children:[(0,i.jsx)("h3",{className:"jsx-155ad479adcf24d3",children:" 1. Screen adjustment"}),(0,i.jsx)("p",{className:"jsx-155ad479adcf24d3",children:"Adjust the distance between the two dashed lines on either side of the credit card image by clicking on the +/- button to measure exactly 5.4 cm or 2″. Put a ruler up against your screen to measure the distance. You can also use the short side of a debit/credit card, which happens to measure exactly this distance!"}),(0,i.jsxs)("div",{className:"jsx-155ad479adcf24d3 screen-adjustment-container",children:[(0,i.jsx)(h.zx,{style:{float:"left",marginTop:"100px",maxWidth:"24px"},onClick:()=>this.handleCardPlus(),children:"+"}),(0,i.jsx)("div",{style:{textAlign:"center",maxHeight:"200px"},className:"jsx-155ad479adcf24d3",children:(0,i.jsx)("img",{id:"card",src:b.VISUAL_ACUITY_CARD_URL,alt:"card",style:{margin:"0 20px",maxWidth:"500px",height:"200px",width:this.state.cardWidth},className:"jsx-155ad479adcf24d3"})}),(0,i.jsx)(h.zx,{style:{float:"right",marginTop:"100px"},onClick:()=>this.handleCardMinus(),children:"-"})]})]}),(0,i.jsxs)("div",{className:"jsx-155ad479adcf24d3 row",children:[(0,i.jsx)("h3",{className:"jsx-155ad479adcf24d3",children:" 2. Distance to screen"}),(0,i.jsx)("p",{className:"jsx-155ad479adcf24d3",children:'Please make sure to keep your eyes about 50 to 100 cm (20"-40") from the screen. As a rough gauge, this distance is about an extended arm\'s length.'}),(0,i.jsx)("div",{className:"jsx-155ad479adcf24d3 distance-screen-container",children:(0,i.jsx)("img",{src:b.VISUAL_ACUITY_DISTANCE_URL,alt:"distance",style:{width:"300px",margin:"50px 20px 0"},className:"jsx-155ad479adcf24d3"})})]}),(0,i.jsx)(a(),{id:"155ad479adcf24d3",children:".screen-adjustment-container.jsx-155ad479adcf24d3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center;margin:0 auto;overflow:visible;width:400px}.distance-screen-container.jsx-155ad479adcf24d3{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center;text-align:center;margin:0 auto}.row.jsx-155ad479adcf24d3{padding:30px}"})]})}renderQuestions(){let e=.104*this.state.cardWidth/5.74;return(0,i.jsxs)("div",{style:{visibility:0===this.state.step?"hidden":"visible",height:0===this.state.step?"0px":"100%"},className:"jsx-a3dcc2336e855f14",children:[(0,i.jsx)("p",{className:"jsx-a3dcc2336e855f14",children:(0,i.jsx)("b",{className:"jsx-a3dcc2336e855f14",children:"Step 2:"})}),(0,i.jsx)("p",{className:"jsx-a3dcc2336e855f14",children:'We will show you a series broken rings with gaps which make them look similar to the letter "C". The rings may appear in different sizes and orientations. The rings look like the three images below, but will be very, very small!'}),(0,i.jsxs)("div",{className:"jsx-a3dcc2336e855f14 sample-circles-container",children:[(0,i.jsx)("div",{className:"jsx-a3dcc2336e855f14 sample-circle",children:(0,i.jsx)("img",{src:b.VISUAL_ACUITY_LANDOLTC_URL,alt:"lc",style:{width:"50px",margin:"0 auto"},className:"jsx-a3dcc2336e855f14"})}),(0,i.jsx)("div",{className:"jsx-a3dcc2336e855f14 sample-circle",children:(0,i.jsx)("img",{src:b.VISUAL_ACUITY_LANDOLTC_URL,alt:"lc",style:{width:"50px",margin:"0 auto",transform:"rotate(90deg)"},className:"jsx-a3dcc2336e855f14"})}),(0,i.jsx)("div",{className:"jsx-a3dcc2336e855f14 sample-circle",children:(0,i.jsx)("img",{src:b.VISUAL_ACUITY_LANDOLTC_URL,alt:"lc",style:{width:"50px",margin:"0 auto",transform:"rotate(235deg)"},className:"jsx-a3dcc2336e855f14"})})]}),(0,i.jsx)("p",{className:"jsx-a3dcc2336e855f14",children:"Your task for each ring is to click the arrow button (amongst the 8 surrounding the central ring image) which points in the direction where the gap of the ring is from the center of the ring. To be clear, the ring in question appears in the center of the the 8 arrow buttons."}),(0,i.jsxs)("p",{className:"jsx-a3dcc2336e855f14",children:["In the examples above, the gaps of the rings correspond to the",(0,i.jsx)("b",{className:"jsx-a3dcc2336e855f14",children:"→"}),", ↓, and ↖, from left to right. If you are unsure about the direction of the gap in the ring when viewed from an arm's length distance from your screen, please make your best guess."]}),(0,i.jsxs)("p",{className:"jsx-a3dcc2336e855f14",children:[(0,i.jsx)("b",{className:"jsx-a3dcc2336e855f14",children:"Very important:"})," Do not move closer to the screen during the test. It is crucial that you provide genuine answers.",(0,i.jsx)("br",{className:"jsx-a3dcc2336e855f14"}),"Start whenever you are ready!"]}),(0,i.jsxs)("div",{className:"jsx-a3dcc2336e855f14 table-container",children:[(0,i.jsx)("div",{className:"jsx-a3dcc2336e855f14 table-box",children:n.map((t,s)=>t?(0,i.jsx)("div",{className:"jsx-a3dcc2336e855f14",children:(0,i.jsx)(h.zx,{onClick:()=>this.handleArrowClick(s<4?s:s-1),disabled:this.state.responses.length>=this.state.answers.length,children:t})},s):(0,i.jsx)("div",{className:"jsx-a3dcc2336e855f14 ring-container",children:(0,i.jsx)("img",{id:"landolt",src:b.VISUAL_ACUITY_LANDOLTC_URL,alt:"lc",style:{width:e,margin:"0 auto",transform:"rotate(".concat(o[this.state.answers[this.state.responses.length]]-135,"deg)")},className:"jsx-a3dcc2336e855f14 ring-img"})},s))}),(0,i.jsx)("div",{className:"jsx-a3dcc2336e855f14 msg-container",children:this.state.responses.length<this.state.answers.length?(0,i.jsxs)(i.Fragment,{children:["Question ",(0,i.jsx)("b",{className:"jsx-a3dcc2336e855f14",children:this.state.responses.length+1})," out of"," ",(0,i.jsx)("b",{className:"jsx-a3dcc2336e855f14",children:this.state.answers.length})]}):(0,i.jsx)("span",{style:{color:"green"},className:"jsx-a3dcc2336e855f14",children:"Visual acuity check complete!"})})]}),(0,i.jsx)(a(),{id:"a3dcc2336e855f14",children:".sample-circles-container.jsx-a3dcc2336e855f14{margin:30px auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.sample-circle.jsx-a3dcc2336e855f14{text-align:center;width:30%}.table-container.jsx-a3dcc2336e855f14{text-align:center;margin:40px auto 10px;width:250px}.ring-container.jsx-a3dcc2336e855f14{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.ring-img.jsx-a3dcc2336e855f14{width:5px;margin:0 auto}.msg-container.jsx-a3dcc2336e855f14{text-align:center;font-size:small;margin-top:30px}.table-box.jsx-a3dcc2336e855f14{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}.table-box.jsx-a3dcc2336e855f14>*.jsx-a3dcc2336e855f14{width:33.333%;padding:10px}"})]})}renderContent(){return(0,i.jsxs)("div",{children:[this.renderSetup(),this.renderQuestions()]})}render(){let t=!this.state.adjustmentComplete||1===this.state.step&&this.state.responses.length<this.state.answers.length;return(0,i.jsx)(e,{...this.props,content:this.renderContent(),handleContinue:()=>this.handleContinue(),canContinue:!0,isLoading:t,isPrevEnabled:0===this.state.step})}constructor(e){super(e);let t=[,,,,,].fill(0).map(()=>Math.floor(Math.random()*o.length));this.state={step:0,answers:t,responses:[],adjustmentComplete:!1,cardWidth:210}}};return VisualAcuity})(ec),ew=(e=>{let VisualBrightness=class VisualBrightness extends d.Component{handleContinue(){let e=this.state.answers.circles===this.state.responses.circles&&this.state.answers.triangles===this.state.responses.triangles;return e?alert("Great! Your answer is correct"):alert("Your answer is incorrect. Try adjusting your screen brightness, the light in the room, or your position, and try again!"),this.props.handleContinue({visualTestResult:{visualBrightnessCorrect:e}})}renderContent(){return(0,i.jsxs)("div",{className:"jsx-a47ed4076ffd4650",children:[(0,i.jsxs)("p",{className:"jsx-a47ed4076ffd4650",children:[(0,i.jsx)("b",{className:"jsx-a47ed4076ffd4650",children:"IMPORTANT:"})," You may ",(0,i.jsx)("b",{className:"jsx-a47ed4076ffd4650",children:"change"})," the brightness of your screen, light in your environment, or your position on your seat until you can see all of the shapes. Use this task to setup your system/environment and keep the setting until the end of this HIT."]}),(0,i.jsx)("div",{className:"jsx-a47ed4076ffd4650 sp__2"}),(0,i.jsx)("div",{className:"jsx-a47ed4076ffd4650 question-image",children:(0,i.jsx)("img",{src:this.state.imgUrl,className:"jsx-a47ed4076ffd4650"})}),(0,i.jsx)("div",{style:{textAlign:"center",margin:"50px 0"},className:"jsx-a47ed4076ffd4650",children:(0,i.jsxs)("p",{className:"jsx-a47ed4076ffd4650",children:["Q. How many ",(0,i.jsx)("b",{className:"jsx-a47ed4076ffd4650",children:"circles"})," and ",(0,i.jsx)("b",{className:"jsx-a47ed4076ffd4650",children:"triangles"})," do you see in the image?"]})}),(0,i.jsxs)("div",{className:"jsx-a47ed4076ffd4650 responses",children:[(0,i.jsxs)("div",{style:{margin:"12px",width:"200px"},className:"jsx-a47ed4076ffd4650",children:[(0,i.jsx)("label",{className:"jsx-a47ed4076ffd4650",children:(0,i.jsx)("strong",{className:"jsx-a47ed4076ffd4650",children:"Circles"})}),(0,i.jsx)("div",{className:"jsx-a47ed4076ffd4650 sp__1"}),(0,i.jsx)(O.oH,{placeholder:"Answer",onChange:e=>this.setState({...this.state,responses:{...this.state.responses,circles:+e.target.value}})})]}),(0,i.jsxs)("div",{style:{margin:"12px",width:"200px"},className:"jsx-a47ed4076ffd4650",children:[(0,i.jsx)("label",{className:"jsx-a47ed4076ffd4650",children:(0,i.jsx)("strong",{className:"jsx-a47ed4076ffd4650",children:"Triangles"})}),(0,i.jsx)("div",{className:"jsx-a47ed4076ffd4650 sp__1"}),(0,i.jsx)(O.oH,{placeholder:"Answer",onChange:e=>this.setState({...this.state,responses:{...this.state.responses,triangles:+e.target.value}})})]})]}),(0,i.jsx)(a(),{id:"a47ed4076ffd4650",children:".responses.jsx-a47ed4076ffd4650{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.question-image.jsx-a47ed4076ffd4650{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})}render(){return(0,i.jsx)(e,{...this.props,content:this.renderContent(),handleContinue:()=>this.handleContinue(),isLoading:!this.state.responses.circles||!this.state.responses.triangles,canContinue:!0})}constructor(e){super(e);let t=b.VISUAL_BRIGHTNESS_URLS[Math.floor(Math.random()*b.VISUAL_BRIGHTNESS_URLS.length)];this.state={imgUrl:t.imgUrl,answers:{circles:t.circles,triangles:t.triangles},responses:{circles:0,triangles:0}}}};return VisualBrightness})(ec),ek=(e=>{let VisualColorBlindness=class VisualColorBlindness extends d.Component{handleContinue(){let{questions:e,answers:t,index:s}=this.state;if(s<e.length-1)return this.setState({index:s+1});let i=e.every((e,s)=>e.answer===Number(t[s]));return this.props.handleContinue({visualTestResult:{visualColorBlindnessCorrect:i}})}renderContent(){let{questions:e,index:t,answers:s}=this.state,n=e[t].imgUrl,o=s[t];return(0,i.jsxs)("div",{className:"jsx-28e5fda7a3f10251",children:[(0,i.jsx)("p",{className:"jsx-28e5fda7a3f10251",children:'Type in the number you see in the following pictures. In case you do not see a number input "x".'}),(0,i.jsx)("div",{className:"jsx-28e5fda7a3f10251 sp__2"}),(0,i.jsx)("div",{className:"jsx-28e5fda7a3f10251 question-image",children:(0,i.jsx)("img",{src:n,width:256,height:256,className:"jsx-28e5fda7a3f10251"})}),(0,i.jsx)("div",{className:"jsx-28e5fda7a3f10251 responses",children:(0,i.jsxs)("div",{style:{margin:"12px",width:"200px"},className:"jsx-28e5fda7a3f10251",children:[(0,i.jsx)("label",{className:"jsx-28e5fda7a3f10251",children:(0,i.jsx)("strong",{className:"jsx-28e5fda7a3f10251",children:"Enter Number:"})}),(0,i.jsx)("div",{className:"jsx-28e5fda7a3f10251 sp__1"}),(0,i.jsx)(O.oH,{placeholder:"Answer",value:o,onChange:this.handleInputChange})]})}),(0,i.jsx)(a(),{id:"28e5fda7a3f10251",children:".responses.jsx-28e5fda7a3f10251{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.question-image.jsx-28e5fda7a3f10251{width:256px;margin:0 auto}"})]})}render(){let{index:t,answers:s}=this.state;return(0,i.jsx)(e,{...this.props,content:this.renderContent(),handleContinue:()=>this.handleContinue(),isLoading:!s[t],canContinue:!0})}constructor(e){super(e),this.handleInputChange=e=>{let t=e.currentTarget.value;this.setState(e=>({answers:r().set([...e.answers],e.index,t)}))};let t=r().shuffle(b.VISUAL_COLOR_BLINDNESS_URLS);this.state={index:0,questions:t,answers:r().fill(Array(t.length),"")}}};return VisualColorBlindness})(ec),eC=(e=>{let VisualDistance=class VisualDistance extends d.Component{componentWillUnmount(){this.hiddenTimeout&&clearTimeout(this.hiddenTimeout)}handleContinue(){let{selectedChoice:e,index:t,correct:s}=this.state,i=b.VISUAL_DISTANCE_BASE===e?s+1:s;if(t<el-1)return this.setState({index:t+1,selectedChoice:void 0,correct:i,hidden:!0},()=>{this.hiddenTimeout=setTimeout(()=>this.setState({hidden:!1}),1e3)});{let e=i===el;return e?alert("Well done! You successfully pass the setup test, keep your distance to the screen as it is."):alert('Are you sure? You may be too close, or too far away from your screen. Please make sure to keep your eyes about 50 to 100 cm (20"-40") from the screen. The minimum distance is about an arm`s length as a rule of thumb.'),this.props.handleContinue({visualTestResult:{visualDistanceCorrect:e}})}}renderContent(){let{index:e,questions:t,selectedChoice:s,hidden:n}=this.state,[o,r]=t[e];return n?(0,i.jsx)(L.$j,{}):(0,i.jsxs)("div",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]]),children:[(0,i.jsxs)("h1",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]]),children:["Visual Distance Test # ",e+1]}),"Which image has a better quality compared to the other one? Pictures may be blurry.",(0,i.jsx)("div",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]])+" sp__2"}),(0,i.jsxs)("div",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]])+" questions-container",children:[(0,i.jsxs)("div",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]])+" question",children:[(0,i.jsx)("h2",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]]),children:"Image A"}),(0,i.jsx)("img",{src:o,className:a().dynamic([["768ff8019d3eea76",[S.Et]]])})]}),(0,i.jsxs)("div",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]])+" question",children:[(0,i.jsx)("h2",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]]),children:"Image B"}),(0,i.jsx)("img",{src:r,className:a().dynamic([["768ff8019d3eea76",[S.Et]]])})]})]}),(0,i.jsx)("div",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]])+" sp__3"}),(0,i.jsx)("div",{className:a().dynamic([["768ff8019d3eea76",[S.Et]]])+" "+(N()(this.props.classes.choices,{[this.props.classes.choicesResponsive]:this.props.responsive})||""),children:[{label:"Quality of Image A is better.",value:o},{label:"Quality of Image B is better.",value:r},{label:"Difference is not detectable.",value:""}].map((e,t)=>(0,i.jsx)("div",{onClick:()=>this.setState({selectedChoice:e.value}),className:a().dynamic([["768ff8019d3eea76",[S.Et]]])+" "+(N()(this.props.classes.choice,{[this.props.classes.choiceResponsive]:this.props.responsive,isSelected:s===e.value})||""),children:renderedMarkdown(e.label)},"".concat(t)))}),(0,i.jsx)(a(),{id:"768ff8019d3eea76",dynamic:[S.Et],children:".questions-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:2rem}@media(max-width:".concat(S.Et,"){.questions-container.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.question.__jsx-style-dynamic-selector{margin-top:10px;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;max-width:425px}")})]})}render(){return(0,i.jsx)(e,{...r().omit(this.props,["classes"]),content:this.renderContent(),handleContinue:()=>this.handleContinue(),canContinue:!0,isLoading:void 0===this.state.selectedChoice})}constructor(e){super(e),[b.VISUAL_DISTANCE_BASE,...b.VISUAL_DISTANCE_URLS].forEach(e=>{let t=new Image;t.src=e});let t=r().shuffle(b.VISUAL_DISTANCE_URLS).map(e=>Math.random()>.5?[e,b.VISUAL_DISTANCE_BASE]:[b.VISUAL_DISTANCE_BASE,e]);this.state={questions:t,index:0,selectedChoice:void 0,correct:0,hidden:!1}}};let t=(0,_.Z)({choice:{border:"1px solid var(--border-gray-light)",borderRadius:"var(--border-radius)",padding:"16px",margin:"16px 0",cursor:"pointer",transition:"all 0.1s",userSelect:"none","&:hover":{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.05)"},"&.isSelected":{border:"1px solid var(--color-RemoBlue)",boxShadow:"0px 0px 0px 1px var(--color-RemoBlue)"},img:{maxWidth:"200px",maxHeight:"200px"}},choiceResponsive:{["@media (max-width: ".concat(S.Et,")")]:{margin:"8px 0",padding:"0 16px"}},choices:{display:"grid",gridTemplateColumns:"auto auto",gridColumnGap:"32px"},choicesResponsive:{["@media (max-width: ".concat(S.Et,")")]:{display:"flex",flexDirection:"column"}}});return(0,A.Zh)("course")((0,L.D2)(t)(VisualDistance))})(ec),eS=(e=>{let Confirm=class Confirm extends d.Component{handleResponseEdit(e,t){this.setState(s=>({checkedOrText:{...s.checkedOrText,[e]:t}}))}handleChange(e,t){this.setState(s=>({checkedOrText:{...s.checkedOrText,[e]:t.target.checked}}))}renderContent(){let e=r().get(this.props,"contents.items",[]),{checkedOrText:t}=this.state;return(0,i.jsx)("div",{children:e.map((e,s)=>{var n;return e.isText?(0,i.jsxs)("div",{children:[renderedMarkdown(e.body),(0,i.jsx)("label",{children:e.textBoxLabel}),(0,i.jsx)(L.oi,{fullWidth:!0,rows:1,onPaste:void 0,value:null!==(n=this.state.checkedOrText[s])&&void 0!==n?n:"",onChange:e=>{this.handleResponseEdit(s,e.target.value)}})]},s):(0,i.jsxs)("div",{children:[renderedMarkdown(e.body),(0,i.jsx)(V.X,{label:e.checkboxLabel,checked:t[s],onChange:this.handleChange.bind(this,s)})]},s)})})}render(){let t=r().every(this.state.checkedOrText,e=>"string"==typeof e?e.length>0:e);return(0,i.jsx)(e,{...this.props,handleContinue:()=>{let e=Object.values(this.state.checkedOrText).filter(e=>"string"==typeof e);this.props.handleContinue({confirmResponses:e})},content:this.renderContent(),canContinue:t,isLoading:!t})}constructor(e){super(e);let{contents:t}=e;this.state={checkedOrText:r().mapValues(t.items,e=>!!e.isText&&"")}}};return(0,A.Zh)("course")(Confirm)})(ec),eT=AccountVerificationWrapper(ec),eA=(e=>{let ChatTaskReadOnly=class ChatTaskReadOnly extends d.Component{async fetchChatPromptAndResponses(e){let{params:t,responses:s,chatTaskFeatureConfig:i,reviewLevel:n}=await (0,et.ZP)(null,"internal/courses/chat-preview-content/".concat(e));t&&s&&this.setState({params:t,responses:s,chatTaskFeatureConfig:i,reviewLevel:n})}async componentDidMount(){let e=r().get(this.props,"contents.chatTaskId");await this.fetchChatPromptAndResponses(e)}renderContent(){return(0,i.jsx)("div",{className:"scaleui scale-theme scale-tailwind",children:(0,i.jsx)(d.Suspense,{fallback:(0,i.jsx)("div",{className:"m-4",children:(0,i.jsx)(L.D8,{})}),children:this.state.params&&this.state.responses?(0,i.jsx)(ei,{params:this.state.params,responses:this.state.responses,reviewLevel:this.state.reviewLevel,chatTaskFeatureConfig:this.state.chatTaskFeatureConfig,readOnly:!0}):(0,i.jsx)("div",{className:"m-4",children:(0,i.jsx)(L.D8,{})})})})}render(){return(0,i.jsx)(e,{...this.props,handleContinue:()=>{this.props.handleContinue()},content:this.renderContent(),canContinue:!0,isLoading:!this.state.params||!this.state.responses})}constructor(e){super(e),this.state={}}};return(0,A.Zh)("course")(ChatTaskReadOnly)})(ec);let CourseSection=class CourseSection extends d.Component{render(){switch(this.props.type){case b.CourseSectionType.MultipleChoice:return(0,i.jsx)(ed,{...this.props});case b.CourseSectionType.Scenario:return(0,i.jsx)(eh,{...this.props});case b.CourseSectionType.RichText:return(0,i.jsx)(eu,{...this.props});case b.CourseSectionType.Video:return(0,i.jsx)(em,{...this.props});case b.CourseSectionType.Iframe:return(0,i.jsx)(ex,{...this.props});case b.CourseSectionType.InstructionList:return(0,i.jsx)(ef,{...this.props});case b.CourseSectionType.InstructionObject:return(0,i.jsx)(eg,{...this.props});case b.CourseSectionType.HardwareCalibration:return(0,i.jsx)(ep,{...this.props});case b.CourseSectionType.TextResponse:return(0,i.jsx)(eb,{...this.props});case b.CourseSectionType.TextResponseRewrite:return(0,i.jsx)(ey,{...this.props});case b.CourseSectionType.SampleTask:return(0,i.jsx)(ev,{...this.props});case b.CourseSectionType.VisualTest:switch(this.props.contents.type){case y.SK.Acuity:return(0,i.jsx)(ej,{...this.props});case y.SK.Brightness:return(0,i.jsx)(ew,{...this.props});case y.SK.ColorBlindness:return(0,i.jsx)(ek,{...this.props});case y.SK.Distance:return(0,i.jsx)(eC,{...this.props});default:return null}case b.CourseSectionType.Confirm:return(0,i.jsx)(eS,{...this.props});case b.CourseSectionType.AccountVerification:return(0,i.jsx)(eT,{...this.props});case b.CourseSectionType.ScheduleInterview:return(0,i.jsx)(ScheduleInterviewWrapper,{...this.props});case b.CourseSectionType.ChatTaskReadOnly:return(0,i.jsx)(eA,{...this.props});default:return null}}};var eI=CourseSection},97183:function(e,t,s){s.d(t,{MC:function(){return useOnboardingV3Tour},hx:function(){return n},mh:function(){return useProjectAttachmentHipaaCoverage}});var i,n,a=s(298784),o=s.n(a),r=s(827378),c=s(789018),l=s(352991);function useProjectAttachmentHipaaCoverage(e){let[t,s]=(0,r.useState)(!0),[i,n]=(0,r.useState)(!1);(0,r.useEffect)(()=>{!async function(){let{isAttachmentCoveredByHipaa:t}=await c.Z.selfserve.fetchProjectAttachmentHipaaCoverage({project:e});n(t),s(!1)}()},[e]);let refresh=async()=>{let{isAttachmentCoveredByHipaa:t}=await c.Z.selfserve.fetchProjectAttachmentHipaaCoverage({project:e});n(t)};return{isLoading:t,isProjectAttachmentCoveredByHipaa:i,refresh}}function useOnboardingV3Tour(e,t){let[s,i]=(0,r.useState)(null),[n,a]=(0,r.useState)(0),[d,h]=(0,r.useState)([]),[u,p]=(0,r.useState)(null),m=e?["create_a_new_project","select_template","add_data","use_case_template","template_label","preview_task","taxonomy_next","instructions","preview_instructions","instructions_next","batch_next","launch_batch"]:["create_a_new_project","select_template","sample_dataset","data_imported","use_case","pipeline","use_case_next","label","preview_task","taxonomy_next","instructions","preview_instructions","instructions_next","batch_next","launch_batch"],closeTourStep=e=>{d.includes(e)||("taxonomy_next"===e?h([...d,e,"preview_task","label"]):"instructions_next"===e?h([...d,e,"preview_instructions","instructions"]):h([...d,e]))},resetTour=()=>{h([]),a(0)},handleExitTour=async()=>{h(m),i(!1),a(0);try{(async()=>{await c.Z.selfserve.exitOnboardingTour({})})()}catch(e){h(m),i(!1),a(0)}},handleEnterTour=async()=>{try{(async()=>{await c.Z.selfserve.enterOnboardingTour({})})(),resetTour(),i(!0)}catch(e){resetTour(),i(!0)}};(0,r.useEffect)(()=>{let getShouldEnterTour=async()=>{if(o().isNil(s)){let e=await c.Z.selfserve.checkShouldEnterOnboardingTour({});i(e.shouldEnter),e.shouldEnter?resetTour():h(m)}};getShouldEnterTour().catch(e=>(0,l.vj)(e,{handleHttp:!0}))},[s,m,e]);let x={create_a_new_project:{name:"create_a_new_project",text:"Hello! Start by finding a template that matches your use cases or create a custom project.",placement:"right-end"},sample_dataset:{name:"sample_dataset",text:"Don’t have your data handy? Use a sample dataset instead! You can also add your own data later.",placement:"right"},data_imported:{name:"data_imported",text:"Success! Your data has been imported. Click next to continue.",placement:"bottom"},use_case:{name:"use_case",text:"Pick the use case that best fits your labeling needs. To see examples, click “Learn More.”",placement:"right"},pipeline:{name:"pipeline",text:"A pipeline outlines the sequence in which labelers complete your task. Select one. ",placement:"right"},use_case_next:{name:"use_case_next",text:"Click next to continue!",placement:"bottom"},label:{name:"label",text:"We’ve added some example labels to help you get started. Click into a label to edit its details",placement:"left",hasNext:!0},preview_task:{name:"preview_task",text:"Check how your task will appear to labelers.",placement:"right",hasNext:!0},taxonomy_next:{name:"taxonomy_next",text:"Click next when you have added all your labels!",placement:"bottom"},instructions:{name:"instructions",text:"Write your instructions. We’ve created sections to help you get started! Click into a section to edit its details.",placement:"left",hasNext:!0},preview_instructions:{name:"preview_instructions",text:"Check how your instructions will look to labelers.",placement:"right",hasNext:!0},instructions_next:{name:"instructions_next",text:"Click next when your instructions are ready!",placement:"bottom"},batch_next:{name:"batch_next",text:"Click next to select your data for your first batch!",placement:"left"},launch_batch:{name:"launch_batch",text:"Click here to launch your batch!",placement:"left"},select_template:{name:"select_template",text:"Select this template if it matches your use case!",placement:"bottom"},add_data:{name:"add_data",text:"Click here to add your own data! You can also upload more later. Or, click next to continue.",placement:"bottom"},use_case_template:{name:"use_case_template",text:"Your use case and pipeline are selected based on the template that you have chosen. Click next to continue!",placement:"bottom"},template_label:{name:"template_label",text:"This template comes with some labels to help you get started. Click into a label to edit its details",placement:"left",hasNext:!0}};return t&&s?{tourRef:u,setTourRef:p,currentTourStep:o().get(x,m[n],null),handleNextTourStep:()=>{n+1>=m.length?a(-1):(a(n+1),closeTourStep(m[n]))},syncTourStep:e=>{if(m.includes(e)&&""!==e){if(d.includes(e)&&o().get(x,[e,"hasNext"],null)){for(let t=m.indexOf(e);t<m.length;t++)if(!d.includes(m[t])){a(t);break}}else"taxonomy_next"===e?d.includes("label")?d.includes("preview_task")?a(m.indexOf(e)):a(m.indexOf("preview_task")):a(m.indexOf("label")):"instructions_next"===e?d.includes("instructions")?d.includes("preview_instructions")?a(m.indexOf(e)):a(m.indexOf("preview_instructions")):a(m.indexOf("instructions")):a(m.indexOf(e))}else a(-1),p(null)},closeTourStep,closedTourSteps:d,resetTour,handleEnterTour,handleExitTour,closeUpToCurrentView:e=>{if(m.includes(e)){let t=[];for(let s of m){if(s===e)break;d.includes(s)||t.push(s)}h([...d,...t])}}}:{tourRef:null,setTourRef:()=>{},currentTourStep:"",handleNextTourStep:()=>{},syncTourStep:()=>{},closeTourStep:()=>{},closedTourSteps:[],resetTour:()=>{},handleEnterTour,handleExitTour:()=>{},closeUpToCurrentView:()=>{}}}(i=n||(n={})).Clear="",i.CreateANewProject="create_a_new_project",i.SelectTemplate="select_template",i.SampleDataset="sample_dataset",i.AddData="add_data",i.DataImported="data_imported",i.UseCase="use_case",i.UseCaseTemplate="use_case_template",i.Pipeline="pipeline",i.UseCaseNext="use_case_next",i.Label="label",i.TemplateLabel="template_label",i.PreviewTask="preview_task",i.TaxonomyNext="taxonomy_next",i.Instructions="instructions",i.PreviewInstructions="preview_instructions",i.InstructionsNext="instructions_next",i.BatchNext="batch_next",i.LaunchBatch="launch_batch"},891298:function(e,t,s){s.d(t,{$O:function(){return u},kZ:function(){return OnboardingProvider},I6:function(){return d},XK:function(){return h},FY:function(){return l},kc:function(){return useOnboarding}});var i,n,a,o,r,c,l,d,h,u,p=s(824246),m=s(827378),x=s(599789),f=s(167469),g=s(741722),b=s(789018),y=s(629554),v=s(434592);(i=c||(c={})).EU_DATA="EU_DATA",i.US_DATA="US_DATA",i.SENSITIVE_CONTENT_OBSCENE="SENSITIVE_CONTENT_OBSCENE",i.SENSITIVE_CONTENT_VIOLENT="SENSITIVE_CONTENT_VIOLENT",i.SENSITIVE_CONTENT_DEFAMATORY="SENSITIVE_CONTENT_DEFAMATORY",i.SENSITIVE_CONTENT_WEAPONS="SENSITIVE_CONTENT_WEAPONS",i.SENSITIVE_CONTENT_TERROR="SENSITIVE_CONTENT_TERROR",i.SENSITIVE_CONTENT_PUBLICITY_RIGHTS="SENSITIVE_CONTENT_PUBLICITY_RIGHTS",i.HIPAA_VENDOR="HIPAA_VENDOR",i.HIPAA_ATTACHMENTS="HIPAA_ATTACHMENTS",i.HIPAA_RESPONSES="HIPAA_RESPONSES",i.PII="PII",i.PERSONAL_TRAITS="PERSONAL_TRAITS",i.FINANCIAL_INST="FINANCIAL_INST",i.OWNERSHIP="OWNERSHIP";var j=s(298784),w=s.n(j),k=s(97183),C=s(837553),S=s(222868);(n=l||(l={})).Creation="creation",n.DataUpload="dataupload",n.DataView="dataview",n.ProjectConfig="projectconfig",n.Taxonomy="taxonomy",n.Instruction="instruction",n.Task="task",n.Workforce="workforce",n.DataSelect="dataselect",n.ProjectSettings="projectsettings",n.Payment="payment",n.Complete="complete",(a=d||(d={})).Creation="creation",a.Data="data",a.ProjectConfig="projectconfig",a.Taxonomy="taxonomy",a.Instruction="instruction",a.Task="task",a.Batch="batch",a.Summary="summary",(o=h||(h={})).Incomplete="incomplete",o.Complete="complete",o.Locked="locked",(r=u||(u={})).View="view",r.Taxonomy="editTaxonomy",r.Changes="propagateChanges",r.Instructions="editInstructions";let T=m.createContext({isOnboardingComplete:void 0,setIsOnboardingComplete:()=>{},loading:void 0,setLoading:()=>{},project:void 0,setProject:()=>{},currentView:void 0,setCurrentView:()=>{},currentStep:void 0,setCurrentStep:()=>{},hasAssets:void 0,setHasAssets:()=>{},onboardingSteps:[],setOnboardingSteps:()=>{},firstBatchSelectedMap:void 0,setFirstBatchSelectedMap:()=>{},selectionQueryFilter:void 0,setSelectionQueryFilter:()=>{},firstBatchSelectionMethod:void 0,setFirstBatchSelectionMethod:()=>{},firstBatchNumTasks:void 0,setFirstBatchNumTasks:()=>{},numAssets:void 0,setNumAssets:()=>{},taskCount:void 0,setTaskCount:()=>{},costEstimate:void 0,setCostEstimate:()=>{},taskType:void 0,setTaskType:()=>{},projectUseCase:void 0,setProjectUseCase:()=>{},finalizeOnboarding:()=>{},nextEnabled:void 0,setNextEnabled:()=>{},batchSelected:void 0,setBatchSelected:()=>{},batchName:"first_batch",setBatchName:()=>{},isSelfLabel:!1,projectOptions:void 0,setProjectOptions:()=>{},useOldOnboarding:!1,setUseOldOnboarding:()=>{},sensitiveDataSelections:w().zipObject(Object.values(c),Array(Object.keys(c).length).fill(!1)),setSensitiveDataSelections:()=>{},sensitiveDataQuestionnaireCompleted:!1,setSensitiveDataQuestionnaireCompleted:()=>{},useCaseType:void 0,setUseCaseType:()=>{},templatePipeline:void 0,setTemplatePipeline:()=>{},footerShown:!1,setFooterShown:()=>{},stepNext:void 0,setStepNext:()=>{},disabledNextText:void 0,setDisabledNextText:()=>{},isAttachmentHipaaCovered:!1,hipaaCoverageRefresh:()=>{},populatePriceEstimator:!1,setPopulatePriceEstimator:()=>{},firstTimeTemplate:!1,setFirstTimeTemplate:()=>{},useOnboardingV3:!1,canUsePlugAndPlay:!1,usePlugAndPlayOnboarding:!1,plugAndPlayV2:!1,collapseSidebar:!1,setCollapseSidebar:()=>{},handleExitTour:()=>{},handleEnterTour:()=>{},resetTour:()=>{},popperIsOpen:!1,tourRef:null,setTourRef:()=>{},currentTourStep:null,handleNextTourStep:()=>{},syncTourStep:()=>{},closeTourStep:()=>{},closeUpToCurrentView:()=>{},closedTourSteps:[],onboardingStudioProject:!1,refreshConfigs:()=>{},showStudioLaunchPage:!1,setShowStudioLaunchPage:()=>{},revertNewAuditUI:!1,setRevertNewAuditUI:()=>{},launchError:""}),OnboardingProvider=e=>{let{children:t,...s}=e,[i,n]=(0,m.useState)(),[a,o]=(0,m.useState)(),[r,l]=(0,m.useState)(s.project),[d,h]=(0,m.useState)(),[u,j]=(0,m.useState)(),[A,I]=(0,m.useState)(),[N,L]=(0,m.useState)(s.taskType),[E,_]=(0,m.useState)(),[M,D]=(0,m.useState)(void 0),[R,P]=(0,m.useState)(),[z,O]=(0,m.useState)([{name:"creation",status:"complete"},{name:"data",status:"incomplete"},{name:"task",status:"locked"},{name:"batch",status:"locked"},{name:"summary",status:"locked"}]),[V,B]=(0,m.useState)(),[F,U]=(0,m.useState)(),[q,Z]=(0,m.useState)(),[H,Y]=(0,m.useState)(),[G,W]=(0,m.useState)(),[Q,K]=(0,m.useState)(),[J,X]=(0,m.useState)(),[$,ee]=(0,m.useState)(),[et,es]=(0,m.useState)(),ei=(0,m.useMemo)(()=>$===x.BatchCreationType.SelfLabel,[$]),[en,ea]=(0,m.useState)(),[eo,er]=(0,m.useState)(!1),[ec,el]=(0,m.useState)(w().zipObject(Object.values(c),Array(Object.keys(c).length).fill(!1))),[ed,eh]=(0,m.useState)(!1),[eu,ep]=(0,m.useState)(),[em,ex]=(0,m.useState)(!1),[ef,eg]=(0,m.useState)(),[eb,ey]=(0,m.useState)(),{isProjectAttachmentCoveredByHipaa:ev,refresh:ej}=(0,k.mh)(null==r?void 0:r.id),[ew,ek]=(0,m.useState)(!1),[eC,eS]=(0,m.useState)(!1),eT=(0,C.ZP)("rapid-onboarding-v3",{},!1)||!1,{isStudioUrl:eA}=(0,y.ir)(),eI=(0,C.ZP)("rapid-plug-and-play",{},!1)&&!eA()||!1,eN=(0,C.ZP)("rapid-plug-and-play-v2",{},!1)&&!eA()||!1,eL=(0,m.useMemo)(()=>(null==r?void 0:r.rapidPlugAndPlayType)&&[g.RapidPlugAndPlayType.Summarization,g.RapidPlugAndPlayType.Generation].includes(r.rapidPlugAndPlayType),[r]),[eE,e_]=(0,m.useState)(!1),[eM,eD]=(0,m.useState)(!1),[eR,eP]=(0,m.useState)(!1),[ez,eO]=(0,m.useState)(""),[eV,eB]=(0,m.useState)(0),[eF,eU]=(0,m.useState)(!1),{tourRef:eq,setTourRef:eZ,currentTourStep:eH,handleNextTourStep:eY,syncTourStep:eG,closeTourStep:eW,closeUpToCurrentView:eQ,closedTourSteps:eK,handleExitTour:eJ,handleEnterTour:eX,resetTour:e$}=(0,k.MC)(eC,!r||(null==r?void 0:r.projectType)===x.ProjectType.SelfServe),e0=!w().isNil(eq)&&eH&&eH.name&&!eK.includes(eH.name),e1=(0,m.useCallback)(()=>{let finalize=async()=>{let e;eO(""),eM&&ev&&await b.Z.selfserve.updateCustomerAttachmentHipaaCoverage({isAttachmentCoveredByHipaa:ev});let t={enableOcr:N===f.TaskType.DocumentTranscription,isAudioTranscription:!1,containsAdultContent:!1},s=3;for(;s>0;)try{e=await b.Z.selfserve.updateInitialSetup({project:null==r?void 0:r.id,taskType:N,...en,...eM?t:{},useLabelerManagementPlatform:!!eM,skipOverrideValidators:!0});break}catch(e){s--}if(e&&e.success){l(e.project);let t={project:e.project.id,filterByHasTask:!1,selectionQueryFilter:F};(null==r?void 0:r.rapidPlugAndPlayGeneratePrompts)?t.size=Q:q?(t.choice=q,t.size=H):Object.keys(V).length>0&&(t.uploadedAssetIds=Object.keys(V),t.size=Object.keys(V).length),$===x.BatchCreationType.RegularBatch||$===x.BatchCreationType.SelfLabel?(t.batchName=et,t.launch=(null==r?void 0:r.rapidPlugAndPlayType)?$!==x.BatchCreationType.SelfLabel:eM,await b.Z.selfserve.createRegularBatch(t,{idempotencyKey:g.IdempotencyKey.regularBatch})):await b.Z.selfserve.createInstructionBatch(t,{idempotencyKey:g.IdempotencyKey.calibrationBatch})}else eO("Project configurations did not get initialized properly. Batch will not be launched. Please try creating another project or contact scale_studio@scale.com for support.");eM&&eP(!0),n(!0),Y(void 0),B(void 0),h("creation"),j("creation"),W(void 0),I(void 0),U(void 0),K(void 0),X(void 0),es(void 0),eS(!1),eJ()};finalize()},[$,et,V,r,en,F,q,H,N,eM,ev]);(0,m.useEffect)(()=>{if(W(void 0),I(void 0),null==r?void 0:r.id){let getProjectState=async()=>{let e;n(void 0),o(!0);let t=(0,S.bd)(r);eD(t),el(w().zipObject(Object.values(c),Array(Object.keys(c).length).fill(!1)));let{regularBatchExists:s,calibrationBatchExists:i,selfLabelBatchExists:a,uploadedAssetsExist:l,taskExists:d,useCase:u,instruction:p,isLlmControlCenterProject:m}=await b.Z.selfserve.fetchState({project:r.id}),x=await b.Z.selfserve.fetchProjectTaxonomy({project:r.id});try{e=eT?await b.Z.selfserve.fetchProjectInstructionsV2({projectId:r.id,project:r.id}):await b.Z.selfserve.fetchProjectInstructions({project:r.id})}catch(t){e=void 0}let f=!!(s||i||a||d||m);t&&(f=!!(f||(null==p?void 0:p.instructionObjectId))),n(f),(0,S.sW)(r)&&e_(!f),_(u),I(l);let g=t?[]:[{name:"summary",status:"locked"}];eL?r.rapidPlugAndPlayGeneratePrompts?(O([{name:"creation",status:"complete"},{name:"taxonomy",status:"incomplete"},{name:"instruction",status:"locked"},{name:"batch",status:"locked"},...g]),h("taxonomy"),j("taxonomy")):(O([{name:"creation",status:"complete"},{name:"data",status:"incomplete"},{name:"taxonomy",status:"locked"},{name:"instruction",status:"locked"},{name:"batch",status:"locked"},...g]),h("dataview"),j("data")):(l?eT?(O([{name:"creation",status:"complete"},{name:"data",status:"complete"},{name:"projectconfig",status:"incomplete"},{name:"taxonomy",status:"locked"},{name:"instruction",status:"locked"},{name:"batch",status:"locked"},...g]),h("projectconfig"),j("projectconfig")):(O([{name:"creation",status:"complete"},{name:"data",status:"complete"},{name:"task",status:"incomplete"},{name:"batch",status:"locked"},...g]),h("task"),j("task")):eT?O([{name:"creation",status:"complete"},{name:"data",status:"incomplete"},{name:"projectconfig",status:"locked"},{name:"taxonomy",status:"locked"},{name:"instruction",status:"locked"},{name:"batch",status:"locked"},...g]):O([{name:"creation",status:"complete"},{name:"data",status:"incomplete"},{name:"task",status:"locked"},{name:"batch",status:"locked"},...g]),eT&&((u||x.taxonomy)&&(O([{name:"creation",status:"complete"},{name:"data",status:"complete"},{name:"projectconfig",status:"complete"},{name:"taxonomy",status:"incomplete"},{name:"instruction",status:"locked"},{name:"batch",status:"locked"},...g]),eC?(h("dataview"),j("data")):(h("taxonomy"),j("taxonomy"))),(null==e?void 0:e.instruction)&&(O([{name:"creation",status:"complete"},{name:"data",status:"complete"},{name:"projectconfig",status:"complete"},{name:"taxonomy",status:"complete"},{name:"instruction",status:"incomplete"},{name:"batch",status:"locked"},...g]),h("instruction"),j("instruction"))))};o(!1),getProjectState()}else void 0!==(null==r?void 0:r.id)&&(n(!1),o(!1))},[null==r?void 0:r.id,eT]);let e5=(0,m.useCallback)(()=>{eB(e=>e+1)},[eB]);return(0,m.useEffect)(()=>{if(r){let fetchProjectOptions=async()=>{o(!0);let{pipelineName:e,numReviews:t,consensus:s,requiredLanguage:i,languageExpertise:n,customOcrUrl:a,ocrProvider:c,commonErrors:l,autoRedos:d}=await b.Z.selfserve.fetchConfigValues({project:r.id});ea({isAudioTranscription:!!r.isAudioTranscription,containsAdultContent:!!r.containsAdultContent,pipelineName:e||(0,y.av)(r.type),taskerLanguageRequirement:{language:i||v.Languages.English,level:n||x.FluencyLevel.Basic},numReviews:t,numConsensus:s,...eM?{ocrConfig:{customUrl:a,serviceProvider:c},commonErrors:l,autoRedos:d}:{}}),o(!1)};fetchProjectOptions()}},[r,eV]),(0,m.useEffect)(()=>{er(!!(null==r?void 0:r.useOldOnboarding))},[null==r?void 0:r.useOldOnboarding]),(0,m.useEffect)(()=>{if(r){let fetchHipaaCoverage=async()=>{let{isAttachmentCoveredByHipaa:e}=await b.Z.selfserve.fetchProjectAttachmentHipaaCoverage({project:r.id});el(t=>({...t,[c.HIPAA_ATTACHMENTS]:e}))};fetchHipaaCoverage()}},[r]),(0,p.jsx)(T.Provider,{value:{isOnboardingComplete:i,setIsOnboardingComplete:n,loading:a,setLoading:o,project:r,setProject:l,currentView:d,setCurrentView:h,currentStep:u,hasAssets:A,setHasAssets:I,setCurrentStep:j,onboardingSteps:z,setOnboardingSteps:O,firstBatchSelectedMap:V,setFirstBatchSelectedMap:B,selectionQueryFilter:F,setSelectionQueryFilter:U,firstBatchSelectionMethod:q,setFirstBatchSelectionMethod:Z,firstBatchNumTasks:H,setFirstBatchNumTasks:Y,numAssets:G,setNumAssets:W,taskCount:Q,setTaskCount:K,costEstimate:J,setCostEstimate:X,taskType:N,setTaskType:L,projectUseCase:E,setProjectUseCase:_,finalizeOnboarding:e1,nextEnabled:R,setNextEnabled:P,batchSelected:$,setBatchSelected:ee,batchName:et,setBatchName:es,isSelfLabel:ei,projectOptions:en,setProjectOptions:ea,useOldOnboarding:eo,setUseOldOnboarding:er,sensitiveDataSelections:ec,setSensitiveDataSelections:el,sensitiveDataQuestionnaireCompleted:ed,setSensitiveDataQuestionnaireCompleted:eh,useCaseType:eu,setUseCaseType:ep,footerShown:em,setFooterShown:ex,stepNext:ef,setStepNext:eg,disabledNextText:eb,setDisabledNextText:ey,isAttachmentHipaaCovered:ev,hipaaCoverageRefresh:ej,populatePriceEstimator:ew,setPopulatePriceEstimator:ek,firstTimeTemplate:eC,setFirstTimeTemplate:eS,useOnboardingV3:eT,canUsePlugAndPlay:eI,usePlugAndPlayOnboarding:eL,plugAndPlayV2:eN,collapseSidebar:eE,setCollapseSidebar:e_,templatePipeline:M,setTemplatePipeline:D,handleExitTour:eJ,handleEnterTour:eX,resetTour:e$,popperIsOpen:e0,tourRef:eq,setTourRef:eZ,currentTourStep:eH,handleNextTourStep:eY,syncTourStep:eG,closedTourSteps:eK,closeTourStep:eW,closeUpToCurrentView:eQ,onboardingStudioProject:eM,refreshConfigs:e5,showStudioLaunchPage:eR,setShowStudioLaunchPage:eP,revertNewAuditUI:eF,setRevertNewAuditUI:eU,launchError:ez},children:t})},useOnboarding=()=>(0,m.useContext)(T)},512325:function(e,t,s){s.d(t,{j:function(){return TemplateVerificationUnit}});var i=s(824246),n=s(674721),a=s.n(n),o=s(827378),r=s(298784),c=s.n(r),l=s(161320),d=s.n(l),h=s(599789);let u={[h.VerificationInquiryStatus.Completed]:"Pending",[h.VerificationInquiryStatus.Expired]:"Expired",[h.VerificationInquiryStatus.Approved]:"Approved",[h.VerificationInquiryStatus.Declined]:"Declined",[h.VerificationInquiryStatus.MarkedForReview]:"Marked for Review",[h.VerificationInquiryStatus.Failed]:"Failed",[h.VerificationInquiryStatus.Transitioned]:"Transitioned",[h.VerificationInquiryStatus.Started]:"Started",[h.VerificationInquiryStatus.Created]:"Created",[h.VerificationInquiryStatus.Redacted]:"Redacted"};var p=s(865391),m=s(635376),x=s(572111),f=s.n(x),g=s(320280),b=s(716124),y=s(242095),v=s(571085),j=s(939186);let w=[h.VerificationTemplate.SelfieOnlyReverification,h.VerificationTemplate.OutlierSelfieReverification],doesTemplateRequireCountryCode=e=>!w.includes(e),AccountVerificationLauncher=e=>{let{user:t,disabled:s,templateId:n,inquiryId:r,onVerificationCompleted:l,onVerificationEvent:d,buttonLabel:u}=e,p=(0,o.useRef)(null),m=(0,o.useCallback)(async()=>{var e,s;(0,v.Kz)(v.ju.PersonaTriggeredEvent,{userId:t.id,source:j.o.REMOTASKS_ONBOARDING});let i=null,a=null===(e=null==t?void 0:t.tags)||void 0===e?void 0:e.includes(h.TEST_ACCOUNT_TAG_ID);if(r){let e=await (0,y.fetchApi)("/worker/verifications/resume",{method:"POST",body:{inquiryId:r},parseAndHandle:!0});i=c().get(null==e?void 0:e.meta,"session-token")}p.current=new window.Persona.Client({...r?{inquiryId:r,sessionToken:i}:{templateId:n},environment:!b.IS_PROD||a?"sandbox":"production",referenceId:null==t?void 0:t.id,fields:doesTemplateRequireCountryCode(n)?{"selected-country-code":(null==t?void 0:t.verifiedCountryCode)||(null==t?void 0:t.ipCountryCode),"email-address":t.email}:{"email-address":t.email},onComplete:l(n),onEvent:d||(()=>{})}),null==p||null===(s=p.current)||void 0===s||s.open()},[null==t?void 0:t.tags,null==t?void 0:t.id,null==t?void 0:t.verifiedCountryCode,null==t?void 0:t.ipCountryCode,r,n,l,d]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"jsx-717590a73aa5b8c0 actions",children:[(0,i.jsx)(f(),{url:"https://cdn.withpersona.com/dist/persona-v4.7.1.js"}),(0,i.jsx)(g.zx,{disabled:s,onClick:m,type:"primary",fullWidth:!0,children:u})]}),(0,i.jsx)(a(),{id:"717590a73aa5b8c0",children:"fieldset.jsx-717590a73aa5b8c0{outline:0;border:0;padding:0;-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}label.jsx-717590a73aa5b8c0{display:block;margin-bottom:4px;font-weight:bold;color:rgba(0,0,0,.5)}.actions.jsx-717590a73aa5b8c0{background-color:rgb(74,145,230);color:white;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}"})]})},TemplateVerificationUnit=e=>{let{userVerifications:t,templateId:s,user:n,loading:o,onVerificationCompleted:r,onVerificationEvent:l}=e,u=s===h.VerificationTemplate.UserVerificationBestFit?(0,m.d6)(n):s,x=Object.entries(h.equivalentPersonaTemplates),f=x.find(e=>e.includes(u))||[s],g=c().filter(t,e=>f.includes(e.templateId)&&![h.VerificationInquiryStatus.Expired,h.VerificationInquiryStatus.Redacted].includes(e.status)),b=c().orderBy(g,e=>new Date(e.createdAt),["desc"])[0],y=c().filter(g,e=>[h.VerificationInquiryStatus.Created,h.VerificationInquiryStatus.Started,h.VerificationInquiryStatus.Transitioned].includes(e.status)),v=c().orderBy(y,e=>new Date(e.createdAt),["desc"])[0],j=g.filter(e=>e.status===h.VerificationInquiryStatus.Declined),w=j.length,k="Complete Verification",C=o,S=!1,T=b?b.status:null,A=!1,I=!1;return!n.forceAccountVerificationQueueNodeEvenIfCompletedBefore&&c().some(g,e=>e.status===h.VerificationInquiryStatus.Approved)?(k="Submitted",C=!0,S=!0,T=h.VerificationInquiryStatus.Approved):(null==b?void 0:b.status)===h.VerificationInquiryStatus.MarkedForReview?(k="Waiting for review",C=!0,T=h.VerificationInquiryStatus.MarkedForReview,A=!0):!n.forceAccountVerificationQueueNodeEvenIfCompletedBefore&&c().some(g,e=>e.status===h.VerificationInquiryStatus.Completed)?(k="Submitted",C=!0):w>=h.MAX_VERIFICATION_ATTEMPTS_PER_TEMPLATE?(k="Exceeded Max Attempts",C=!0):v?(k="Resume",I=!0):w>0&&w<h.MAX_VERIFICATION_ATTEMPTS_PER_TEMPLATE&&(k="Retry"),(0,i.jsxs)("div",{className:"jsx-7bf9a8f87b21cd85 container",children:[(0,i.jsxs)("div",{className:"jsx-7bf9a8f87b21cd85",children:[(0,i.jsx)("div",{className:"jsx-7bf9a8f87b21cd85 row",children:(0,i.jsxs)("span",{className:"jsx-7bf9a8f87b21cd85 name-and-status",children:[(0,i.jsx)("span",{className:"jsx-7bf9a8f87b21cd85 entry-name",children:"".concat(p.xG[u])}),!A&&(0,i.jsxs)("span",{className:"jsx-7bf9a8f87b21cd85",children:[" ",(0,i.jsx)(VerificationStatus,{status:T,forceRedo:n.forceAccountVerificationQueueNodeEvenIfCompletedBefore})]})]})}),(0,i.jsx)("div",{className:"jsx-7bf9a8f87b21cd85 row",children:(0,i.jsx)("span",{className:"jsx-7bf9a8f87b21cd85 last-verification-title",children:"PAST SUBMISSION"})}),(0,i.jsx)("div",{className:"jsx-7bf9a8f87b21cd85 row",children:(0,i.jsx)("span",{className:"jsx-7bf9a8f87b21cd85 last-verification",children:b?"Started on ".concat(d()(b.createdAt).format("YYYY-MM-DD")):"No past submissions"})})]}),(0,i.jsx)("div",{className:"jsx-7bf9a8f87b21cd85 launcher-container",children:(0,i.jsx)("div",{className:"jsx-7bf9a8f87b21cd85 row",children:(0,i.jsx)("span",{style:{width:S?"auto":"100%"},className:"jsx-7bf9a8f87b21cd85 launcher",children:!S&&(0,i.jsx)(AccountVerificationLauncher,{user:n,disabled:C,templateId:u,onVerificationCompleted:r,onVerificationEvent:l,buttonLabel:k,inquiryId:I?null==v?void 0:v.inquiryId:null})})})}),(0,i.jsx)(a(),{id:"7bf9a8f87b21cd85",children:".container.jsx-7bf9a8f87b21cd85{border:1px solid var(--color-RemoGray20);-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;margin-top:16px;max-width:700px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.row.jsx-7bf9a8f87b21cd85{padding:0 14px}.row.jsx-7bf9a8f87b21cd85 span.entry-name.jsx-7bf9a8f87b21cd85{font-weight:500}.row.jsx-7bf9a8f87b21cd85 span.name-and-status.jsx-7bf9a8f87b21cd85{padding:12px 0 6px 0;display:block}.row.jsx-7bf9a8f87b21cd85 span.last-verification-title.jsx-7bf9a8f87b21cd85{font-size:9px;text-transform:uppercase}.row.jsx-7bf9a8f87b21cd85 span.last-verification.jsx-7bf9a8f87b21cd85{margin-bottom:12px;display:block}.row.jsx-7bf9a8f87b21cd85 span.jsx-7bf9a8f87b21cd85{width:100%;max-width:100%}.launcher-container.jsx-7bf9a8f87b21cd85{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}@media(max-width:600px){.row.jsx-7bf9a8f87b21cd85{width:100%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.row.jsx-7bf9a8f87b21cd85 span.launcher.jsx-7bf9a8f87b21cd85{margin:0}}"})]})},VerificationStatus=e=>{let{status:t,forceRedo:s}=e,n="black",r=(0,o.useMemo)(()=>s?"Required Even If Previously Completed":t?u[t]:"Required",[t,s]);switch(t){case h.VerificationInquiryStatus.Expired:case h.VerificationInquiryStatus.Declined:n="red";break;case h.VerificationInquiryStatus.Approved:s||(n="var(--color-RemoGreen)");break;case h.VerificationInquiryStatus.Completed:n="#C9A500"}return(0,i.jsxs)("span",{className:a().dynamic([["24b0b7b321cf997d",[n]]])+" status-legend",children:["".concat(r),(0,i.jsx)(a(),{id:"24b0b7b321cf997d",dynamic:[n],children:".status-legend.__jsx-style-dynamic-selector{color:".concat(n,";font-weight:500;font-size:12px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:3px 8px;gap:4px;width:68px;height:24px;background:#f3f4f6;-webkit-border-radius:1e3px;-moz-border-radius:1e3px;border-radius:1e3px}")})]})}},681098:function(e,t,s){s.d(t,{Z:function(){return UI_LinkedInLinkButton}});var i=s(824246);s(827378);var n=s(467659),a=s(631913),o=s(599789),r=s(792739),c=s(352991),l=s(320280),d=s(788524),h=s(416534),u=s(713222),UI_LinkedInLinkButton=e=>{let{verified:t,userId:s,redirectUrl:p,platform:m=o.TaskingPlatform.Remotasks,required:x=!1,vanityName:f="",fromOnboarding:g=!1}=e,b={},y="";m===o.TaskingPlatform.Remotasks?y="/internal/login/remotasks/linkedin-remotasks":m===o.TaskingPlatform.Outlier&&(y="/internal/login/outlier/linkedin-outlier"),p&&(b.redirect_url=p),s&&(b.userId=s);let v=(0,n.KV)("",y,b),handleUnlinkLinkedIn=async()=>{try{let e=await (0,c.ZP)(null,"internal/worker/profile/unlink_linkedin",{method:"POST"});e.ok&&(t=!1,window.location.reload())}catch(e){(0,c.cF)(e,"Failed to unlink LinkedIn account")}};return m===o.TaskingPlatform.Outlier?(0,i.jsxs)("div",{className:"flex items-center px-4 py-3 border rounded-lg min-w-fit max-sm:flex-wrap gap-4",style:{border:"1px solid var(--color-RemoGray20)"},children:[(0,i.jsx)("div",{className:"flex shrink-0 w-12 h-12 p-[7.5px] justify-center items-center gap-[7.5px] rounded bg-white shadow",children:(0,i.jsx)("img",{src:"https://scale-static-assets.s3.us-west-2.amazonaws.com/outlier/images/linkedin.png",className:"rounded pl-0.5"})}),(0,i.jsxs)("div",{className:"flex flex-col flex-grow mx-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("p",{className:"text-sm font-medium",children:"LinkedIn Account"}),(0,i.jsx)("div",{className:"ml-2 max-h-6 pl-0.5",children:(x||t)&&(0,i.jsx)(d.V,{variant:t?"success":"neutral",children:t?"Connected":"Required"})})]}),(0,i.jsx)("p",{className:"text-sm mt-2 text-neutral-500",style:{wordBreak:"break-word"},children:t?"LinkedIn account ".concat(f," connected"):"Connect your LinkedIn account to verify your identity. You can unlink your account at any time."})]}),(0,i.jsx)("div",{children:t?g?null:(0,i.jsx)(h.zx,{className:"px-2 py-2 w-max",variant:"white",onClick:()=>handleUnlinkLinkedIn(),children:"Disconnect"}):(0,i.jsx)(h.zx,{className:"px-2 py-2 w-max",variant:"primary",onClick:()=>{window.location.href=v},children:"Connect LinkedIn"})}),t&&(0,i.jsx)(u.J,{icon:"check-circle",variant:"primary",size:"lg"})]}):t?(0,i.jsxs)("div",{style:{display:"flex",flexGrow:1},children:[(0,i.jsx)(a.Z,{}),(0,i.jsxs)("p",{style:{width:"50%"},className:"social-button linkedin-button",children:[(0,i.jsx)("span",{className:"social-button-icon linkedin-icon"}),(0,i.jsxs)("span",{className:"social-button-text",children:[" ","linkedin verified"]})]}),(0,i.jsx)(l.u,{title:"Unlink Your LinkedIn Account",children:(0,i.jsx)(l.hU,{size:"small",onClick:()=>handleUnlinkLinkedIn(),children:(0,i.jsx)(r.FontAwesomeIcon,{icon:"unlink",color:"grey"})})})]}):(0,i.jsxs)("div",{style:{display:"flex",flexGrow:1},children:[(0,i.jsx)(a.Z,{}),(0,i.jsxs)("a",{href:v,style:{width:"50%"},className:"social-button linkedin-button",children:[(0,i.jsx)("span",{className:"social-button-icon linkedin-icon"}),(0,i.jsxs)("span",{className:"social-button-text",children:[" ","connect to linkedin"]})]})]})}}}]);